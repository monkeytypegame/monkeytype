/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/styles/index.scss":
/*!*******************************!*\
  !*** ./src/styles/index.scss ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/styles/index.scss?");

/***/ }),

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!***************************************************!*\
  !*** ./node_modules/moment/locale/ sync ^\.\/.*$ ***!
  \***************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var map = {\n\t\"./af\": \"./node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"./node_modules/moment/locale/af.js\",\n\t\"./ar\": \"./node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"./node_modules/moment/locale/ar.js\",\n\t\"./az\": \"./node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"./node_modules/moment/locale/az.js\",\n\t\"./be\": \"./node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"./node_modules/moment/locale/be.js\",\n\t\"./bg\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bn-bd\": \"./node_modules/moment/locale/bn-bd.js\",\n\t\"./bn-bd.js\": \"./node_modules/moment/locale/bn-bd.js\",\n\t\"./bn.js\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"./node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"./node_modules/moment/locale/bo.js\",\n\t\"./br\": \"./node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"./node_modules/moment/locale/br.js\",\n\t\"./bs\": \"./node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"./node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"./node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"./node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"./node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"./node_modules/moment/locale/cy.js\",\n\t\"./da\": \"./node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"./node_modules/moment/locale/da.js\",\n\t\"./de\": \"./node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"./node_modules/moment/locale/de.js\",\n\t\"./dv\": \"./node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"./node_modules/moment/locale/dv.js\",\n\t\"./el\": \"./node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"./node_modules/moment/locale/el.js\",\n\t\"./en-au\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-in\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-in.js\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-nz\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-sg\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./en-sg.js\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./eo\": \"./node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"./node_modules/moment/locale/eo.js\",\n\t\"./es\": \"./node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-mx\": \"./node_modules/moment/locale/es-mx.js\",\n\t\"./es-mx.js\": \"./node_modules/moment/locale/es-mx.js\",\n\t\"./es-us\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"./node_modules/moment/locale/es.js\",\n\t\"./et\": \"./node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"./node_modules/moment/locale/et.js\",\n\t\"./eu\": \"./node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"./node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fil\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fil.js\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fo\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"./node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"./node_modules/moment/locale/fy.js\",\n\t\"./ga\": \"./node_modules/moment/locale/ga.js\",\n\t\"./ga.js\": \"./node_modules/moment/locale/ga.js\",\n\t\"./gd\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gom-deva\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-deva.js\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-latn\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"./node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"./node_modules/moment/locale/gu.js\",\n\t\"./he\": \"./node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"./node_modules/moment/locale/he.js\",\n\t\"./hi\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"./node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"./node_modules/moment/locale/id.js\",\n\t\"./is\": \"./node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"./node_modules/moment/locale/is.js\",\n\t\"./it\": \"./node_modules/moment/locale/it.js\",\n\t\"./it-ch\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it-ch.js\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it.js\": \"./node_modules/moment/locale/it.js\",\n\t\"./ja\": \"./node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"./node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"./node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"./node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"./node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"./node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"./node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"./node_modules/moment/locale/kk.js\",\n\t\"./km\": \"./node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"./node_modules/moment/locale/km.js\",\n\t\"./kn\": \"./node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"./node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ku\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ku.js\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ky\": \"./node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"./node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"./node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"./node_modules/moment/locale/lv.js\",\n\t\"./me\": \"./node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"./node_modules/moment/locale/me.js\",\n\t\"./mi\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"./node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"./node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"./node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"./node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"./node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"./node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"./node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"./node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"./node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"./node_modules/moment/locale/mt.js\",\n\t\"./my\": \"./node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"./node_modules/moment/locale/my.js\",\n\t\"./nb\": \"./node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"./node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"./node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"./node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"./node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"./node_modules/moment/locale/nn.js\",\n\t\"./oc-lnc\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./oc-lnc.js\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./pa-in\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"./node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"./node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"./node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"./node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"./node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"./node_modules/moment/locale/sd.js\",\n\t\"./se\": \"./node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"./node_modules/moment/locale/se.js\",\n\t\"./si\": \"./node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"./node_modules/moment/locale/si.js\",\n\t\"./sk\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"./node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"./node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"./node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"./node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"./node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"./node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"./node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"./node_modules/moment/locale/ta.js\",\n\t\"./te\": \"./node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"./node_modules/moment/locale/te.js\",\n\t\"./tet\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"./node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"./node_modules/moment/locale/tg.js\",\n\t\"./th\": \"./node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"./node_modules/moment/locale/th.js\",\n\t\"./tk\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tk.js\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tl-ph\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"./node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"./node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"./node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"./node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"./node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"./node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"./node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"./node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"./node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"./node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-mo\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-mo.js\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-tw\": \"./node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"./node_modules/moment/locale/zh-tw.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment/locale sync recursive ^\\\\.\\\\/.*$\";\n\n//# sourceURL=webpack://monkeytype-frontend/./node_modules/moment/locale/_sync_^\\.\\/.*$?");

/***/ }),

/***/ "./src/scripts/account/all-time-stats.ts":
/*!***********************************************!*\
  !*** ./src/scripts/account/all-time-stats.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"clear\": () => (/* binding */ clear),\n/* harmony export */   \"update\": () => (/* binding */ update)\n/* harmony export */ });\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../db */ \"./src/scripts/db.ts\");\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n\n\nfunction clear() {\n    $(\".pageAccount .globalTimeTyping .val\").text(`-`);\n    $(\".pageAccount .globalTestsStarted .val\").text(`-`);\n    $(\".pageAccount .globalTestsCompleted .val\").text(`-`);\n}\nfunction update() {\n    var _a, _b;\n    const snapshot = _db__WEBPACK_IMPORTED_MODULE_0__.getSnapshot();\n    if (snapshot.globalStats !== undefined) {\n        // let th = Math.floor(DB.getSnapshot().globalStats.time / 3600);\n        // let tm = Math.floor((DB.getSnapshot().globalStats.time % 3600) / 60);\n        // let ts = Math.floor((DB.getSnapshot().globalStats.time % 3600) % 60);\n        const seconds = (_b = (_a = snapshot === null || snapshot === void 0 ? void 0 : snapshot.globalStats) === null || _a === void 0 ? void 0 : _a.time) !== null && _b !== void 0 ? _b : 0;\n        let string = \"\";\n        if (seconds === 0) {\n            string = \"-\";\n        }\n        else {\n            string = _utils_misc__WEBPACK_IMPORTED_MODULE_1__.secondsToString(Math.round(seconds), true, true);\n        }\n        $(\".pageAccount .globalTimeTyping .val\").text(string);\n    }\n    if (snapshot.globalStats !== undefined) {\n        $(\".pageAccount .globalTestsStarted .val\").text(snapshot.globalStats.started);\n    }\n    if (snapshot.globalStats !== undefined) {\n        $(\".pageAccount .globalTestsCompleted .val\").text(snapshot.globalStats.completed);\n    }\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/account/all-time-stats.ts?");

/***/ }),

/***/ "./src/scripts/account/mini-result-chart.ts":
/*!**************************************************!*\
  !*** ./src/scripts/account/mini-result-chart.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"updatePosition\": () => (/* binding */ updatePosition),\n/* harmony export */   \"show\": () => (/* binding */ show),\n/* harmony export */   \"updateData\": () => (/* binding */ updateData)\n/* harmony export */ });\n/* harmony import */ var _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/chart-controller */ \"./src/scripts/controllers/chart-controller.js\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n\n\nfunction updatePosition(x, y) {\n    $(\".pageAccount .miniResultChartWrapper\").css({ top: y, left: x });\n}\nfunction show() {\n    $(\".pageAccount .miniResultChartWrapper\").stop(true, true).fadeIn(125);\n    $(\".pageAccount .miniResultChartBg\").stop(true, true).fadeIn(125);\n}\nfunction hide() {\n    $(\".pageAccount .miniResultChartWrapper\").stop(true, true).fadeOut(125);\n    $(\".pageAccount .miniResultChartBg\").stop(true, true).fadeOut(125);\n}\nfunction updateData(data) {\n    // let data = filteredResults[filteredId].chartData;\n    const labels = [];\n    for (let i = 1; i <= data.wpm.length; i++) {\n        labels.push(i.toString());\n    }\n    _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_0__.miniResult.data.labels = labels;\n    _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_0__.miniResult.data.datasets[0].data = data.wpm;\n    _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_0__.miniResult.data.datasets[1].data = data.raw;\n    _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_0__.miniResult.data.datasets[2].data = data.err;\n    _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_0__.miniResult.updateColors();\n    const maxChartVal = Math.max(...[Math.max(...data.wpm), Math.max(...data.raw)]);\n    const minChartVal = Math.min(...[Math.min(...data.wpm), Math.min(...data.raw)]);\n    _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_0__.miniResult.options.scales.yAxes[0].ticks.max =\n        Math.round(maxChartVal);\n    _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_0__.miniResult.options.scales.yAxes[1].ticks.max =\n        Math.round(maxChartVal);\n    if (!_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].startGraphsAtZero) {\n        _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_0__.miniResult.options.scales.yAxes[0].ticks.min =\n            Math.round(minChartVal);\n        _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_0__.miniResult.options.scales.yAxes[1].ticks.min =\n            Math.round(minChartVal);\n    }\n    else {\n        _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_0__.miniResult.options.scales.yAxes[0].ticks.min = 0;\n        _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_0__.miniResult.options.scales.yAxes[1].ticks.min = 0;\n    }\n    _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_0__.miniResult.update();\n}\n$(document).on(\"click\", \".pageAccount .miniResultChartBg\", () => {\n    hide();\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/account/mini-result-chart.ts?");

/***/ }),

/***/ "./src/scripts/account/pb-tables.ts":
/*!******************************************!*\
  !*** ./src/scripts/account/pb-tables.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"update\": () => (/* binding */ update)\n/* harmony export */ });\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../db */ \"./src/scripts/db.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! date-fns */ \"./node_modules/date-fns/esm/format/index.js\");\n\n\n\n\nfunction update() {\n    $(\".pageAccount .timePbTable tbody\").html(`\n  <tr>\n    <td>15</td>\n    <td>-</td>\n    <td>-</td>\n    <td>-</td>\n    <td>-</td>\n  </tr>\n  <tr>\n    <td>30</td>\n    <td>-</td>\n    <td>-</td>\n    <td>-</td>\n    <td>-</td>\n  </tr>\n  <tr>\n    <td>60</td>\n    <td>-</td>\n    <td>-</td>\n    <td>-</td>\n    <td>-</td>\n  </tr>\n  <tr>\n    <td>120</td>\n    <td>-</td>\n    <td>-</td>\n    <td>-</td>\n    <td>-</td>\n  </tr>\n  `);\n    $(\".pageAccount .wordsPbTable tbody\").html(`\n  <tr>\n    <td>10</td>\n    <td>-</td>\n    <td>-</td>\n    <td>-</td>\n    <td>-</td>\n  </tr>\n  <tr>\n    <td>25</td>\n    <td>-</td>\n    <td>-</td>\n    <td>-</td>\n    <td>-</td>\n  </tr>\n  <tr>\n    <td>50</td>\n    <td>-</td>\n    <td>-</td>\n    <td>-</td>\n    <td>-</td>\n  </tr>\n  <tr>\n    <td>100</td>\n    <td>-</td>\n    <td>-</td>\n    <td>-</td>\n    <td>-</td>\n  </tr>\n  `);\n    if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].alwaysShowCPM) {\n        $(\".pageAccount .timePbTable thead tr td:nth-child(2), .pageAccount .wordsPbTable thead tr td:nth-child(2)\").html('cpm<br><span class=\"sub\">accuracy</span>');\n    }\n    else {\n        $(\".pageAccount .timePbTable thead tr td:nth-child(2), .pageAccount .wordsPbTable thead tr td:nth-child(2)\").html('wpm<br><span class=\"sub\">accuracy</span>');\n    }\n    const pb = _db__WEBPACK_IMPORTED_MODULE_0__.getSnapshot().personalBests;\n    if (pb === undefined)\n        return;\n    let pbData;\n    let text;\n    let dateText = `-<br><span class=\"sub\">-</span>`;\n    const multiplier = _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].alwaysShowCPM ? 5 : 1;\n    text = \"\";\n    try {\n        pbData = pb.time[15].sort((a, b) => b.wpm - a.wpm)[0];\n        dateText = `-<br><span class=\"sub\">-</span>`;\n        const date = new Date(pbData.timestamp);\n        if (pbData.timestamp) {\n            dateText =\n                (0,date_fns__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(date, \"dd MMM yyyy\") +\n                    \"<br><div class='sub'>\" +\n                    (0,date_fns__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(date, \"HH:mm\") +\n                    \"</div>\";\n        }\n        text += `<tr>\n      <td>15</td>\n      <td>${_utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(pbData.wpm * multiplier)}<br><span class=\"sub\">${pbData.acc === undefined ? \"-\" : pbData.acc + \"%\"}</span></td>\n      <td>${_utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(pbData.raw * multiplier)}<br><span class=\"sub\">${pbData.consistency === undefined ? \"-\" : pbData.consistency + \"%\"}</span></td>\n      <td>${dateText}</td>\n    </tr>`;\n    }\n    catch (e) {\n        text += `<tr>\n      <td>15</td>\n      <td>-<br><span class=\"sub\">-</span></td>\n      <td>-<br><span class=\"sub\">-</span></td>\n      <td>-<br><span class=\"sub\">-</span></td>\n    </tr>`;\n    }\n    try {\n        pbData = pb.time[30].sort((a, b) => b.wpm - a.wpm)[0];\n        dateText = `-<br><span class=\"sub\">-</span>`;\n        const date = new Date(pbData.timestamp);\n        if (pbData.timestamp) {\n            dateText =\n                (0,date_fns__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(date, \"dd MMM yyyy\") +\n                    \"<br><div class='sub'>\" +\n                    (0,date_fns__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(date, \"HH:mm\") +\n                    \"</div>\";\n        }\n        text += `<tr>\n    <td>30</td>\n      <td>${_utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(pbData.wpm * multiplier)}<br><span class=\"sub\">${pbData.acc === undefined ? \"-\" : pbData.acc + \"%\"}</span></td>\n      <td>${_utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(pbData.raw * multiplier)}<br><span class=\"sub\">${pbData.consistency === undefined ? \"-\" : pbData.consistency + \"%\"}</span></td>\n      <td>${dateText}</td>\n    </tr>`;\n    }\n    catch (e) {\n        text += `<tr>\n      <td>30</td>\n      <td>-<br><span class=\"sub\">-</span></td>\n      <td>-<br><span class=\"sub\">-</span></td>\n      <td>-<br><span class=\"sub\">-</span></td>\n    </tr>`;\n    }\n    try {\n        pbData = pb.time[60].sort((a, b) => b.wpm - a.wpm)[0];\n        dateText = `-<br><span class=\"sub\">-</span>`;\n        const date = new Date(pbData.timestamp);\n        if (pbData.timestamp) {\n            dateText =\n                (0,date_fns__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(date, \"dd MMM yyyy\") +\n                    \"<br><div class='sub'>\" +\n                    (0,date_fns__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(date, \"HH:mm\") +\n                    \"</div>\";\n        }\n        text += `<tr>\n      <td>60</td>\n      <td>${_utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(pbData.wpm * multiplier)}<br><span class=\"sub\">${pbData.acc === undefined ? \"-\" : pbData.acc + \"%\"}</span></td>\n      <td>${_utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(pbData.raw * multiplier)}<br><span class=\"sub\">${pbData.consistency === undefined ? \"-\" : pbData.consistency + \"%\"}</span></td>\n      <td>${dateText}</td>\n    </tr>`;\n    }\n    catch (e) {\n        text += `<tr>\n      <td>60</td>\n      <td>-<br><span class=\"sub\">-</span></td>\n      <td>-<br><span class=\"sub\">-</span></td>\n      <td>-<br><span class=\"sub\">-</span></td>\n    </tr>`;\n    }\n    try {\n        pbData = pb.time[120].sort((a, b) => b.wpm - a.wpm)[0];\n        dateText = `-<br><span class=\"sub\">-</span>`;\n        const date = new Date(pbData.timestamp);\n        if (pbData.timestamp) {\n            dateText =\n                (0,date_fns__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(date, \"dd MMM yyyy\") +\n                    \"<br><div class='sub'>\" +\n                    (0,date_fns__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(date, \"HH:mm\") +\n                    \"</div>\";\n        }\n        text += `<tr>\n      <td>120</td>\n      <td>${_utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(pbData.wpm * multiplier)}<br><span class=\"sub\">${pbData.acc === undefined ? \"-\" : pbData.acc + \"%\"}</span></td>\n      <td>${_utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(pbData.raw * multiplier)}<br><span class=\"sub\">${pbData.consistency === undefined ? \"-\" : pbData.consistency + \"%\"}</span></td>\n      <td>${dateText}</td>\n    </tr>`;\n    }\n    catch (e) {\n        text += `<tr>\n      <td>120</td>\n      <td>-<br><span class=\"sub\">-</span></td>\n      <td>-<br><span class=\"sub\">-</span></td>\n      <td>-<br><span class=\"sub\">-</span></td>\n    </tr>`;\n    }\n    $(\".pageAccount .timePbTable tbody\").html(text);\n    text = \"\";\n    try {\n        pbData = pb.words[10].sort((a, b) => b.wpm - a.wpm)[0];\n        dateText = `-<br><span class=\"sub\">-</span>`;\n        const date = new Date(pbData.timestamp);\n        if (pbData.timestamp) {\n            dateText =\n                (0,date_fns__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(date, \"dd MMM yyyy\") +\n                    \"<br><div class='sub'>\" +\n                    (0,date_fns__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(date, \"HH:mm\") +\n                    \"</div>\";\n        }\n        text += `<tr>\n      <td>10</td>\n      <td>${_utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(pbData.wpm * multiplier)}<br><span class=\"sub\">${pbData.acc === undefined ? \"-\" : pbData.acc + \"%\"}</span></td>\n      <td>${_utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(pbData.raw * multiplier)}<br><span class=\"sub\">${pbData.consistency === undefined ? \"-\" : pbData.consistency + \"%\"}</span></td>\n      <td>${dateText}</td>\n    </tr>`;\n    }\n    catch (e) {\n        text += `<tr>\n      <td>10</td>\n      <td>-<br><span class=\"sub\">-</span></td>\n      <td>-<br><span class=\"sub\">-</span></td>\n      <td>-<br><span class=\"sub\">-</span></td>\n    </tr>`;\n    }\n    try {\n        pbData = pb.words[25].sort((a, b) => b.wpm - a.wpm)[0];\n        dateText = `-<br><span class=\"sub\">-</span>`;\n        const date = new Date(pbData.timestamp);\n        if (pbData.timestamp) {\n            dateText =\n                (0,date_fns__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(date, \"dd MMM yyyy\") +\n                    \"<br><div class='sub'>\" +\n                    (0,date_fns__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(date, \"HH:mm\") +\n                    \"</div>\";\n        }\n        text += `<tr>\n      <td>25</td>\n      <td>${_utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(pbData.wpm * multiplier)}<br><span class=\"sub\">${pbData.acc === undefined ? \"-\" : pbData.acc + \"%\"}</span></td>\n      <td>${_utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(pbData.raw * multiplier)}<br><span class=\"sub\">${pbData.consistency === undefined ? \"-\" : pbData.consistency + \"%\"}</span></td>\n      <td>${dateText}</td>\n    </tr>`;\n    }\n    catch (e) {\n        text += `<tr>\n      <td>25</td>\n      <td>-<br><span class=\"sub\">-</span></td>\n      <td>-<br><span class=\"sub\">-</span></td>\n      <td>-<br><span class=\"sub\">-</span></td>\n    </tr>`;\n    }\n    try {\n        pbData = pb.words[50].sort((a, b) => b.wpm - a.wpm)[0];\n        dateText = `-<br><span class=\"sub\">-</span>`;\n        const date = new Date(pbData.timestamp);\n        if (pbData.timestamp) {\n            dateText =\n                (0,date_fns__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(date, \"dd MMM yyyy\") +\n                    \"<br><div class='sub'>\" +\n                    (0,date_fns__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(date, \"HH:mm\") +\n                    \"</div>\";\n        }\n        text += `<tr>\n      <td>50</td>\n      <td>${_utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(pbData.wpm * multiplier)}<br><span class=\"sub\">${pbData.acc === undefined ? \"-\" : pbData.acc + \"%\"}</span></td>\n      <td>${_utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(pbData.raw * multiplier)}<br><span class=\"sub\">${pbData.consistency === undefined ? \"-\" : pbData.consistency + \"%\"}</span></td>\n      <td>${dateText}</td>\n    </tr>`;\n    }\n    catch (e) {\n        text += `<tr>\n      <td>50</td>\n      <td>-<br><span class=\"sub\">-</span></td>\n      <td>-<br><span class=\"sub\">-</span></td>\n      <td>-<br><span class=\"sub\">-</span></td>\n    </tr>`;\n    }\n    try {\n        pbData = pb.words[100].sort((a, b) => b.wpm - a.wpm)[0];\n        dateText = `-<br><span class=\"sub\">-</span>`;\n        const date = new Date(pbData.timestamp);\n        if (pbData.timestamp) {\n            dateText =\n                (0,date_fns__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(date, \"dd MMM yyyy\") +\n                    \"<br><div class='sub'>\" +\n                    (0,date_fns__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(date, \"HH:mm\") +\n                    \"</div>\";\n        }\n        text += `<tr>\n      <td>100</td>\n      <td>${_utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(pbData.wpm * multiplier)}<br><span class=\"sub\">${pbData.acc === undefined ? \"-\" : pbData.acc + \"%\"}</span></td>\n      <td>${_utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(pbData.raw * multiplier)}<br><span class=\"sub\">${pbData.consistency === undefined ? \"-\" : pbData.consistency + \"%\"}</span></td>\n      <td>${dateText}</td>\n    </tr>`;\n    }\n    catch (e) {\n        text += `<tr>\n      <td>100</td>\n      <td>-<br><span class=\"sub\">-</span></td>\n      <td>-<br><span class=\"sub\">-</span></td>\n      <td>-<br><span class=\"sub\">-</span></td>\n    </tr>`;\n    }\n    $(\".pageAccount .wordsPbTable tbody\").html(text);\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/account/pb-tables.ts?");

/***/ }),

/***/ "./src/scripts/account/result-filters.ts":
/*!***********************************************!*\
  !*** ./src/scripts/account/result-filters.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"defaultResultFilters\": () => (/* binding */ defaultResultFilters),\n/* harmony export */   \"filters\": () => (/* binding */ filters),\n/* harmony export */   \"load\": () => (/* binding */ load),\n/* harmony export */   \"getFilters\": () => (/* binding */ getFilters),\n/* harmony export */   \"getGroup\": () => (/* binding */ getGroup),\n/* harmony export */   \"getFilter\": () => (/* binding */ getFilter),\n/* harmony export */   \"loadTags\": () => (/* binding */ loadTags),\n/* harmony export */   \"reset\": () => (/* binding */ reset),\n/* harmony export */   \"updateActive\": () => (/* binding */ updateActive),\n/* harmony export */   \"toggle\": () => (/* binding */ toggle),\n/* harmony export */   \"updateTags\": () => (/* binding */ updateTags)\n/* harmony export */ });\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../db */ \"./src/scripts/db.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../elements/notifications */ \"./src/scripts/elements/notifications.ts\");\n\n\n\n\nconst defaultResultFilters = {\n    difficulty: {\n        normal: true,\n        expert: true,\n        master: true,\n    },\n    mode: {\n        words: true,\n        time: true,\n        quote: true,\n        zen: true,\n        custom: true,\n    },\n    words: {\n        10: true,\n        25: true,\n        50: true,\n        100: true,\n        custom: true,\n    },\n    time: {\n        15: true,\n        30: true,\n        60: true,\n        120: true,\n        custom: true,\n    },\n    quoteLength: {\n        short: true,\n        medium: true,\n        long: true,\n        thicc: true,\n    },\n    punctuation: {\n        on: true,\n        off: true,\n    },\n    numbers: {\n        on: true,\n        off: true,\n    },\n    date: {\n        last_day: false,\n        last_week: false,\n        last_month: false,\n        last_3months: false,\n        all: true,\n    },\n    tags: {\n        none: true,\n    },\n    language: {},\n    funbox: {\n        none: true,\n    },\n};\nlet filters = defaultResultFilters;\nfunction save() {\n    window.localStorage.setItem(\"resultFilters\", JSON.stringify(filters));\n}\nfunction load() {\n    console.log(\"loading filters\");\n    try {\n        const newResultFilters = window.localStorage.getItem(\"resultFilters\");\n        if (newResultFilters != undefined &&\n            newResultFilters !== \"\" &&\n            Object.keys(JSON.parse(newResultFilters)).length >=\n                Object.keys(defaultResultFilters).length) {\n            filters = JSON.parse(newResultFilters);\n            // save();\n        }\n        else {\n            filters = defaultResultFilters;\n            // save();\n        }\n        const newTags = { none: false };\n        Object.keys(defaultResultFilters.tags).forEach((tag) => {\n            if (filters.tags[tag] !== undefined) {\n                newTags[tag] = filters.tags[tag];\n            }\n            else {\n                newTags[tag] = true;\n            }\n        });\n        filters.tags = newTags;\n        save();\n    }\n    catch (_a) {\n        console.log(\"error in loading result filters\");\n        filters = defaultResultFilters;\n        save();\n    }\n}\nfunction getFilters() {\n    return filters;\n}\nfunction getGroup(group) {\n    return filters[group];\n}\n// export function setFilter(group, filter, value) {\n//   filters[group][filter] = value;\n// }\nfunction getFilter(group, filter) {\n    return filters[group][filter];\n}\n// export function toggleFilter(group, filter) {\n//   filters[group][filter] = !filters[group][filter];\n// }\nfunction loadTags(tags) {\n    console.log(\"loading tags\");\n    tags.forEach((tag) => {\n        defaultResultFilters.tags[tag._id] = true;\n    });\n}\nfunction reset() {\n    filters = defaultResultFilters;\n    save();\n}\nfunction updateActive() {\n    var _a, _b, _c, _d;\n    const aboveChartDisplay = {};\n    Object.keys(getFilters()).forEach((group) => {\n        aboveChartDisplay[group] = {\n            all: true,\n            array: [],\n        };\n        Object.keys(getGroup(group)).forEach((filter) => {\n            var _a;\n            const groupAboveChartDisplay = aboveChartDisplay[group];\n            if (groupAboveChartDisplay === undefined)\n                return;\n            if (getFilter(group, filter)) {\n                (_a = groupAboveChartDisplay[\"array\"]) === null || _a === void 0 ? void 0 : _a.push(filter);\n            }\n            else {\n                if (groupAboveChartDisplay[\"all\"] !== undefined) {\n                    groupAboveChartDisplay[\"all\"] = false;\n                }\n            }\n            let buttonEl;\n            if (group === \"date\") {\n                buttonEl = $(`.pageAccount .group.topFilters .filterGroup[group=\"${group}\"] .button[filter=\"${filter}\"]`);\n            }\n            else {\n                buttonEl = $(`.pageAccount .group.filterButtons .filterGroup[group=\"${group}\"] .button[filter=\"${filter}\"]`);\n            }\n            if (getFilter(group, filter)) {\n                buttonEl.addClass(\"active\");\n            }\n            else {\n                buttonEl.removeClass(\"active\");\n            }\n        });\n    });\n    function addText(group) {\n        var _a, _b, _c, _d, _e;\n        let ret = \"\";\n        ret += \"<div class='group'>\";\n        if (group == \"difficulty\") {\n            ret += `<span aria-label=\"Difficulty\" data-balloon-pos=\"up\"><i class=\"fas fa-fw fa-star\"></i>`;\n        }\n        else if (group == \"mode\") {\n            ret += `<span aria-label=\"Mode\" data-balloon-pos=\"up\"><i class=\"fas fa-fw fa-bars\"></i>`;\n        }\n        else if (group == \"punctuation\") {\n            ret += `<span aria-label=\"Punctuation\" data-balloon-pos=\"up\"><span class=\"punc\" style=\"font-weight: 900;\n      width: 1.25rem;\n      text-align: center;\n      display: inline-block;\n      letter-spacing: -.1rem;\">!?</span>`;\n        }\n        else if (group == \"numbers\") {\n            ret += `<span aria-label=\"Numbers\" data-balloon-pos=\"up\"><span class=\"numbers\" style=\"font-weight: 900;\n        width: 1.25rem;\n        text-align: center;\n        margin-right: .1rem;\n        display: inline-block;\n        letter-spacing: -.1rem;\">15</span>`;\n        }\n        else if (group == \"words\") {\n            ret += `<span aria-label=\"Words\" data-balloon-pos=\"up\"><i class=\"fas fa-fw fa-font\"></i>`;\n        }\n        else if (group == \"time\") {\n            ret += `<span aria-label=\"Time\" data-balloon-pos=\"up\"><i class=\"fas fa-fw fa-clock\"></i>`;\n        }\n        else if (group == \"date\") {\n            ret += `<span aria-label=\"Date\" data-balloon-pos=\"up\"><i class=\"fas fa-fw fa-calendar\"></i>`;\n        }\n        else if (group == \"tags\") {\n            ret += `<span aria-label=\"Tags\" data-balloon-pos=\"up\"><i class=\"fas fa-fw fa-tags\"></i>`;\n        }\n        else if (group == \"language\") {\n            ret += `<span aria-label=\"Language\" data-balloon-pos=\"up\"><i class=\"fas fa-fw fa-globe-americas\"></i>`;\n        }\n        else if (group == \"funbox\") {\n            ret += `<span aria-label=\"Funbox\" data-balloon-pos=\"up\"><i class=\"fas fa-fw fa-gamepad\"></i>`;\n        }\n        if ((_a = aboveChartDisplay[group]) === null || _a === void 0 ? void 0 : _a.all) {\n            ret += \"all\";\n        }\n        else {\n            if (group === \"tags\") {\n                ret += (_c = (_b = aboveChartDisplay.tags) === null || _b === void 0 ? void 0 : _b.array) === null || _c === void 0 ? void 0 : _c.map((id) => {\n                    var _a, _b;\n                    if (id == \"none\")\n                        return id;\n                    const snapshot = _db__WEBPACK_IMPORTED_MODULE_1__.getSnapshot();\n                    const name = (_a = snapshot.tags) === null || _a === void 0 ? void 0 : _a.filter((t) => t._id == id)[0];\n                    if (name !== undefined) {\n                        return (_b = snapshot.tags) === null || _b === void 0 ? void 0 : _b.filter((t) => t._id == id)[0].name;\n                    }\n                    return name;\n                }).join(\", \");\n            }\n            else {\n                ret += (_e = (_d = aboveChartDisplay[group]) === null || _d === void 0 ? void 0 : _d.array) === null || _e === void 0 ? void 0 : _e.join(\", \").replace(/_/g, \" \");\n            }\n        }\n        ret += \"</span></div>\";\n        return ret;\n    }\n    let chartString = \"\";\n    //date\n    chartString += addText(\"date\");\n    chartString += `<div class=\"spacer\"></div>`;\n    //mode\n    chartString += addText(\"mode\");\n    chartString += `<div class=\"spacer\"></div>`;\n    //time\n    if ((_b = (_a = aboveChartDisplay.mode) === null || _a === void 0 ? void 0 : _a.array) === null || _b === void 0 ? void 0 : _b.includes(\"time\")) {\n        chartString += addText(\"time\");\n        chartString += `<div class=\"spacer\"></div>`;\n    }\n    //words\n    if ((_d = (_c = aboveChartDisplay.mode) === null || _c === void 0 ? void 0 : _c.array) === null || _d === void 0 ? void 0 : _d.includes(\"words\")) {\n        chartString += addText(\"words\");\n        chartString += `<div class=\"spacer\"></div>`;\n    }\n    //diff\n    chartString += addText(\"difficulty\");\n    chartString += `<div class=\"spacer\"></div>`;\n    //punc\n    chartString += addText(\"punctuation\");\n    chartString += `<div class=\"spacer\"></div>`;\n    //numbers\n    chartString += addText(\"numbers\");\n    chartString += `<div class=\"spacer\"></div>`;\n    //language\n    chartString += addText(\"language\");\n    chartString += `<div class=\"spacer\"></div>`;\n    //funbox\n    chartString += addText(\"funbox\");\n    chartString += `<div class=\"spacer\"></div>`;\n    //tags\n    chartString += addText(\"tags\");\n    setTimeout(() => {\n        $(\".pageAccount .group.chart .above\").html(chartString);\n    }, 0);\n}\nfunction toggle(group, filter) {\n    try {\n        if (group === \"date\") {\n            Object.keys(getGroup(\"date\")).forEach((date) => {\n                filters[\"date\"][date] = false;\n            });\n        }\n        filters[group][filter] = !filters[group][filter];\n        save();\n    }\n    catch (e) {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_3__.add(\"Something went wrong toggling filter. Reverting to defaults.\", 0);\n        console.log(\"toggling filter error\");\n        console.error(e);\n        reset();\n        updateActive();\n    }\n}\nfunction updateTags() {\n    var _a, _b;\n    $(\".pageAccount .content .filterButtons .buttonsAndTitle.tags .buttons\").empty();\n    const snapshot = _db__WEBPACK_IMPORTED_MODULE_1__.getSnapshot();\n    if (((_a = snapshot.tags) === null || _a === void 0 ? void 0 : _a.length) || 0 > 0) {\n        $(\".pageAccount .content .filterButtons .buttonsAndTitle.tags\").removeClass(\"hidden\");\n        $(\".pageAccount .content .filterButtons .buttonsAndTitle.tags .buttons\").append(`<div class=\"button\" filter=\"none\">no tag</div>`);\n        (_b = snapshot.tags) === null || _b === void 0 ? void 0 : _b.forEach((tag) => {\n            $(\".pageAccount .content .filterButtons .buttonsAndTitle.tags .buttons\").append(`<div class=\"button\" filter=\"${tag._id}\">${tag.name}</div>`);\n        });\n    }\n    else {\n        $(\".pageAccount .content .filterButtons .buttonsAndTitle.tags\").addClass(\"hidden\");\n    }\n}\n$(\".pageAccount .filterButtons .buttonsAndTitle .buttons, .pageAccount .group.topFilters .buttonsAndTitle.testDate .buttons\").on(\"click\", \".button\", (e) => {\n    const group = $(e.target)\n        .parents(\".buttons\")\n        .attr(\"group\");\n    const filter = $(e.target).attr(\"filter\");\n    if ($(e.target).hasClass(\"allFilters\")) {\n        Object.keys(getFilters()).forEach((group) => {\n            Object.keys(getGroup(group)).forEach((filter) => {\n                if (group === \"date\") {\n                    // TODO figure out why \"filter\" is never\n                    // @ts-ignore\n                    filters[group][filter] = false;\n                }\n                else if (filters[group] !== undefined) {\n                    // @ts-ignore\n                    filters[group][filter] = true;\n                }\n            });\n        });\n        filters[\"date\"][\"all\"] = true;\n    }\n    else if ($(e.target).hasClass(\"noFilters\")) {\n        Object.keys(getFilters()).forEach((group) => {\n            if (group !== \"date\") {\n                Object.keys(getGroup(group)).forEach((filter) => {\n                    // TODO figure out why \"filter\" is never\n                    // @ts-ignore\n                    filters[group][filter] = false;\n                });\n            }\n        });\n    }\n    else if ($(e.target).hasClass(\"button\")) {\n        if (e.shiftKey) {\n            Object.keys(getGroup(group)).forEach((filter) => {\n                // TODO figure out why \"filter\" is never\n                // @ts-ignore\n                filters[group][filter] = false;\n            });\n            // TODO figure out why \"filter\" is never\n            // @ts-ignore\n            filters[group][filter] = true;\n        }\n        else {\n            toggle(group, filter);\n            // filters[group][filter] = !filters[group][filter];\n        }\n    }\n    updateActive();\n    save();\n});\n$(\".pageAccount .topFilters .button.allFilters\").on(\"click\", () => {\n    Object.keys(getFilters()).forEach((group) => {\n        Object.keys(getGroup(group)).forEach((filter) => {\n            if (group === \"date\") {\n                // TODO figure out why \"filter\" is never\n                // @ts-ignore\n                filters[group][filter] = false;\n            }\n            else {\n                // TODO figure out why \"filter\" is never\n                // @ts-ignore\n                filters[group][filter] = true;\n            }\n        });\n    });\n    filters[\"date\"][\"all\"] = true;\n    updateActive();\n    save();\n});\n$(\".pageAccount .topFilters .button.currentConfigFilter\").on(\"click\", () => {\n    var _a;\n    Object.keys(getFilters()).forEach((group) => {\n        Object.keys(getGroup(group)).forEach((filter) => {\n            // TODO figure out why \"filter\" is never\n            // @ts-ignore\n            filters[group][filter] = false;\n        });\n    });\n    filters[\"difficulty\"][_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].difficulty] = true;\n    filters[\"mode\"][_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].mode] = true;\n    if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].mode === \"time\") {\n        if ([15, 30, 60, 120].includes(_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].time)) {\n            const configTime = _config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].time;\n            filters[\"time\"][configTime] = true;\n        }\n        else {\n            filters[\"time\"][\"custom\"] = true;\n        }\n    }\n    else if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].mode === \"words\") {\n        if ([10, 25, 50, 100, 200].includes(_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].words)) {\n            const configWords = _config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].words;\n            filters[\"words\"][configWords] = true;\n        }\n        else {\n            filters[\"words\"][\"custom\"] = true;\n        }\n    }\n    else if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].mode === \"quote\") {\n        const filterName = [\n            \"short\",\n            \"medium\",\n            \"long\",\n            \"thicc\",\n        ];\n        filterName.forEach((ql, index) => {\n            if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].quoteLength.includes(index)) {\n                filters[\"quoteLength\"][ql] = true;\n            }\n            else {\n                filters[\"quoteLength\"][ql] = false;\n            }\n        });\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].punctuation) {\n        filters[\"punctuation\"][\"on\"] = true;\n    }\n    else {\n        filters[\"punctuation\"][\"off\"] = true;\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].numbers) {\n        filters[\"numbers\"][\"on\"] = true;\n    }\n    else {\n        filters[\"numbers\"][\"off\"] = true;\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].mode === \"quote\" && /english.*/.test(_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].language)) {\n        filters[\"language\"][\"english\"] = true;\n    }\n    else {\n        filters[\"language\"][_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].language] = true;\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].funbox === \"none\") {\n        filters.funbox.none = true;\n    }\n    else {\n        filters.funbox[_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].funbox] = true;\n    }\n    filters[\"tags\"][\"none\"] = true;\n    (_a = _db__WEBPACK_IMPORTED_MODULE_1__.getSnapshot().tags) === null || _a === void 0 ? void 0 : _a.forEach((tag) => {\n        if (tag.active === true) {\n            filters[\"tags\"][\"none\"] = false;\n            filters[\"tags\"][tag._id] = true;\n        }\n    });\n    filters[\"date\"][\"all\"] = true;\n    updateActive();\n    save();\n});\n$(\".pageAccount .topFilters .button.toggleAdvancedFilters\").on(\"click\", () => {\n    $(\".pageAccount .filterButtons\").slideToggle(250);\n    $(\".pageAccount .topFilters .button.toggleAdvancedFilters\").toggleClass(\"active\");\n});\n_utils_misc__WEBPACK_IMPORTED_MODULE_0__.getLanguageList().then((languages) => {\n    languages.forEach((language) => {\n        $(\".pageAccount .content .filterButtons .buttonsAndTitle.languages .buttons\").append(`<div class=\"button\" filter=\"${language}\">${language.replace(\"_\", \" \")}</div>`);\n    });\n});\n$(\".pageAccount .content .filterButtons .buttonsAndTitle.funbox .buttons\").append(`<div class=\"button\" filter=\"none\">none</div>`);\n_utils_misc__WEBPACK_IMPORTED_MODULE_0__.getFunboxList().then((funboxModes) => {\n    funboxModes.forEach((funbox) => {\n        $(\".pageAccount .content .filterButtons .buttonsAndTitle.funbox .buttons\").append(`<div class=\"button\" filter=\"${funbox.name}\">${funbox.name.replace(/_/g, \" \")}</div>`);\n    });\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/account/result-filters.ts?");

/***/ }),

/***/ "./src/scripts/account/sign-out-button.ts":
/*!************************************************!*\
  !*** ./src/scripts/account/sign-out-button.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"show\": () => (/* binding */ show),\n/* harmony export */   \"hide\": () => (/* binding */ hide)\n/* harmony export */ });\nfunction show() {\n    // $(\".signOut\").removeClass(\"hidden\").css(\"opacity\", 1);\n    $(\".signOut\")\n        .stop(true, true)\n        .removeClass(\"hidden\")\n        .css({\n        opacity: 0,\n        transition: \"0s\",\n    })\n        .animate({\n        opacity: 1,\n    }, 125, () => {\n        $(\".signOut\").css({ transition: \"0.25s\" });\n    });\n}\nfunction hide() {\n    $(\".signOut\")\n        .stop(true, true)\n        .css({\n        opacity: 1,\n        transition: \"0s\",\n    })\n        .animate({\n        opacity: 0,\n    }, 125, () => {\n        $(\".signOut\").css({ transition: \"0.25s\" });\n        $(\".signOut\").addClass(\"hidden\");\n    });\n    // $(\".signOut\").css(\"opacity\", 0).addClass(\"hidden\");\n}\n// $(\"#liveWpm\").removeClass(\"hidden\").css(\"opacity\", 0).animate(\n//   {\n//     opacity: Config.timerOpacity,\n//   },\n//   125\n// );\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/account/sign-out-button.ts?");

/***/ }),

/***/ "./src/scripts/ape/endpoints/ape-keys.ts":
/*!***********************************************!*\
  !*** ./src/scripts/ape/endpoints/ape-keys.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ getApeKeysEndpoints)\n/* harmony export */ });\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nconst BASE_PATH = \"/ape-keys\";\nfunction getApeKeysEndpoints(apeClient) {\n    function get() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield apeClient.get(BASE_PATH);\n        });\n    }\n    function generate(name, enabled) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const payload = { name, enabled };\n            return yield apeClient.post(BASE_PATH, { payload });\n        });\n    }\n    function update(apeKeyId, updates) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const payload = Object.assign({}, updates);\n            return yield apeClient.patch(`${BASE_PATH}/${apeKeyId}`, { payload });\n        });\n    }\n    function _delete(apeKeyId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield apeClient.delete(`${BASE_PATH}/${apeKeyId}`);\n        });\n    }\n    return {\n        get,\n        generate,\n        update,\n        delete: _delete,\n    };\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/ape/endpoints/ape-keys.ts?");

/***/ }),

/***/ "./src/scripts/ape/endpoints/configs.ts":
/*!**********************************************!*\
  !*** ./src/scripts/ape/endpoints/configs.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ getConfigsEndpoints)\n/* harmony export */ });\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nconst BASE_PATH = \"/configs\";\nfunction getConfigsEndpoints(apeClient) {\n    function get() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield apeClient.get(BASE_PATH);\n        });\n    }\n    function save(config) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield apeClient.patch(BASE_PATH, { payload: { config } });\n        });\n    }\n    return {\n        get,\n        save,\n    };\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/ape/endpoints/configs.ts?");

/***/ }),

/***/ "./src/scripts/ape/endpoints/index.ts":
/*!********************************************!*\
  !*** ./src/scripts/ape/endpoints/index.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _configs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./configs */ \"./src/scripts/ape/endpoints/configs.ts\");\n/* harmony import */ var _leaderboards__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./leaderboards */ \"./src/scripts/ape/endpoints/leaderboards.ts\");\n/* harmony import */ var _presets__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./presets */ \"./src/scripts/ape/endpoints/presets.ts\");\n/* harmony import */ var _psas__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./psas */ \"./src/scripts/ape/endpoints/psas.ts\");\n/* harmony import */ var _quotes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./quotes */ \"./src/scripts/ape/endpoints/quotes.ts\");\n/* harmony import */ var _results__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./results */ \"./src/scripts/ape/endpoints/results.ts\");\n/* harmony import */ var _users__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./users */ \"./src/scripts/ape/endpoints/users.ts\");\n/* harmony import */ var _ape_keys__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ape-keys */ \"./src/scripts/ape/endpoints/ape-keys.ts\");\n\n\n\n\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n    getConfigsEndpoints: _configs__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    getLeaderboardsEndpoints: _leaderboards__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    getPresetsEndpoints: _presets__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n    getPsasEndpoints: _psas__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n    getQuotesEndpoints: _quotes__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n    getResultsEndpoints: _results__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n    getUsersEndpoints: _users__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n    getApeKeysEndpoints: _ape_keys__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/ape/endpoints/index.ts?");

/***/ }),

/***/ "./src/scripts/ape/endpoints/leaderboards.ts":
/*!***************************************************!*\
  !*** ./src/scripts/ape/endpoints/leaderboards.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ getLeaderboardsEndpoints)\n/* harmony export */ });\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nconst BASE_PATH = \"/leaderboards\";\nfunction getLeaderboardsEndpoints(apeClient) {\n    function get(language, mode, mode2, skip = 0, limit = 50) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const searchQuery = {\n                language,\n                mode,\n                mode2,\n                skip,\n                limit: Math.max(Math.min(limit, 50), 0),\n            };\n            return yield apeClient.get(BASE_PATH, { searchQuery });\n        });\n    }\n    function getRank(language, mode, mode2) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const searchQuery = {\n                language,\n                mode,\n                mode2,\n            };\n            return yield apeClient.get(`${BASE_PATH}/rank`, { searchQuery });\n        });\n    }\n    return { get, getRank };\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/ape/endpoints/leaderboards.ts?");

/***/ }),

/***/ "./src/scripts/ape/endpoints/presets.ts":
/*!**********************************************!*\
  !*** ./src/scripts/ape/endpoints/presets.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ getPresetsEndpoints)\n/* harmony export */ });\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nconst BASE_PATH = \"/presets\";\nfunction getPresetsEndpoints(apeClient) {\n    function get() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield apeClient.get(BASE_PATH);\n        });\n    }\n    function add(presetName, configChanges) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const payload = {\n                name: presetName,\n                config: configChanges,\n            };\n            return yield apeClient.post(BASE_PATH, { payload });\n        });\n    }\n    function edit(presetId, presetName, configChanges) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const payload = {\n                _id: presetId,\n                name: presetName,\n                config: configChanges,\n            };\n            return yield apeClient.patch(BASE_PATH, { payload });\n        });\n    }\n    function _delete(presetId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield apeClient.delete(`${BASE_PATH}/${presetId}`);\n        });\n    }\n    return { get, add, edit, delete: _delete };\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/ape/endpoints/presets.ts?");

/***/ }),

/***/ "./src/scripts/ape/endpoints/psas.ts":
/*!*******************************************!*\
  !*** ./src/scripts/ape/endpoints/psas.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ getPsasEndpoints)\n/* harmony export */ });\n/* harmony import */ var _version__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../version */ \"./src/scripts/version.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\nconst BASE_PATH = \"/psas\";\nfunction getPsasEndpoints(apeClient) {\n    function get() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield apeClient.get(BASE_PATH, {\n                headers: {\n                    \"Client-Version\": _version__WEBPACK_IMPORTED_MODULE_0__.CLIENT_VERSION,\n                },\n            });\n        });\n    }\n    return { get };\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/ape/endpoints/psas.ts?");

/***/ }),

/***/ "./src/scripts/ape/endpoints/quotes.ts":
/*!*********************************************!*\
  !*** ./src/scripts/ape/endpoints/quotes.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ getQuotesEndpoints)\n/* harmony export */ });\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nconst BASE_PATH = \"/quotes\";\nfunction getQuotesEndpoints(apeClient) {\n    function get() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield apeClient.get(BASE_PATH);\n        });\n    }\n    function submit(text, source, language, captcha) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const payload = {\n                text,\n                source,\n                language,\n                captcha,\n            };\n            return yield apeClient.post(BASE_PATH, { payload });\n        });\n    }\n    function approveSubmission(quoteSubmissionId, editText, editSource) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const payload = {\n                quoteId: quoteSubmissionId,\n                editText,\n                editSource,\n            };\n            return yield apeClient.post(`${BASE_PATH}/approve`, { payload });\n        });\n    }\n    function rejectSubmission(quoteSubmissionId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield apeClient.post(`${BASE_PATH}/reject`, {\n                payload: { quoteId: quoteSubmissionId },\n            });\n        });\n    }\n    function getRating(quote) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const searchQuery = {\n                quoteId: quote.id,\n                language: quote.language,\n            };\n            return yield apeClient.get(`${BASE_PATH}/rating`, { searchQuery });\n        });\n    }\n    function addRating(quote, rating) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const payload = {\n                quoteId: quote.id,\n                rating,\n                language: quote.language,\n            };\n            return yield apeClient.post(`${BASE_PATH}/rating`, { payload });\n        });\n    }\n    function report(quoteId, quoteLanguage, reason, comment, captcha) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const payload = {\n                quoteId,\n                quoteLanguage,\n                reason,\n                comment,\n                captcha,\n            };\n            return yield apeClient.post(`${BASE_PATH}/report`, { payload });\n        });\n    }\n    return {\n        get,\n        submit,\n        approveSubmission,\n        rejectSubmission,\n        getRating,\n        addRating,\n        report,\n    };\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/ape/endpoints/quotes.ts?");

/***/ }),

/***/ "./src/scripts/ape/endpoints/results.ts":
/*!**********************************************!*\
  !*** ./src/scripts/ape/endpoints/results.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ getResultsEndpoints)\n/* harmony export */ });\n/* harmony import */ var _version__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../version */ \"./src/scripts/version.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\nconst BASE_PATH = \"/results\";\nfunction getResultsEndpoints(apeClient) {\n    function get() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield apeClient.get(BASE_PATH);\n        });\n    }\n    function save(result) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield apeClient.post(BASE_PATH, {\n                payload: { result },\n                headers: { \"Client-Version\": _version__WEBPACK_IMPORTED_MODULE_0__.CLIENT_VERSION },\n            });\n        });\n    }\n    function updateTags(resultId, tagIds) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield apeClient.patch(`${BASE_PATH}/tags`, {\n                payload: { resultId, tagIds },\n            });\n        });\n    }\n    function deleteAll() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield apeClient.delete(BASE_PATH);\n        });\n    }\n    return { get, save, updateTags, deleteAll };\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/ape/endpoints/results.ts?");

/***/ }),

/***/ "./src/scripts/ape/endpoints/users.ts":
/*!********************************************!*\
  !*** ./src/scripts/ape/endpoints/users.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ getUsersEndpoints)\n/* harmony export */ });\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nconst BASE_PATH = \"/users\";\nfunction getUsersEndpoints(apeClient) {\n    function getData() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield apeClient.get(BASE_PATH);\n        });\n    }\n    function create(name, email, uid) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const payload = {\n                email,\n                name,\n                uid,\n            };\n            return yield apeClient.post(`${BASE_PATH}/signup`, { payload });\n        });\n    }\n    function getNameAvailability(name) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield apeClient.get(`${BASE_PATH}/checkName/${name}`);\n        });\n    }\n    function _delete() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield apeClient.delete(BASE_PATH);\n        });\n    }\n    function updateName(name) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield apeClient.patch(`${BASE_PATH}/name`, { payload: { name } });\n        });\n    }\n    function updateLeaderboardMemory(mode, mode2, language, rank) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const payload = {\n                mode,\n                mode2,\n                language,\n                rank,\n            };\n            return yield apeClient.patch(`${BASE_PATH}/leaderboardMemory`, { payload });\n        });\n    }\n    function updateEmail(newEmail, previousEmail) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const payload = {\n                newEmail,\n                previousEmail,\n            };\n            return yield apeClient.patch(`${BASE_PATH}/email`, { payload });\n        });\n    }\n    function deletePersonalBests() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield apeClient.delete(`${BASE_PATH}/personalBests`);\n        });\n    }\n    function getTags() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield apeClient.get(`${BASE_PATH}/tags`);\n        });\n    }\n    function createTag(tagName) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield apeClient.post(`${BASE_PATH}/tags`, { payload: { tagName } });\n        });\n    }\n    function editTag(tagId, newName) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const payload = {\n                tagId,\n                newName,\n            };\n            return yield apeClient.patch(`${BASE_PATH}/tags`, { payload });\n        });\n    }\n    function deleteTag(tagId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield apeClient.delete(`${BASE_PATH}/tags/${tagId}`);\n        });\n    }\n    function deleteTagPersonalBest(tagId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield apeClient.delete(`${BASE_PATH}/tags/${tagId}/personalBest`);\n        });\n    }\n    function getCustomThemes() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield apeClient.get(`${BASE_PATH}/customThemes`);\n        });\n    }\n    function editCustomTheme(themeId, newTheme) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const payload = {\n                themeId: themeId,\n                theme: {\n                    name: newTheme.name,\n                    colors: newTheme.colors,\n                },\n            };\n            return yield apeClient.patch(`${BASE_PATH}/customThemes`, { payload });\n        });\n    }\n    function deleteCustomTheme(themeId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const payload = {\n                themeId: themeId,\n            };\n            return yield apeClient.delete(`${BASE_PATH}/customThemes`, { payload });\n        });\n    }\n    function addCustomTheme(newTheme) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const payload = { name: newTheme.name, colors: newTheme.colors };\n            return yield apeClient.post(`${BASE_PATH}/customThemes`, { payload });\n        });\n    }\n    function linkDiscord(data) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield apeClient.post(`${BASE_PATH}/discord/link`, {\n                payload: { data },\n            });\n        });\n    }\n    function unlinkDiscord() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield apeClient.post(`${BASE_PATH}/discord/unlink`);\n        });\n    }\n    return {\n        getData,\n        create,\n        getNameAvailability,\n        delete: _delete,\n        updateName,\n        updateLeaderboardMemory,\n        updateEmail,\n        deletePersonalBests,\n        getTags,\n        createTag,\n        editTag,\n        deleteTag,\n        deleteTagPersonalBest,\n        linkDiscord,\n        unlinkDiscord,\n        getCustomThemes,\n        addCustomTheme,\n        editCustomTheme,\n        deleteCustomTheme,\n    };\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/ape/endpoints/users.ts?");

/***/ }),

/***/ "./src/scripts/ape/index.ts":
/*!**********************************!*\
  !*** ./src/scripts/ape/index.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _endpoints__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./endpoints */ \"./src/scripts/ape/endpoints/index.ts\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../firebase */ \"./src/scripts/firebase.ts\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/auth */ \"./node_modules/firebase/auth/dist/index.esm.js\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\nconst DEV_SERVER_HOST = \"http://localhost:5005\";\nconst PROD_SERVER_HOST = \"https://api.monkeytype.com\";\nconst API_PATH = \"\";\nconst BASE_URL = window.location.hostname === \"localhost\" ? DEV_SERVER_HOST : PROD_SERVER_HOST;\nconst API_URL = `${BASE_URL}${API_PATH}`;\n// Adapts the ape client's view of request options to the underlying HTTP client.\nfunction adaptRequestOptions(options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const currentUser = _firebase__WEBPACK_IMPORTED_MODULE_2__.Auth.currentUser;\n        const idToken = currentUser && (yield (0,firebase_auth__WEBPACK_IMPORTED_MODULE_3__.getIdToken)(currentUser));\n        return {\n            params: options.searchQuery,\n            data: options.payload,\n            headers: Object.assign(Object.assign(Object.assign({}, options.headers), { Accept: \"application/json\", \"Content-Type\": \"application/json\" }), (idToken && { Authorization: `Bearer ${idToken}` })),\n        };\n    });\n}\n// Wrap the underlying HTTP client's method with our own.\nfunction apeifyClientMethod(clientMethod, methodType) {\n    return (endpoint, options = {}) => __awaiter(this, void 0, void 0, function* () {\n        var _a, _b, _c;\n        let errorMessage = \"\";\n        try {\n            const requestOptions = yield adaptRequestOptions(options);\n            let response;\n            if (methodType === \"get\" || methodType === \"delete\") {\n                response = yield clientMethod(endpoint, requestOptions);\n            }\n            else {\n                response = yield clientMethod(endpoint, requestOptions.data, requestOptions);\n            }\n            const { message, data } = response.data;\n            return {\n                status: response.status,\n                message,\n                data,\n            };\n        }\n        catch (error) {\n            console.error(error);\n            const typedError = error;\n            errorMessage = typedError.message;\n            if (axios__WEBPACK_IMPORTED_MODULE_0___default().isAxiosError(typedError)) {\n                return Object.assign({ status: (_b = (_a = typedError.response) === null || _a === void 0 ? void 0 : _a.status) !== null && _b !== void 0 ? _b : 500, message: typedError.message }, (_c = typedError.response) === null || _c === void 0 ? void 0 : _c.data);\n            }\n        }\n        return {\n            status: 500,\n            message: errorMessage,\n        };\n    });\n}\nconst axiosClient = axios__WEBPACK_IMPORTED_MODULE_0___default().create({\n    baseURL: API_URL,\n    timeout: 10000,\n});\nconst apeClient = {\n    get: apeifyClientMethod(axiosClient.get, \"get\"),\n    post: apeifyClientMethod(axiosClient.post, \"post\"),\n    put: apeifyClientMethod(axiosClient.put, \"put\"),\n    patch: apeifyClientMethod(axiosClient.patch, \"patch\"),\n    delete: apeifyClientMethod(axiosClient.delete, \"delete\"),\n};\n// API Endpoints\nconst Ape = {\n    users: _endpoints__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getUsersEndpoints(apeClient),\n    configs: _endpoints__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getConfigsEndpoints(apeClient),\n    results: _endpoints__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getResultsEndpoints(apeClient),\n    psas: _endpoints__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getPsasEndpoints(apeClient),\n    quotes: _endpoints__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getQuotesEndpoints(apeClient),\n    leaderboards: _endpoints__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getLeaderboardsEndpoints(apeClient),\n    presets: _endpoints__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getPresetsEndpoints(apeClient),\n    apeKeys: _endpoints__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getApeKeysEndpoints(apeClient),\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Ape);\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/ape/index.ts?");

/***/ }),

/***/ "./src/scripts/config-validation.ts":
/*!******************************************!*\
  !*** ./src/scripts/config-validation.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isConfigKeyValid\": () => (/* binding */ isConfigKeyValid),\n/* harmony export */   \"isConfigValueValid\": () => (/* binding */ isConfigValueValid),\n/* harmony export */   \"isConfigValueValidAsync\": () => (/* binding */ isConfigValueValidAsync)\n/* harmony export */ });\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./elements/notifications */ \"./src/scripts/elements/notifications.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\nfunction isConfigKeyValid(name) {\n    if (name === null || name === undefined || name === \"\")\n        return false;\n    if (name.length > 30)\n        return false;\n    return /^[0-9a-zA-Z_.\\-#+]+$/.test(name);\n}\nfunction invalid(key, val, customMessage) {\n    if (customMessage === undefined) {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(`Invalid value for ${key} (${val}). Please try to change this setting again.`, -1);\n    }\n    else {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(`Invalid value for ${key} (${val}). ${customMessage}`, -1);\n    }\n    console.error(`Invalid value key ${key} value ${val} type ${typeof val}`);\n}\nfunction isArray(val) {\n    return val instanceof Array;\n}\nfunction isConfigValueValid(key, val, possibleTypes) {\n    let isValid = false;\n    // might be used in the future\n    // eslint-disable-next-line\n    let customMessage = undefined;\n    for (const possibleType of possibleTypes) {\n        switch (possibleType) {\n            case \"boolean\":\n                if (typeof val === \"boolean\")\n                    isValid = true;\n                break;\n            case \"null\":\n                if (val === null)\n                    isValid = true;\n                break;\n            case \"number\":\n                if (typeof val === \"number\")\n                    isValid = true;\n                break;\n            case \"numberArray\":\n                if (isArray(val) && val.every((v) => typeof v === \"number\")) {\n                    isValid = true;\n                }\n                break;\n            case \"string\":\n                if (typeof val === \"string\")\n                    isValid = true;\n                break;\n            case \"stringArray\":\n                if (isArray(val) && val.every((v) => typeof v === \"string\")) {\n                    isValid = true;\n                }\n                break;\n            case \"undefined\":\n                if (typeof val === \"undefined\" || val === undefined)\n                    isValid = true;\n                break;\n            default:\n                if (isArray(possibleType)) {\n                    if (possibleType.includes(val))\n                        isValid = true;\n                }\n                break;\n        }\n    }\n    if (!isValid)\n        invalid(key, val, customMessage);\n    return isValid;\n}\nfunction isConfigValueValidAsync(key, val, possibleTypes) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let isValid = false;\n        let customMessage = undefined;\n        for (const possibleType of possibleTypes) {\n            switch (possibleType) {\n                case \"layoutfluid\": {\n                    if (typeof val !== \"string\")\n                        break;\n                    const layoutNames = val.split(/[# ]+/);\n                    if (layoutNames.length < 2 || layoutNames.length > 5)\n                        break;\n                    // convert the layout names to layouts\n                    const layouts = yield Promise.all(layoutNames.map((layoutName) => _utils_misc__WEBPACK_IMPORTED_MODULE_0__.getLayout(layoutName)));\n                    // check if all layouts exist\n                    if (!layouts.every((layout) => layout !== undefined)) {\n                        const invalidLayoutNames = layoutNames.map((layoutName, index) => [\n                            layoutName,\n                            layouts[index],\n                        ]);\n                        const invalidLayouts = invalidLayoutNames\n                            .filter(([_, layout]) => layout === undefined)\n                            .map(([layoutName]) => layoutName);\n                        customMessage = `The following inputted layouts do not exist: ${invalidLayouts.join(\", \")}`;\n                        break;\n                    }\n                    isValid = true;\n                    break;\n                }\n            }\n        }\n        if (!isValid)\n            invalid(key, val, customMessage);\n        return isValid;\n    });\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/config-validation.ts?");

/***/ }),

/***/ "./src/scripts/config.ts":
/*!*******************************!*\
  !*** ./src/scripts/config.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"localStorageConfig\": () => (/* binding */ localStorageConfig),\n/* harmony export */   \"dbConfigLoaded\": () => (/* binding */ dbConfigLoaded),\n/* harmony export */   \"changedBeforeDb\": () => (/* binding */ changedBeforeDb),\n/* harmony export */   \"setLocalStorageConfig\": () => (/* binding */ setLocalStorageConfig),\n/* harmony export */   \"setDbConfigLoaded\": () => (/* binding */ setDbConfigLoaded),\n/* harmony export */   \"setChangedBeforeDb\": () => (/* binding */ setChangedBeforeDb),\n/* harmony export */   \"saveFullConfigToLocalStorage\": () => (/* binding */ saveFullConfigToLocalStorage),\n/* harmony export */   \"setNumbers\": () => (/* binding */ setNumbers),\n/* harmony export */   \"setPunctuation\": () => (/* binding */ setPunctuation),\n/* harmony export */   \"setMode\": () => (/* binding */ setMode),\n/* harmony export */   \"setPlaySoundOnError\": () => (/* binding */ setPlaySoundOnError),\n/* harmony export */   \"setPlaySoundOnClick\": () => (/* binding */ setPlaySoundOnClick),\n/* harmony export */   \"setSoundVolume\": () => (/* binding */ setSoundVolume),\n/* harmony export */   \"setDifficulty\": () => (/* binding */ setDifficulty),\n/* harmony export */   \"setFavThemes\": () => (/* binding */ setFavThemes),\n/* harmony export */   \"setFunbox\": () => (/* binding */ setFunbox),\n/* harmony export */   \"setBlindMode\": () => (/* binding */ setBlindMode),\n/* harmony export */   \"setChartAccuracy\": () => (/* binding */ setChartAccuracy),\n/* harmony export */   \"setChartStyle\": () => (/* binding */ setChartStyle),\n/* harmony export */   \"setStopOnError\": () => (/* binding */ setStopOnError),\n/* harmony export */   \"setAlwaysShowDecimalPlaces\": () => (/* binding */ setAlwaysShowDecimalPlaces),\n/* harmony export */   \"setAlwaysShowCPM\": () => (/* binding */ setAlwaysShowCPM),\n/* harmony export */   \"setShowOutOfFocusWarning\": () => (/* binding */ setShowOutOfFocusWarning),\n/* harmony export */   \"setSwapEscAndTab\": () => (/* binding */ setSwapEscAndTab),\n/* harmony export */   \"setPaceCaret\": () => (/* binding */ setPaceCaret),\n/* harmony export */   \"setPaceCaretCustomSpeed\": () => (/* binding */ setPaceCaretCustomSpeed),\n/* harmony export */   \"setRepeatedPace\": () => (/* binding */ setRepeatedPace),\n/* harmony export */   \"setMinWpm\": () => (/* binding */ setMinWpm),\n/* harmony export */   \"setMinWpmCustomSpeed\": () => (/* binding */ setMinWpmCustomSpeed),\n/* harmony export */   \"setMinAcc\": () => (/* binding */ setMinAcc),\n/* harmony export */   \"setMinAccCustom\": () => (/* binding */ setMinAccCustom),\n/* harmony export */   \"setMinBurst\": () => (/* binding */ setMinBurst),\n/* harmony export */   \"setMinBurstCustomSpeed\": () => (/* binding */ setMinBurstCustomSpeed),\n/* harmony export */   \"setAlwaysShowWordsHistory\": () => (/* binding */ setAlwaysShowWordsHistory),\n/* harmony export */   \"setSingleListCommandLine\": () => (/* binding */ setSingleListCommandLine),\n/* harmony export */   \"setCapsLockWarning\": () => (/* binding */ setCapsLockWarning),\n/* harmony export */   \"setShowAllLines\": () => (/* binding */ setShowAllLines),\n/* harmony export */   \"setQuickEnd\": () => (/* binding */ setQuickEnd),\n/* harmony export */   \"setEnableAds\": () => (/* binding */ setEnableAds),\n/* harmony export */   \"setRepeatQuotes\": () => (/* binding */ setRepeatQuotes),\n/* harmony export */   \"setFlipTestColors\": () => (/* binding */ setFlipTestColors),\n/* harmony export */   \"setColorfulMode\": () => (/* binding */ setColorfulMode),\n/* harmony export */   \"setStrictSpace\": () => (/* binding */ setStrictSpace),\n/* harmony export */   \"setOppositeShiftMode\": () => (/* binding */ setOppositeShiftMode),\n/* harmony export */   \"setPageWidth\": () => (/* binding */ setPageWidth),\n/* harmony export */   \"setCaretStyle\": () => (/* binding */ setCaretStyle),\n/* harmony export */   \"setPaceCaretStyle\": () => (/* binding */ setPaceCaretStyle),\n/* harmony export */   \"setShowTimerProgress\": () => (/* binding */ setShowTimerProgress),\n/* harmony export */   \"setShowLiveWpm\": () => (/* binding */ setShowLiveWpm),\n/* harmony export */   \"setShowLiveAcc\": () => (/* binding */ setShowLiveAcc),\n/* harmony export */   \"setShowLiveBurst\": () => (/* binding */ setShowLiveBurst),\n/* harmony export */   \"setShowAvg\": () => (/* binding */ setShowAvg),\n/* harmony export */   \"setHighlightMode\": () => (/* binding */ setHighlightMode),\n/* harmony export */   \"setHideExtraLetters\": () => (/* binding */ setHideExtraLetters),\n/* harmony export */   \"setTimerStyle\": () => (/* binding */ setTimerStyle),\n/* harmony export */   \"setTimerColor\": () => (/* binding */ setTimerColor),\n/* harmony export */   \"setTimerOpacity\": () => (/* binding */ setTimerOpacity),\n/* harmony export */   \"setKeyTips\": () => (/* binding */ setKeyTips),\n/* harmony export */   \"setTimeConfig\": () => (/* binding */ setTimeConfig),\n/* harmony export */   \"setQuoteLength\": () => (/* binding */ setQuoteLength),\n/* harmony export */   \"setWordCount\": () => (/* binding */ setWordCount),\n/* harmony export */   \"setSmoothCaret\": () => (/* binding */ setSmoothCaret),\n/* harmony export */   \"setStartGraphsAtZero\": () => (/* binding */ setStartGraphsAtZero),\n/* harmony export */   \"setSmoothLineScroll\": () => (/* binding */ setSmoothLineScroll),\n/* harmony export */   \"setQuickTabMode\": () => (/* binding */ setQuickTabMode),\n/* harmony export */   \"previewFontFamily\": () => (/* binding */ previewFontFamily),\n/* harmony export */   \"setFontFamily\": () => (/* binding */ setFontFamily),\n/* harmony export */   \"setFreedomMode\": () => (/* binding */ setFreedomMode),\n/* harmony export */   \"setConfidenceMode\": () => (/* binding */ setConfidenceMode),\n/* harmony export */   \"setIndicateTypos\": () => (/* binding */ setIndicateTypos),\n/* harmony export */   \"setAutoSwitchTheme\": () => (/* binding */ setAutoSwitchTheme),\n/* harmony export */   \"setCustomTheme\": () => (/* binding */ setCustomTheme),\n/* harmony export */   \"setTheme\": () => (/* binding */ setTheme),\n/* harmony export */   \"setThemeLight\": () => (/* binding */ setThemeLight),\n/* harmony export */   \"setThemeDark\": () => (/* binding */ setThemeDark),\n/* harmony export */   \"setRandomTheme\": () => (/* binding */ setRandomTheme),\n/* harmony export */   \"setBritishEnglish\": () => (/* binding */ setBritishEnglish),\n/* harmony export */   \"setLazyMode\": () => (/* binding */ setLazyMode),\n/* harmony export */   \"setCustomThemeColors\": () => (/* binding */ setCustomThemeColors),\n/* harmony export */   \"setLanguage\": () => (/* binding */ setLanguage),\n/* harmony export */   \"setMonkey\": () => (/* binding */ setMonkey),\n/* harmony export */   \"setKeymapMode\": () => (/* binding */ setKeymapMode),\n/* harmony export */   \"setKeymapLegendStyle\": () => (/* binding */ setKeymapLegendStyle),\n/* harmony export */   \"setKeymapStyle\": () => (/* binding */ setKeymapStyle),\n/* harmony export */   \"setKeymapLayout\": () => (/* binding */ setKeymapLayout),\n/* harmony export */   \"setLayout\": () => (/* binding */ setLayout),\n/* harmony export */   \"setFontSize\": () => (/* binding */ setFontSize),\n/* harmony export */   \"setCustomBackground\": () => (/* binding */ setCustomBackground),\n/* harmony export */   \"setCustomLayoutfluid\": () => (/* binding */ setCustomLayoutfluid),\n/* harmony export */   \"setCustomBackgroundSize\": () => (/* binding */ setCustomBackgroundSize),\n/* harmony export */   \"setCustomBackgroundFilter\": () => (/* binding */ setCustomBackgroundFilter),\n/* harmony export */   \"setMonkeyPowerLevel\": () => (/* binding */ setMonkeyPowerLevel),\n/* harmony export */   \"setBurstHeatmap\": () => (/* binding */ setBurstHeatmap),\n/* harmony export */   \"apply\": () => (/* binding */ apply),\n/* harmony export */   \"reset\": () => (/* binding */ reset),\n/* harmony export */   \"loadFromLocalStorage\": () => (/* binding */ loadFromLocalStorage),\n/* harmony export */   \"getConfigChanges\": () => (/* binding */ getConfigChanges),\n/* harmony export */   \"setConfig\": () => (/* binding */ setConfig),\n/* harmony export */   \"loadPromise\": () => (/* binding */ loadPromise),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./db */ \"./src/scripts/db.ts\");\n/* harmony import */ var _test_out_of_focus__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./test/out-of-focus */ \"./src/scripts/test/out-of-focus.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./elements/notifications */ \"./src/scripts/elements/notifications.ts\");\n/* harmony import */ var _config_validation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./config-validation */ \"./src/scripts/config-validation.ts\");\n/* harmony import */ var _observables_config_event__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./observables/config-event */ \"./src/scripts/observables/config-event.ts\");\n/* harmony import */ var _constants_default_config__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./constants/default-config */ \"./src/scripts/constants/default-config.ts\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./firebase */ \"./src/scripts/firebase.ts\");\n/* harmony import */ var _controllers_analytics_controller__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./controllers/analytics-controller */ \"./src/scripts/controllers/analytics-controller.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\n\n\nlet localStorageConfig;\nlet dbConfigLoaded = false;\nlet changedBeforeDb = false;\nfunction setLocalStorageConfig(val) {\n    localStorageConfig = val;\n}\nfunction setDbConfigLoaded(val) {\n    dbConfigLoaded = val;\n}\nfunction setChangedBeforeDb(val) {\n    changedBeforeDb = val;\n}\nlet loadDone;\nlet config = Object.assign({}, _constants_default_config__WEBPACK_IMPORTED_MODULE_5__[\"default\"]);\nfunction saveToLocalStorage(key, nosave = false, noDbCheck = false) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!dbConfigLoaded && !noDbCheck && !nosave) {\n            setChangedBeforeDb(true);\n        }\n        if (nosave)\n            return;\n        const localToSave = config;\n        delete localToSave.resultFilters;\n        const localToSaveStringified = JSON.stringify(localToSave);\n        window.localStorage.setItem(\"config\", localToSaveStringified);\n        if (!noDbCheck) {\n            // await DB.saveConfig(dbToSave);\n            yield saveToDatabase(key);\n        }\n        _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"saveToLocalStorage\", localToSaveStringified);\n    });\n}\nlet configToSend = {};\nlet saveTimeout = null;\nfunction saveToDatabase(key) {\n    return __awaiter(this, void 0, void 0, function* () {\n        configToSend[key] = config[key];\n        if (saveTimeout === null) {\n            saveTimeout = setTimeout(() => __awaiter(this, void 0, void 0, function* () {\n                delete configToSend.resultFilters;\n                if (Object.keys(configToSend).length > 0)\n                    _db__WEBPACK_IMPORTED_MODULE_0__.saveConfig(configToSend);\n                configToSend = {};\n                clearTimeout(saveTimeout);\n                saveTimeout = null;\n            }), window.location.hostname === \"localhost\" ? 0 : 1000);\n        }\n    });\n}\nfunction saveFullConfigToLocalStorage(noDbCheck = false) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!dbConfigLoaded && !noDbCheck) {\n            setChangedBeforeDb(true);\n        }\n        const save = config;\n        delete save.resultFilters;\n        const stringified = JSON.stringify(save);\n        window.localStorage.setItem(\"config\", stringified);\n        if (!noDbCheck)\n            yield _db__WEBPACK_IMPORTED_MODULE_0__.saveConfig(save);\n        _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"saveToLocalStorage\", stringified);\n    });\n}\n//numbers\nfunction setNumbers(numb, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"numbers\", numb, [\"boolean\"]))\n        return false;\n    if (config.mode === \"quote\") {\n        numb = false;\n    }\n    config.numbers = numb;\n    if (!config.numbers) {\n        $(\"#top .config .numbersMode .text-button\").removeClass(\"active\");\n    }\n    else {\n        $(\"#top .config .numbersMode .text-button\").addClass(\"active\");\n    }\n    saveToLocalStorage(\"numbers\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"numbers\", config.numbers);\n    return true;\n}\n//punctuation\nfunction setPunctuation(punc, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"punctuation\", punc, [\"boolean\"]))\n        return false;\n    if (config.mode === \"quote\") {\n        punc = false;\n    }\n    config.punctuation = punc;\n    if (!config.punctuation) {\n        $(\"#top .config .punctuationMode .text-button\").removeClass(\"active\");\n    }\n    else {\n        $(\"#top .config .punctuationMode .text-button\").addClass(\"active\");\n    }\n    saveToLocalStorage(\"punctuation\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"punctuation\", config.punctuation);\n    return true;\n}\nfunction setMode(mode, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"mode\", mode, [\n        [\"time\", \"words\", \"quote\", \"zen\", \"custom\"],\n    ])) {\n        return false;\n    }\n    if (mode !== \"words\" && config.funbox === \"memory\") {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Memory funbox can only be used with words mode.\", 0);\n        return false;\n    }\n    const previous = config.mode;\n    config.mode = mode;\n    if (config.mode == \"custom\") {\n        setPunctuation(false, true);\n        setNumbers(false, true);\n    }\n    else if (config.mode == \"quote\") {\n        setPunctuation(false, true);\n        setNumbers(false, true);\n    }\n    else if (config.mode == \"zen\") {\n        if (config.paceCaret != \"off\") {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(`Pace caret will not work with zen mode.`, 0);\n        }\n    }\n    saveToLocalStorage(\"mode\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"mode\", config.mode, nosave, previous);\n    return true;\n}\nfunction setPlaySoundOnError(val, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"play sound on error\", val, [\"boolean\"])) {\n        return false;\n    }\n    config.playSoundOnError = val;\n    saveToLocalStorage(\"playSoundOnError\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"playSoundOnError\", config.playSoundOnError);\n    return true;\n}\nfunction setPlaySoundOnClick(val, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"play sound on click\", val, [\n        [\"off\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\"],\n    ])) {\n        return false;\n    }\n    config.playSoundOnClick = val;\n    saveToLocalStorage(\"playSoundOnClick\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"playSoundOnClick\", config.playSoundOnClick);\n    return true;\n}\nfunction setSoundVolume(val, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"sound volume\", val, [[\"0.1\", \"0.5\", \"1.0\"]])) {\n        return false;\n    }\n    config.soundVolume = val;\n    saveToLocalStorage(\"soundVolume\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"soundVolume\", config.soundVolume);\n    return true;\n}\n//difficulty\nfunction setDifficulty(diff, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"difficulty\", diff, [[\"normal\", \"expert\", \"master\"]])) {\n        return false;\n    }\n    config.difficulty = diff;\n    saveToLocalStorage(\"difficulty\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"difficulty\", config.difficulty, nosave);\n    return true;\n}\n//set fav themes\nfunction setFavThemes(themes, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"favorite themes\", themes, [\"stringArray\"])) {\n        return false;\n    }\n    config.favThemes = themes;\n    saveToLocalStorage(\"favThemes\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"favThemes\", config.favThemes);\n    return true;\n}\nfunction setFunbox(funbox, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"funbox\", funbox, [\"string\"]))\n        return false;\n    const val = funbox ? funbox : \"none\";\n    config.funbox = val;\n    saveToLocalStorage(\"funbox\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"funbox\", config.funbox);\n    return true;\n}\nfunction setBlindMode(blind, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"blind mode\", blind, [\"boolean\"]))\n        return false;\n    config.blindMode = blind;\n    saveToLocalStorage(\"blindMode\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"blindMode\", config.blindMode, nosave);\n    return true;\n}\nfunction setChartAccuracy(chartAccuracy, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"chart accuracy\", chartAccuracy, [\"boolean\"])) {\n        return false;\n    }\n    config.chartAccuracy = chartAccuracy;\n    saveToLocalStorage(\"chartAccuracy\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"chartAccuracy\", config.chartAccuracy);\n    return true;\n}\nfunction setChartStyle(chartStyle, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"chart style\", chartStyle, [[\"line\", \"scatter\"]])) {\n        return false;\n    }\n    config.chartStyle = chartStyle;\n    saveToLocalStorage(\"chartStyle\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"chartStyle\", config.chartStyle);\n    return true;\n}\nfunction setStopOnError(soe, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"stop on error\", soe, [[\"off\", \"word\", \"letter\"]])) {\n        return false;\n    }\n    config.stopOnError = soe;\n    if (config.stopOnError !== \"off\") {\n        config.confidenceMode = \"off\";\n    }\n    saveToLocalStorage(\"stopOnError\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"stopOnError\", config.stopOnError, nosave);\n    return true;\n}\nfunction setAlwaysShowDecimalPlaces(val, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"always show decimal places\", val, [\"boolean\"])) {\n        return false;\n    }\n    config.alwaysShowDecimalPlaces = val;\n    saveToLocalStorage(\"alwaysShowDecimalPlaces\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"alwaysShowDecimalPlaces\", config.alwaysShowDecimalPlaces);\n    return true;\n}\nfunction setAlwaysShowCPM(val, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"always show CPM\", val, [\"boolean\"]))\n        return false;\n    config.alwaysShowCPM = val;\n    saveToLocalStorage(\"alwaysShowCPM\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"alwaysShowCPM\", config.alwaysShowCPM);\n    return true;\n}\nfunction setShowOutOfFocusWarning(val, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"show out of focus warning\", val, [\"boolean\"])) {\n        return false;\n    }\n    config.showOutOfFocusWarning = val;\n    if (!config.showOutOfFocusWarning) {\n        _test_out_of_focus__WEBPACK_IMPORTED_MODULE_1__.hide();\n    }\n    saveToLocalStorage(\"showOutOfFocusWarning\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"showOutOfFocusWarning\", config.showOutOfFocusWarning);\n    return true;\n}\nfunction setSwapEscAndTab(val, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"swap esc and tab\", val, [\"boolean\"]))\n        return false;\n    config.swapEscAndTab = val;\n    saveToLocalStorage(\"swapEscAndTab\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"swapEscAndTab\", config.swapEscAndTab);\n    return true;\n}\n//pace caret\nfunction setPaceCaret(val, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"pace caret\", val, [[\"custom\", \"off\", \"average\", \"pb\"]])) {\n        return false;\n    }\n    if (document.readyState === \"complete\") {\n        if (val == \"pb\" && _firebase__WEBPACK_IMPORTED_MODULE_6__.Auth.currentUser === null) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"PB pace caret is unavailable without an account\", 0);\n            return false;\n        }\n    }\n    // if (config.mode === \"zen\" && val != \"off\") {\n    //   Notifications.add(`Can't use pace caret with zen mode.`, 0);\n    //   val = \"off\";\n    // }\n    config.paceCaret = val;\n    saveToLocalStorage(\"paceCaret\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"paceCaret\", config.paceCaret, nosave);\n    return true;\n}\nfunction setPaceCaretCustomSpeed(val, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"pace caret custom speed\", val, [\"number\"])) {\n        return false;\n    }\n    config.paceCaretCustomSpeed = val;\n    saveToLocalStorage(\"paceCaretCustomSpeed\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"paceCaretCustomSpeed\", config.paceCaretCustomSpeed);\n    return true;\n}\nfunction setRepeatedPace(pace, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"repeated pace\", pace, [\"boolean\"]))\n        return false;\n    config.repeatedPace = pace;\n    saveToLocalStorage(\"repeatedPace\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"repeatedPace\", config.repeatedPace);\n    return true;\n}\n//min wpm\nfunction setMinWpm(minwpm, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"min WPM\", minwpm, [[\"off\", \"custom\"]]))\n        return false;\n    config.minWpm = minwpm;\n    saveToLocalStorage(\"minWpm\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"minWpm\", config.minWpm, nosave);\n    return true;\n}\nfunction setMinWpmCustomSpeed(val, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"min WPM custom speed\", val, [\"number\"])) {\n        return false;\n    }\n    config.minWpmCustomSpeed = val;\n    saveToLocalStorage(\"minWpmCustomSpeed\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"minWpmCustomSpeed\", config.minWpmCustomSpeed);\n    return true;\n}\n//min acc\nfunction setMinAcc(min, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"min acc\", min, [[\"off\", \"custom\"]]))\n        return false;\n    config.minAcc = min;\n    saveToLocalStorage(\"minAcc\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"minAcc\", config.minAcc, nosave);\n    return true;\n}\nfunction setMinAccCustom(val, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"min acc custom\", val, [\"number\"]))\n        return false;\n    config.minAccCustom = val;\n    saveToLocalStorage(\"minAccCustom\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"minAccCustom\", config.minAccCustom);\n    return true;\n}\n//min burst\nfunction setMinBurst(min, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"min burst\", min, [[\"off\", \"fixed\", \"flex\"]])) {\n        return false;\n    }\n    config.minBurst = min;\n    saveToLocalStorage(\"minBurst\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"minBurst\", config.minBurst, nosave);\n    return true;\n}\nfunction setMinBurstCustomSpeed(val, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"min burst custom speed\", val, [\"number\"])) {\n        return false;\n    }\n    config.minBurstCustomSpeed = val;\n    saveToLocalStorage(\"minBurstCustomSpeed\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"minBurstCustomSpeed\", config.minBurstCustomSpeed);\n    return true;\n}\n//always show words history\nfunction setAlwaysShowWordsHistory(val, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"always show words history\", val, [\"boolean\"])) {\n        return false;\n    }\n    config.alwaysShowWordsHistory = val;\n    saveToLocalStorage(\"alwaysShowWordsHistory\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"alwaysShowWordsHistory\", config.alwaysShowWordsHistory);\n    return true;\n}\n//single list command line\nfunction setSingleListCommandLine(option, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"single list command line\", option, [[\"manual\", \"on\"]])) {\n        return false;\n    }\n    config.singleListCommandLine = option;\n    saveToLocalStorage(\"singleListCommandLine\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"singleListCommandLine\", config.singleListCommandLine);\n    return true;\n}\n//caps lock warning\nfunction setCapsLockWarning(val, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"caps lock warning\", val, [\"boolean\"]))\n        return false;\n    config.capsLockWarning = val;\n    saveToLocalStorage(\"capsLockWarning\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"capsLockWarning\", config.capsLockWarning);\n    return true;\n}\nfunction setShowAllLines(sal, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"show all lines\", sal, [\"boolean\"]))\n        return false;\n    config.showAllLines = sal;\n    saveToLocalStorage(\"showAllLines\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"showAllLines\", config.showAllLines, nosave);\n    return true;\n}\nfunction setQuickEnd(qe, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"quick end\", qe, [\"boolean\"]))\n        return false;\n    config.quickEnd = qe;\n    saveToLocalStorage(\"quickEnd\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"quickEnd\", config.quickEnd);\n    return true;\n}\nfunction setEnableAds(val, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"enable ads\", val, [[\"on\", \"off\", \"max\"]])) {\n        return false;\n    }\n    config.enableAds = val;\n    if (!nosave) {\n        saveToLocalStorage(\"enableAds\", nosave);\n        setTimeout(() => {\n            location.reload();\n        }, 3000);\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Ad settings changed. Refreshing...\", 0);\n    }\n    return true;\n}\nfunction setRepeatQuotes(val, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"repeat quotes\", val, [[\"off\", \"typing\"]])) {\n        return false;\n    }\n    config.repeatQuotes = val;\n    saveToLocalStorage(\"repeatQuotes\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"repeatQuotes\", config.repeatQuotes);\n    return true;\n}\n//flip colors\nfunction setFlipTestColors(flip, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"flip test colors\", flip, [\"boolean\"]))\n        return false;\n    config.flipTestColors = flip;\n    saveToLocalStorage(\"flipTestColors\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"flipTestColors\", config.flipTestColors);\n    return true;\n}\n//extra color\nfunction setColorfulMode(extra, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"colorful mode\", extra, [\"boolean\"]))\n        return false;\n    config.colorfulMode = extra;\n    saveToLocalStorage(\"colorfulMode\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"colorfulMode\", config.colorfulMode);\n    return true;\n}\n//strict space\nfunction setStrictSpace(val, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"strict space\", val, [\"boolean\"]))\n        return false;\n    config.strictSpace = val;\n    saveToLocalStorage(\"strictSpace\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"strictSpace\", config.strictSpace);\n    return true;\n}\n//opposite shift space\nfunction setOppositeShiftMode(val, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"opposite shift mode\", val, [[\"off\", \"on\", \"keymap\"]])) {\n        return false;\n    }\n    config.oppositeShiftMode = val;\n    saveToLocalStorage(\"oppositeShiftMode\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"oppositeShiftMode\", config.oppositeShiftMode);\n    return true;\n}\nfunction setPageWidth(val, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"page width\", val, [\n        [\"max\", \"100\", \"125\", \"150\", \"200\"],\n    ])) {\n        return false;\n    }\n    config.pageWidth = val;\n    $(\"#centerContent\").removeClass(\"wide125\");\n    $(\"#centerContent\").removeClass(\"wide150\");\n    $(\"#centerContent\").removeClass(\"wide200\");\n    $(\"#centerContent\").removeClass(\"widemax\");\n    if (val !== \"100\") {\n        $(\"#centerContent\").addClass(\"wide\" + val);\n    }\n    saveToLocalStorage(\"pageWidth\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"pageWidth\", config.pageWidth);\n    return true;\n}\nfunction setCaretStyle(caretStyle, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"caret style\", caretStyle, [\n        [\"off\", \"default\", \"block\", \"outline\", \"underline\", \"carrot\", \"banana\"],\n    ])) {\n        return false;\n    }\n    config.caretStyle = caretStyle;\n    $(\"#caret\").removeClass(\"off\");\n    $(\"#caret\").removeClass(\"default\");\n    $(\"#caret\").removeClass(\"underline\");\n    $(\"#caret\").removeClass(\"outline\");\n    $(\"#caret\").removeClass(\"block\");\n    $(\"#caret\").removeClass(\"carrot\");\n    $(\"#caret\").removeClass(\"banana\");\n    if (caretStyle == \"off\") {\n        $(\"#caret\").addClass(\"off\");\n    }\n    else if (caretStyle == \"default\") {\n        $(\"#caret\").addClass(\"default\");\n    }\n    else if (caretStyle == \"block\") {\n        $(\"#caret\").addClass(\"block\");\n    }\n    else if (caretStyle == \"outline\") {\n        $(\"#caret\").addClass(\"outline\");\n    }\n    else if (caretStyle == \"underline\") {\n        $(\"#caret\").addClass(\"underline\");\n    }\n    else if (caretStyle == \"carrot\") {\n        $(\"#caret\").addClass(\"carrot\");\n    }\n    else if (caretStyle == \"banana\") {\n        $(\"#caret\").addClass(\"banana\");\n    }\n    saveToLocalStorage(\"caretStyle\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"caretStyle\", config.caretStyle);\n    return true;\n}\nfunction setPaceCaretStyle(caretStyle, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"pace caret style\", caretStyle, [\n        [\"off\", \"default\", \"block\", \"outline\", \"underline\", \"carrot\", \"banana\"],\n    ])) {\n        return false;\n    }\n    config.paceCaretStyle = caretStyle;\n    $(\"#paceCaret\").removeClass(\"off\");\n    $(\"#paceCaret\").removeClass(\"default\");\n    $(\"#paceCaret\").removeClass(\"underline\");\n    $(\"#paceCaret\").removeClass(\"outline\");\n    $(\"#paceCaret\").removeClass(\"block\");\n    $(\"#paceCaret\").removeClass(\"carrot\");\n    $(\"#paceCaret\").removeClass(\"banana\");\n    if (caretStyle == \"default\") {\n        $(\"#paceCaret\").addClass(\"default\");\n    }\n    else if (caretStyle == \"block\") {\n        $(\"#paceCaret\").addClass(\"block\");\n    }\n    else if (caretStyle == \"outline\") {\n        $(\"#paceCaret\").addClass(\"outline\");\n    }\n    else if (caretStyle == \"underline\") {\n        $(\"#paceCaret\").addClass(\"underline\");\n    }\n    else if (caretStyle == \"carrot\") {\n        $(\"#paceCaret\").addClass(\"carrot\");\n    }\n    else if (caretStyle == \"banana\") {\n        $(\"#paceCaret\").addClass(\"banana\");\n    }\n    saveToLocalStorage(\"paceCaretStyle\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"paceCaretStyle\", config.paceCaretStyle);\n    return true;\n}\nfunction setShowTimerProgress(timer, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"show timer progress\", timer, [\"boolean\"])) {\n        return false;\n    }\n    config.showTimerProgress = timer;\n    saveToLocalStorage(\"showTimerProgress\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"showTimerProgress\", config.showTimerProgress);\n    return true;\n}\nfunction setShowLiveWpm(live, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"show live WPM\", live, [\"boolean\"]))\n        return false;\n    config.showLiveWpm = live;\n    saveToLocalStorage(\"showLiveWpm\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"showLiveWpm\", config.showLiveWpm);\n    return true;\n}\nfunction setShowLiveAcc(live, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"show live acc\", live, [\"boolean\"]))\n        return false;\n    config.showLiveAcc = live;\n    saveToLocalStorage(\"showLiveAcc\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"showLiveAcc\", config.showLiveAcc);\n    return true;\n}\nfunction setShowLiveBurst(live, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"show live burst\", live, [\"boolean\"]))\n        return false;\n    config.showLiveBurst = live;\n    saveToLocalStorage(\"showLiveBurst\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"showLiveBurst\", config.showLiveBurst);\n    return true;\n}\nfunction setShowAvg(live, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"show average\", live, [\"boolean\"]))\n        return false;\n    config.showAvg = live;\n    saveToLocalStorage(\"showAvg\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"showAvg\", config.showAvg, nosave);\n    return true;\n}\nfunction setHighlightMode(mode, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"highlight mode\", mode, [[\"off\", \"letter\", \"word\"]])) {\n        return false;\n    }\n    if (mode === \"word\" &&\n        (config.funbox === \"nospace\" ||\n            config.funbox === \"read_ahead\" ||\n            config.funbox === \"read_ahead_easy\" ||\n            config.funbox === \"read_ahead_hard\" ||\n            config.funbox === \"tts\" ||\n            config.funbox === \"arrows\")) {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Can't use word highlight with this funbox\", 0);\n        return false;\n    }\n    config.highlightMode = mode;\n    saveToLocalStorage(\"highlightMode\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"highlightMode\", config.highlightMode);\n    return true;\n}\nfunction setHideExtraLetters(val, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"hide extra letters\", val, [\"boolean\"]))\n        return false;\n    config.hideExtraLetters = val;\n    saveToLocalStorage(\"hideExtraLetters\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"hideExtraLetters\", config.hideExtraLetters);\n    return true;\n}\nfunction setTimerStyle(style, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"timer style\", style, [[\"bar\", \"text\", \"mini\"]])) {\n        return false;\n    }\n    config.timerStyle = style;\n    saveToLocalStorage(\"timerStyle\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"timerStyle\", config.timerStyle);\n    return true;\n}\nfunction setTimerColor(color, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"timer color\", color, [\n        [\"black\", \"sub\", \"text\", \"main\"],\n    ])) {\n        return false;\n    }\n    config.timerColor = color;\n    $(\"#timer\").removeClass(\"timerSub\");\n    $(\"#timer\").removeClass(\"timerText\");\n    $(\"#timer\").removeClass(\"timerMain\");\n    $(\"#timerNumber\").removeClass(\"timerSub\");\n    $(\"#timerNumber\").removeClass(\"timerText\");\n    $(\"#timerNumber\").removeClass(\"timerMain\");\n    $(\"#largeLiveWpmAndAcc\").removeClass(\"timerSub\");\n    $(\"#largeLiveWpmAndAcc\").removeClass(\"timerText\");\n    $(\"#largeLiveWpmAndAcc\").removeClass(\"timerMain\");\n    $(\"#miniTimerAndLiveWpm\").removeClass(\"timerSub\");\n    $(\"#miniTimerAndLiveWpm\").removeClass(\"timerText\");\n    $(\"#miniTimerAndLiveWpm\").removeClass(\"timerMain\");\n    if (color === \"main\") {\n        $(\"#timer\").addClass(\"timerMain\");\n        $(\"#timerNumber\").addClass(\"timerMain\");\n        $(\"#largeLiveWpmAndAcc\").addClass(\"timerMain\");\n        $(\"#miniTimerAndLiveWpm\").addClass(\"timerMain\");\n    }\n    else if (color === \"sub\") {\n        $(\"#timer\").addClass(\"timerSub\");\n        $(\"#timerNumber\").addClass(\"timerSub\");\n        $(\"#largeLiveWpmAndAcc\").addClass(\"timerSub\");\n        $(\"#miniTimerAndLiveWpm\").addClass(\"timerSub\");\n    }\n    else if (color === \"text\") {\n        $(\"#timer\").addClass(\"timerText\");\n        $(\"#timerNumber\").addClass(\"timerText\");\n        $(\"#largeLiveWpmAndAcc\").addClass(\"timerText\");\n        $(\"#miniTimerAndLiveWpm\").addClass(\"timerText\");\n    }\n    saveToLocalStorage(\"timerColor\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"timerColor\", config.timerColor);\n    return true;\n}\nfunction setTimerOpacity(opacity, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"timer opacity\", opacity, [\n        [\"0.25\", \"0.5\", \"0.75\", \"1\"],\n    ])) {\n        return false;\n    }\n    config.timerOpacity = opacity;\n    saveToLocalStorage(\"timerOpacity\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"timerOpacity\", config.timerOpacity);\n    return true;\n}\n//key tips\nfunction setKeyTips(keyTips, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"key tips\", keyTips, [\"boolean\"]))\n        return false;\n    config.showKeyTips = keyTips;\n    if (config.showKeyTips) {\n        $(\"#bottom .keyTips\").removeClass(\"hidden\");\n    }\n    else {\n        $(\"#bottom .keyTips\").addClass(\"hidden\");\n    }\n    saveToLocalStorage(\"showKeyTips\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"showKeyTips\", config.showKeyTips);\n    return true;\n}\n//mode\nfunction setTimeConfig(time, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"time\", time, [\"number\"]))\n        return false;\n    const newTime = isNaN(time) || time < 0 ? _constants_default_config__WEBPACK_IMPORTED_MODULE_5__[\"default\"].time : time;\n    $(\"#top .config .time .text-button\").removeClass(\"active\");\n    const timeCustom = ![15, 30, 60, 120].includes(newTime) ? \"custom\" : newTime;\n    config.time = newTime;\n    $(\"#top .config .time .text-button[timeConfig='\" + timeCustom + \"']\").addClass(\"active\");\n    saveToLocalStorage(\"time\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"time\", config.time);\n    return true;\n}\n//quote length\nfunction setQuoteLength(len, nosave, multipleMode) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"quote length\", len, [\n        [-2, -1, 0, 1, 2, 3],\n        \"numberArray\",\n    ])) {\n        return false;\n    }\n    if (Array.isArray(len)) {\n        //config load\n        if (len.length === 1 && len[0] === -1)\n            len = [1];\n        config.quoteLength = len;\n    }\n    else {\n        if (!Array.isArray(config.quoteLength))\n            config.quoteLength = [];\n        if (len === null || isNaN(len) || len < -2 || len > 3) {\n            len = 1;\n        }\n        len = parseInt(len.toString());\n        if (multipleMode) {\n            if (!config.quoteLength.includes(len)) {\n                config.quoteLength.push(len);\n            }\n            else {\n                if (config.quoteLength.length > 1) {\n                    config.quoteLength = config.quoteLength.filter((ql) => ql !== len);\n                }\n            }\n        }\n        else {\n            config.quoteLength = [len];\n        }\n    }\n    // if (!nosave) setMode(\"quote\", nosave);\n    $(\"#top .config .quoteLength .text-button\").removeClass(\"active\");\n    config.quoteLength.forEach((ql) => {\n        $(\"#top .config .quoteLength .text-button[quoteLength='\" + ql + \"']\").addClass(\"active\");\n    });\n    saveToLocalStorage(\"quoteLength\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"quoteLength\", config.quoteLength);\n    return true;\n}\nfunction setWordCount(wordCount, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"words\", wordCount, [\"number\"]))\n        return false;\n    const newWordCount = wordCount < 0 || wordCount > 100000 ? _constants_default_config__WEBPACK_IMPORTED_MODULE_5__[\"default\"].words : wordCount;\n    $(\"#top .config .wordCount .text-button\").removeClass(\"active\");\n    const wordCustom = ![10, 25, 50, 100, 200].includes(newWordCount)\n        ? \"custom\"\n        : newWordCount;\n    config.words = newWordCount;\n    $(\"#top .config .wordCount .text-button[wordCount='\" + wordCustom + \"']\").addClass(\"active\");\n    saveToLocalStorage(\"words\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"words\", config.words);\n    return true;\n}\n//caret\nfunction setSmoothCaret(mode, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"smooth caret\", mode, [\"boolean\"]))\n        return false;\n    config.smoothCaret = mode;\n    if (mode) {\n        $(\"#caret\").css(\"animation-name\", \"caretFlashSmooth\");\n    }\n    else {\n        $(\"#caret\").css(\"animation-name\", \"caretFlashHard\");\n    }\n    saveToLocalStorage(\"smoothCaret\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"smoothCaret\", config.smoothCaret);\n    return true;\n}\nfunction setStartGraphsAtZero(mode, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"start graphs at zero\", mode, [\"boolean\"])) {\n        return false;\n    }\n    config.startGraphsAtZero = mode;\n    saveToLocalStorage(\"startGraphsAtZero\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"startGraphsAtZero\", config.startGraphsAtZero);\n    return true;\n}\n//linescroll\nfunction setSmoothLineScroll(mode, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"smooth line scroll\", mode, [\"boolean\"])) {\n        return false;\n    }\n    config.smoothLineScroll = mode;\n    saveToLocalStorage(\"smoothLineScroll\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"smoothLineScroll\", config.smoothLineScroll);\n    return true;\n}\n//quick tab\nfunction setQuickTabMode(mode, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"quick tab mode\", mode, [\"boolean\"]))\n        return false;\n    config.quickTab = mode;\n    if (!config.quickTab) {\n        $(\"#restartTestButton\").removeClass(\"hidden\");\n        $(\"#restartTestButton\").css(\"opacity\", 1);\n        $(\"#bottom .keyTips\")\n            .html(`<key>tab</key> and <key>enter</key> / <key>space</key> - restart test<br>\n      <key>ctrl/cmd</key>+<key>shift</key>+<key>p</key> or <key>esc</key> - command line`);\n    }\n    else {\n        $(\"#restartTestButton\").addClass(\"hidden\");\n        $(\"#bottom .keyTips\").html(`<key>tab</key> - restart test<br>\n    <key>ctrl/cmd</key>+<key>shift</key>+<key>p</key> or <key>esc</key> - command line`);\n    }\n    saveToLocalStorage(\"quickTab\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"quickTab\", config.quickTab);\n    return true;\n}\nfunction previewFontFamily(font) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"preview font family\", font, [\"string\"])) {\n        return false;\n    }\n    document.documentElement.style.setProperty(\"--font\", '\"' + font.replace(/_/g, \" \") + '\", \"Roboto Mono\"');\n    return true;\n}\n//font family\nfunction setFontFamily(font, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"font family\", font, [\"string\"]))\n        return false;\n    if (font === \"\") {\n        font = \"roboto_mono\";\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Empty input received, reverted to the default font.\", 0, 3, \"Custom font\");\n    }\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigKeyValid)(font)) {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(`Invalid font name value: \"${font}\".`, -1, 3, \"Custom font\");\n        return false;\n    }\n    config.fontFamily = font;\n    document.documentElement.style.setProperty(\"--font\", `\"${font.replace(/_/g, \" \")}\", \"Roboto Mono\"`);\n    saveToLocalStorage(\"fontFamily\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"fontFamily\", config.fontFamily);\n    return true;\n}\n//freedom\nfunction setFreedomMode(freedom, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"freedom mode\", freedom, [\"boolean\"]))\n        return false;\n    if (freedom == null) {\n        freedom = false;\n    }\n    config.freedomMode = freedom;\n    if (config.freedomMode && config.confidenceMode !== \"off\") {\n        config.confidenceMode = \"off\";\n    }\n    saveToLocalStorage(\"freedomMode\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"freedomMode\", config.freedomMode);\n    return true;\n}\nfunction setConfidenceMode(cm, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"confidence mode\", cm, [[\"off\", \"on\", \"max\"]])) {\n        return false;\n    }\n    config.confidenceMode = cm;\n    if (config.confidenceMode !== \"off\") {\n        config.freedomMode = false;\n        config.stopOnError = \"off\";\n    }\n    saveToLocalStorage(\"confidenceMode\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"confidenceMode\", config.confidenceMode, nosave);\n    return true;\n}\nfunction setIndicateTypos(value, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"indicate typos\", value, [[\"off\", \"below\", \"replace\"]])) {\n        return false;\n    }\n    config.indicateTypos = value;\n    saveToLocalStorage(\"indicateTypos\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"indicateTypos\", config.indicateTypos);\n    return true;\n}\nfunction setAutoSwitchTheme(boolean, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"auto switch theme\", boolean, [\"boolean\"])) {\n        return false;\n    }\n    boolean = boolean !== null && boolean !== void 0 ? boolean : _constants_default_config__WEBPACK_IMPORTED_MODULE_5__[\"default\"].autoSwitchTheme;\n    config.autoSwitchTheme = boolean;\n    saveToLocalStorage(\"autoSwitchTheme\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"autoSwitchTheme\", config.autoSwitchTheme);\n    return true;\n}\nfunction setCustomTheme(boolean, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"custom theme\", boolean, [\"boolean\"]))\n        return false;\n    config.customTheme = boolean;\n    saveToLocalStorage(\"customTheme\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"customTheme\", config.customTheme);\n    return true;\n}\nfunction setTheme(name, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"theme\", name, [\"string\"]))\n        return false;\n    config.theme = name;\n    setCustomTheme(false);\n    saveToLocalStorage(\"theme\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"theme\", config.theme);\n    return true;\n}\nfunction setThemeLight(name, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"theme light\", name, [\"string\"]))\n        return false;\n    config.themeLight = name;\n    saveToLocalStorage(\"themeLight\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"themeLight\", config.themeLight, nosave);\n    return true;\n}\nfunction setThemeDark(name, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"theme dark\", name, [\"string\"]))\n        return false;\n    config.themeDark = name;\n    saveToLocalStorage(\"themeDark\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"themeDark\", config.themeDark, nosave);\n    return true;\n}\nfunction setThemes(theme, customState, customThemeColors, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"themes\", theme, [\"string\"]))\n        return false;\n    config.customThemeColors = customThemeColors;\n    config.theme = theme;\n    config.customTheme = customState;\n    saveToLocalStorage(\"theme\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"setThemes\", customState);\n    return true;\n}\nfunction setRandomTheme(val, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"random theme\", val, [\n        [\"off\", \"on\", \"fav\", \"light\", \"dark\", \"custom\"],\n    ])) {\n        return false;\n    }\n    if (val === \"custom\") {\n        if (_firebase__WEBPACK_IMPORTED_MODULE_6__.Auth.currentUser === null) {\n            config.randomTheme = val;\n            return false;\n        }\n        if (!_db__WEBPACK_IMPORTED_MODULE_0__.getSnapshot())\n            return true;\n        if (_db__WEBPACK_IMPORTED_MODULE_0__.getSnapshot().customThemes.length === 0) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"You need to create a custom theme first\", 0);\n            config.randomTheme = \"off\";\n            return false;\n        }\n    }\n    config.randomTheme = val;\n    saveToLocalStorage(\"randomTheme\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"randomTheme\", config.randomTheme);\n    return true;\n}\nfunction setBritishEnglish(val, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"british english\", val, [\"boolean\"]))\n        return false;\n    if (!val) {\n        val = false;\n    }\n    config.britishEnglish = val;\n    saveToLocalStorage(\"britishEnglish\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"britishEnglish\", config.britishEnglish);\n    return true;\n}\nfunction setLazyMode(val, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"lazy mode\", val, [\"boolean\"]))\n        return false;\n    if (!val) {\n        val = false;\n    }\n    config.lazyMode = val;\n    saveToLocalStorage(\"lazyMode\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"lazyMode\", config.lazyMode, nosave);\n    return true;\n}\nfunction setCustomThemeColors(colors, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"custom theme colors\", colors, [\"stringArray\"])) {\n        return false;\n    }\n    if (colors !== undefined) {\n        config.customThemeColors = colors;\n        // ThemeController.set(\"custom\");\n        // applyCustomThemeColors();\n    }\n    saveToLocalStorage(\"customThemeColors\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"customThemeColors\", config.customThemeColors, nosave);\n    return true;\n}\nfunction setLanguage(language, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"language\", language, [\"string\"]))\n        return false;\n    config.language = language;\n    _controllers_analytics_controller__WEBPACK_IMPORTED_MODULE_7__.log(\"changedLanguage\", { language });\n    saveToLocalStorage(\"language\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"language\", config.language);\n    return true;\n}\nfunction setMonkey(monkey, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"monkey\", monkey, [\"boolean\"]))\n        return false;\n    config.monkey = monkey;\n    saveToLocalStorage(\"monkey\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"monkey\", config.monkey);\n    return true;\n}\nfunction setKeymapMode(mode, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"keymap mode\", mode, [\n        [\"off\", \"static\", \"react\", \"next\"],\n    ])) {\n        return false;\n    }\n    $(\".active-key\").removeClass(\"active-key\");\n    $(\".keymap-key\").attr(\"style\", \"\");\n    config.keymapMode = mode;\n    saveToLocalStorage(\"keymapMode\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"keymapMode\", config.keymapMode, nosave);\n    return true;\n}\nfunction setKeymapLegendStyle(style, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"keymap legend style\", style, [\n        [\"lowercase\", \"uppercase\", \"blank\", \"dynamic\"],\n    ])) {\n        return false;\n    }\n    // Remove existing styles\n    const keymapLegendStyles = [\"lowercase\", \"uppercase\", \"blank\", \"dynamic\"];\n    keymapLegendStyles.forEach((name) => {\n        $(\".keymapLegendStyle\").removeClass(name);\n    });\n    style = style || \"lowercase\";\n    // Mutate the keymap in the DOM, if it exists.\n    // 1. Remove everything\n    $(\".keymap-key > .letter\").css(\"display\", \"\");\n    $(\".keymap-key > .letter\").css(\"text-transform\", \"\");\n    // 2. Append special styles onto the DOM elements\n    if (style === \"uppercase\") {\n        $(\".keymap-key > .letter\").css(\"text-transform\", \"capitalize\");\n    }\n    if (style === \"blank\") {\n        $(\".keymap-key > .letter\").css(\"display\", \"none\");\n    }\n    // Update and save to cookie for persistence\n    $(\".keymapLegendStyle\").addClass(style);\n    config.keymapLegendStyle = style;\n    saveToLocalStorage(\"keymapLegendStyle\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"keymapLegendStyle\", config.keymapLegendStyle);\n    return true;\n}\nfunction setKeymapStyle(style, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"keymap style\", style, [\n        [\"staggered\", \"alice\", \"matrix\", \"split\", \"split_matrix\"],\n    ])) {\n        return false;\n    }\n    style = style || \"staggered\";\n    config.keymapStyle = style;\n    saveToLocalStorage(\"keymapStyle\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"keymapStyle\", config.keymapStyle);\n    return true;\n}\nfunction setKeymapLayout(layout, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"keymap layout\", layout, [\"string\"]))\n        return false;\n    config.keymapLayout = layout;\n    saveToLocalStorage(\"keymapLayout\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"keymapLayout\", config.keymapLayout);\n    return true;\n}\nfunction setLayout(layout, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"layout\", layout, [\"string\"]))\n        return false;\n    config.layout = layout;\n    saveToLocalStorage(\"layout\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"layout\", config.layout, nosave);\n    return true;\n}\n// export function setSavedLayout(layout: string, nosave?: boolean): boolean {\n//   if (layout == null || layout == undefined) {\n//     layout = \"qwerty\";\n//   }\n//   config.savedLayout = layout;\n//   setLayout(layout, nosave);\n//   return true;\n// }\nfunction setFontSize(fontSize, nosave) {\n    fontSize = fontSize.toString(); //todo remove after around a week\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"font size\", fontSize, [\n        [\"1\", \"125\", \"15\", \"2\", \"3\", \"4\"],\n    ])) {\n        return false;\n    }\n    config.fontSize = fontSize;\n    $(\"#words\").removeClass(\"size125\");\n    $(\"#caret, #paceCaret\").removeClass(\"size125\");\n    $(\"#words\").removeClass(\"size15\");\n    $(\"#caret, #paceCaret\").removeClass(\"size15\");\n    $(\"#words\").removeClass(\"size2\");\n    $(\"#caret, #paceCaret\").removeClass(\"size2\");\n    $(\"#words\").removeClass(\"size3\");\n    $(\"#caret, #paceCaret\").removeClass(\"size3\");\n    $(\"#words\").removeClass(\"size35\");\n    $(\"#caret, #paceCaret\").removeClass(\"size35\");\n    $(\"#words\").removeClass(\"size4\");\n    $(\"#caret, #paceCaret\").removeClass(\"size4\");\n    $(\"#miniTimerAndLiveWpm\").removeClass(\"size125\");\n    $(\"#miniTimerAndLiveWpm\").removeClass(\"size15\");\n    $(\"#miniTimerAndLiveWpm\").removeClass(\"size2\");\n    $(\"#miniTimerAndLiveWpm\").removeClass(\"size3\");\n    $(\"#miniTimerAndLiveWpm\").removeClass(\"size35\");\n    $(\"#miniTimerAndLiveWpm\").removeClass(\"size4\");\n    if (fontSize == \"125\") {\n        $(\"#words\").addClass(\"size125\");\n        $(\"#caret, #paceCaret\").addClass(\"size125\");\n        $(\"#miniTimerAndLiveWpm\").addClass(\"size125\");\n    }\n    else if (fontSize == \"15\") {\n        $(\"#words\").addClass(\"size15\");\n        $(\"#caret, #paceCaret\").addClass(\"size15\");\n        $(\"#miniTimerAndLiveWpm\").addClass(\"size15\");\n    }\n    else if (fontSize == \"2\") {\n        $(\"#words\").addClass(\"size2\");\n        $(\"#caret, #paceCaret\").addClass(\"size2\");\n        $(\"#miniTimerAndLiveWpm\").addClass(\"size2\");\n    }\n    else if (fontSize == \"3\") {\n        $(\"#words\").addClass(\"size3\");\n        $(\"#caret, #paceCaret\").addClass(\"size3\");\n        $(\"#miniTimerAndLiveWpm\").addClass(\"size3\");\n    }\n    else if (fontSize == \"4\") {\n        $(\"#words\").addClass(\"size4\");\n        $(\"#caret, #paceCaret\").addClass(\"size4\");\n        $(\"#miniTimerAndLiveWpm\").addClass(\"size4\");\n    }\n    saveToLocalStorage(\"fontSize\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"fontSize\", config.fontSize);\n    return true;\n}\nfunction setCustomBackground(value, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"custom background\", value, [\"string\"]))\n        return false;\n    value = value.trim();\n    if ((/(https|http):\\/\\/(www\\.|).+\\..+\\/.+(\\.png|\\.gif|\\.jpeg|\\.jpg)/gi.test(value) &&\n        !/[<>]/.test(value)) ||\n        value == \"\") {\n        config.customBackground = value;\n        saveToLocalStorage(\"customBackground\", nosave);\n        _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"customBackground\", config.customBackground);\n    }\n    else {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Invalid custom background URL\", 0);\n    }\n    return true;\n}\nfunction setCustomLayoutfluid(value, nosave) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const trimmed = value.trim();\n        if (!(yield (0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValidAsync)(\"layoutfluid\", trimmed, [\"layoutfluid\"]))) {\n            return false;\n        }\n        const customLayoutfluid = trimmed.replace(/ /g, \"#\");\n        config.customLayoutfluid = customLayoutfluid;\n        $(\".pageSettings .section.customLayoutfluid input\").val(customLayoutfluid.replace(/#/g, \" \"));\n        saveToLocalStorage(\"customLayoutfluid\", nosave);\n        _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"customLayoutFluid\", config.customLayoutfluid);\n        return true;\n    });\n}\nfunction setCustomBackgroundSize(value, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"custom background size\", value, [\n        [\"max\", \"cover\", \"contain\"],\n    ])) {\n        return false;\n    }\n    if (value != \"cover\" && value != \"contain\" && value != \"max\") {\n        value = \"cover\";\n    }\n    config.customBackgroundSize = value;\n    saveToLocalStorage(\"customBackgroundSize\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"customBackgroundSize\", config.customBackgroundSize);\n    return true;\n}\nfunction setCustomBackgroundFilter(array, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"custom background filter\", array, [\"numberArray\"])) {\n        return false;\n    }\n    config.customBackgroundFilter = array;\n    saveToLocalStorage(\"customBackgroundFilter\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"customBackgroundFilter\", config.customBackgroundFilter);\n    return true;\n}\nfunction setMonkeyPowerLevel(level, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"monkey power level\", level, [\n        [\"off\", \"1\", \"2\", \"3\", \"4\"],\n    ])) {\n        return false;\n    }\n    if (![\"off\", \"1\", \"2\", \"3\", \"4\"].includes(level))\n        level = \"off\";\n    config.monkeyPowerLevel = level;\n    saveToLocalStorage(\"monkeyPowerLevel\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"monkeyPowerLevel\", config.monkeyPowerLevel);\n    return true;\n}\nfunction setBurstHeatmap(value, nosave) {\n    if (!(0,_config_validation__WEBPACK_IMPORTED_MODULE_3__.isConfigValueValid)(\"burst heatmap\", value, [\"boolean\"]))\n        return false;\n    if (!value) {\n        value = false;\n    }\n    config.burstHeatmap = value;\n    saveToLocalStorage(\"burstHeatmap\", nosave);\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"burstHeatmap\", config.burstHeatmap);\n    return true;\n}\nfunction apply(configToApply) {\n    if (!configToApply)\n        return;\n    const configObj = configToApply;\n    Object.keys(_constants_default_config__WEBPACK_IMPORTED_MODULE_5__[\"default\"]).forEach((configKey) => {\n        if (configObj[configKey] === undefined) {\n            const newValue = _constants_default_config__WEBPACK_IMPORTED_MODULE_5__[\"default\"][configKey];\n            configObj[configKey] = newValue;\n        }\n    });\n    if (configObj !== undefined && configObj !== null) {\n        setThemeLight(configObj.themeLight, true);\n        setThemeDark(configObj.themeDark, true);\n        setAutoSwitchTheme(configObj.autoSwitchTheme, true);\n        setThemes(configObj.theme, configObj.customTheme, configObj.customThemeColors, true);\n        setCustomLayoutfluid(configObj.customLayoutfluid, true);\n        setCustomBackground(configObj.customBackground, true);\n        setCustomBackgroundSize(configObj.customBackgroundSize, true);\n        setCustomBackgroundFilter(configObj.customBackgroundFilter, true);\n        setQuickTabMode(configObj.quickTab, true);\n        setKeyTips(configObj.showKeyTips, true);\n        setTimeConfig(configObj.time, true);\n        setQuoteLength(configObj.quoteLength, true);\n        setWordCount(configObj.words, true);\n        setLanguage(configObj.language, true);\n        setLayout(configObj.layout, true);\n        setFontSize(configObj.fontSize, true);\n        setFreedomMode(configObj.freedomMode, true);\n        setCaretStyle(configObj.caretStyle, true);\n        setPaceCaretStyle(configObj.paceCaretStyle, true);\n        setDifficulty(configObj.difficulty, true);\n        setBlindMode(configObj.blindMode, true);\n        setQuickEnd(configObj.quickEnd, true);\n        setFlipTestColors(configObj.flipTestColors, true);\n        setColorfulMode(configObj.colorfulMode, true);\n        setConfidenceMode(configObj.confidenceMode, true);\n        setIndicateTypos(configObj.indicateTypos, true);\n        setTimerStyle(configObj.timerStyle, true);\n        setTimerColor(configObj.timerColor, true);\n        setTimerOpacity(configObj.timerOpacity, true);\n        setKeymapMode(configObj.keymapMode, true);\n        setKeymapStyle(configObj.keymapStyle, true);\n        setKeymapLegendStyle(configObj.keymapLegendStyle, true);\n        setKeymapLayout(configObj.keymapLayout, true);\n        setFontFamily(configObj.fontFamily, true);\n        setSmoothCaret(configObj.smoothCaret, true);\n        setSmoothLineScroll(configObj.smoothLineScroll, true);\n        setShowLiveWpm(configObj.showLiveWpm, true);\n        setShowLiveAcc(configObj.showLiveAcc, true);\n        setShowLiveBurst(configObj.showLiveBurst, true);\n        setShowTimerProgress(configObj.showTimerProgress, true);\n        setAlwaysShowDecimalPlaces(configObj.alwaysShowDecimalPlaces, true);\n        setAlwaysShowWordsHistory(configObj.alwaysShowWordsHistory, true);\n        setSingleListCommandLine(configObj.singleListCommandLine, true);\n        setCapsLockWarning(configObj.capsLockWarning, true);\n        setPlaySoundOnError(configObj.playSoundOnError, true);\n        setPlaySoundOnClick(configObj.playSoundOnClick, true);\n        setSoundVolume(configObj.soundVolume, true);\n        setStopOnError(configObj.stopOnError, true);\n        setFavThemes(configObj.favThemes, true);\n        setFunbox(configObj.funbox, true);\n        setRandomTheme(configObj.randomTheme, true);\n        setShowAllLines(configObj.showAllLines, true);\n        setSwapEscAndTab(configObj.swapEscAndTab, true);\n        setShowOutOfFocusWarning(configObj.showOutOfFocusWarning, true);\n        setPaceCaret(configObj.paceCaret, true);\n        setPaceCaretCustomSpeed(configObj.paceCaretCustomSpeed, true);\n        setRepeatedPace(configObj.repeatedPace, true);\n        setPageWidth(configObj.pageWidth, true);\n        setChartAccuracy(configObj.chartAccuracy, true);\n        setChartStyle(configObj.chartStyle, true);\n        setMinBurst(configObj.minBurst, true);\n        setMinBurstCustomSpeed(configObj.minBurstCustomSpeed, true);\n        setMinWpm(configObj.minWpm, true);\n        setMinWpmCustomSpeed(configObj.minWpmCustomSpeed, true);\n        setMinAcc(configObj.minAcc, true);\n        setMinAccCustom(configObj.minAccCustom, true);\n        setNumbers(configObj.numbers, true);\n        setPunctuation(configObj.punctuation, true);\n        setHighlightMode(configObj.highlightMode, true);\n        setAlwaysShowCPM(configObj.alwaysShowCPM, true);\n        setHideExtraLetters(configObj.hideExtraLetters, true);\n        setStartGraphsAtZero(configObj.startGraphsAtZero, true);\n        setStrictSpace(configObj.strictSpace, true);\n        setOppositeShiftMode(configObj.oppositeShiftMode, true);\n        setMode(configObj.mode, true);\n        setMonkey(configObj.monkey, true);\n        setRepeatQuotes(configObj.repeatQuotes, true);\n        setMonkeyPowerLevel(configObj.monkeyPowerLevel, true);\n        setBurstHeatmap(configObj.burstHeatmap, true);\n        setBritishEnglish(configObj.britishEnglish, true);\n        setLazyMode(configObj.lazyMode, true);\n        setShowAvg(configObj.showAvg, true);\n        try {\n            setEnableAds(configObj.enableAds, true);\n            if (config.enableAds === \"max\" || config.enableAds === \"on\") {\n                $(\"head\").append(`\n          <script\n          src=\"https://hb.vntsm.com/v3/live/ad-manager.min.js\"\n          type=\"text/javascript\"\n          data-site-id=\"60b78af12119122b8958910f\"\n          data-mode=\"scan\"\n          id=\"adScript\"\n          async\n          ></script>\n        `);\n                if (config.enableAds === \"max\") {\n                    //\n                    $(\"#ad_rich_media\").removeClass(\"hidden\");\n                    $(\"#ad_rich_media\").html(`<div class=\"vm-placement\" data-id=\"60bf737ee04cb761c88aafb1\" style=\"display:none\"></div>`);\n                }\n                else {\n                    $(\"#ad_rich_media\").remove();\n                }\n                //<div class=\"vm-placement\" data-id=\"60bf73dae04cb761c88aafb5\"></div>\n                $(\"#ad_footer\").html(`<div class=\"vm-placement\" data-id=\"60bf73dae04cb761c88aafb5\"></div>`);\n                $(\"#ad_footer\").removeClass(\"hidden\");\n                // $(\"#ad_footer2\").html(`<div class=\"vm-placement\" data-id=\"60bf73e9e04cb761c88aafb7\"></div>`);\n                // $(\"#ad_footer2\").removeClass(\"hidden\");\n                $(\"#ad_about1\").html(`<div class=\"vm-placement\" data-id=\"60bf73dae04cb761c88aafb5\"></div>`);\n                $(\"#ad_about1\").removeClass(\"hidden\");\n                $(\"#ad_about2\").html(`<div class=\"vm-placement\" data-id=\"60bf73dae04cb761c88aafb5\"></div>`);\n                $(\"#ad_about2\").removeClass(\"hidden\");\n                $(\"#ad_settings0\").html(`<div class=\"vm-placement\" data-id=\"60bf73dae04cb761c88aafb5\"></div>`);\n                $(\"#ad_settings0\").removeClass(\"hidden\");\n                $(\"#ad_settings1\").html(`<div class=\"vm-placement\" data-id=\"60bf73dae04cb761c88aafb5\"></div>`);\n                $(\"#ad_settings1\").removeClass(\"hidden\");\n                $(\"#ad_settings2\").html(`<div class=\"vm-placement\" data-id=\"60bf73dae04cb761c88aafb5\"></div>`);\n                $(\"#ad_settings2\").removeClass(\"hidden\");\n                $(\"#ad_settings3\").html(`<div class=\"vm-placement\" data-id=\"60bf73dae04cb761c88aafb5\"></div>`);\n                $(\"#ad_settings3\").removeClass(\"hidden\");\n                $(\"#ad_account\").html(`<div class=\"vm-placement\" data-id=\"60bf73dae04cb761c88aafb5\"></div>`);\n                $(\"#ad_account\").removeClass(\"hidden\");\n                $(\".footerads\").removeClass(\"hidden\");\n            }\n            else {\n                $(\"#adScript\").remove();\n                $(\".footerads\").remove();\n                $(\"#ad_left\").remove();\n                $(\"#ad_right\").remove();\n                $(\"#ad_footer\").remove();\n                $(\"#ad_footer2\").remove();\n                $(\"#ad_footer3\").remove();\n                $(\"#ad_settings0\").remove();\n                $(\"#ad_settings1\").remove();\n                $(\"#ad_settings2\").remove();\n                $(\"#ad_settings3\").remove();\n                $(\"#ad_account\").remove();\n                $(\"#ad_about1\").remove();\n                $(\"#ad_about2\").remove();\n            }\n        }\n        catch (e) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Error initialising ads: \" + e.message);\n            console.log(\"error initialising ads \" + e.message);\n            $(\".footerads\").remove();\n            $(\"#ad_left\").remove();\n            $(\"#ad_right\").remove();\n            $(\"#ad_footer\").remove();\n            $(\"#ad_footer2\").remove();\n            $(\"#ad_footer3\").remove();\n            $(\"#ad_settings0\").remove();\n            $(\"#ad_settings1\").remove();\n            $(\"#ad_settings2\").remove();\n            $(\"#ad_settings3\").remove();\n            $(\"#ad_account\").remove();\n            $(\"#ad_about1\").remove();\n            $(\"#ad_about2\").remove();\n        }\n        _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"configApplied\", undefined, undefined, undefined, config);\n    }\n}\nfunction reset() {\n    _observables_config_event__WEBPACK_IMPORTED_MODULE_4__.dispatch(\"fullConfigChange\");\n    apply(_constants_default_config__WEBPACK_IMPORTED_MODULE_5__[\"default\"]);\n    saveFullConfigToLocalStorage();\n}\nfunction loadFromLocalStorage() {\n    console.log(\"loading localStorage config\");\n    const newConfigString = window.localStorage.getItem(\"config\");\n    let newConfig;\n    if (newConfigString !== undefined &&\n        newConfigString !== null &&\n        newConfigString !== \"\") {\n        try {\n            newConfig = JSON.parse(newConfigString);\n        }\n        catch (e) {\n            newConfig = {};\n        }\n        apply(newConfig);\n        console.log(\"applying localStorage config\");\n        localStorageConfig = newConfig;\n        saveFullConfigToLocalStorage(true);\n        console.log(\"saving localStorage config\");\n    }\n    // TestLogic.restart(false, true);\n    loadDone();\n}\nfunction getConfigChanges() {\n    const configChanges = {};\n    Object.keys(config)\n        .filter((key) => {\n        return config[key] != _constants_default_config__WEBPACK_IMPORTED_MODULE_5__[\"default\"][key];\n    })\n        .forEach((key) => {\n        configChanges[key] = config[key];\n    });\n    return configChanges;\n}\nfunction setConfig(newConfig) {\n    config = newConfig;\n}\nconst loadPromise = new Promise((v) => {\n    loadDone = v;\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (config);\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/config.ts?");

/***/ }),

/***/ "./src/scripts/constants/default-config.ts":
/*!*************************************************!*\
  !*** ./src/scripts/constants/default-config.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n    theme: \"serika_dark\",\n    themeLight: \"serika\",\n    themeDark: \"serika_dark\",\n    autoSwitchTheme: false,\n    customTheme: false,\n    customThemeColors: [\n        \"#323437\",\n        \"#e2b714\",\n        \"#e2b714\",\n        \"#646669\",\n        \"#d1d0c5\",\n        \"#ca4754\",\n        \"#7e2a33\",\n        \"#ca4754\",\n        \"#7e2a33\",\n    ],\n    favThemes: [],\n    showKeyTips: true,\n    showLiveWpm: false,\n    showTimerProgress: true,\n    smoothCaret: true,\n    quickTab: false,\n    punctuation: false,\n    numbers: false,\n    words: 50,\n    time: 30,\n    mode: \"time\",\n    quoteLength: [1],\n    language: \"english\",\n    fontSize: \"15\",\n    freedomMode: false,\n    resultFilters: null,\n    difficulty: \"normal\",\n    blindMode: false,\n    quickEnd: false,\n    caretStyle: \"default\",\n    paceCaretStyle: \"default\",\n    flipTestColors: false,\n    layout: \"default\",\n    funbox: \"none\",\n    confidenceMode: \"off\",\n    indicateTypos: \"off\",\n    timerStyle: \"mini\",\n    colorfulMode: false,\n    randomTheme: \"off\",\n    timerColor: \"main\",\n    timerOpacity: \"1\",\n    stopOnError: \"off\",\n    showAllLines: false,\n    keymapMode: \"off\",\n    keymapStyle: \"staggered\",\n    keymapLegendStyle: \"lowercase\",\n    keymapLayout: \"overrideSync\",\n    fontFamily: \"Roboto_Mono\",\n    smoothLineScroll: false,\n    alwaysShowDecimalPlaces: false,\n    alwaysShowWordsHistory: false,\n    singleListCommandLine: \"manual\",\n    capsLockWarning: true,\n    playSoundOnError: false,\n    playSoundOnClick: \"off\",\n    soundVolume: \"0.5\",\n    startGraphsAtZero: true,\n    swapEscAndTab: false,\n    showOutOfFocusWarning: true,\n    paceCaret: \"off\",\n    paceCaretCustomSpeed: 100,\n    repeatedPace: true,\n    pageWidth: \"100\",\n    chartAccuracy: true,\n    chartStyle: \"line\",\n    minWpm: \"off\",\n    minWpmCustomSpeed: 100,\n    highlightMode: \"letter\",\n    alwaysShowCPM: false,\n    enableAds: \"off\",\n    hideExtraLetters: false,\n    strictSpace: false,\n    minAcc: \"off\",\n    minAccCustom: 90,\n    showLiveAcc: false,\n    showLiveBurst: false,\n    monkey: false,\n    repeatQuotes: \"off\",\n    oppositeShiftMode: \"off\",\n    customBackground: \"\",\n    customBackgroundSize: \"cover\",\n    customBackgroundFilter: [0, 1, 1, 1, 1],\n    customLayoutfluid: \"qwerty#dvorak#colemak\",\n    monkeyPowerLevel: \"off\",\n    minBurst: \"off\",\n    minBurstCustomSpeed: 100,\n    burstHeatmap: false,\n    britishEnglish: false,\n    lazyMode: false,\n    showAvg: false,\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/constants/default-config.ts?");

/***/ }),

/***/ "./src/scripts/constants/default-snapshot.ts":
/*!***************************************************!*\
  !*** ./src/scripts/constants/default-snapshot.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"defaultSnap\": () => (/* binding */ defaultSnap)\n/* harmony export */ });\nconst defaultSnap = {\n    results: undefined,\n    personalBests: {\n        time: {},\n        words: {},\n        zen: { zen: [] },\n        quote: { custom: [] },\n        custom: { custom: [] },\n    },\n    name: \"\",\n    customThemes: [],\n    presets: [],\n    tags: [],\n    favouriteThemes: [],\n    banned: undefined,\n    verified: undefined,\n    emailVerified: undefined,\n    lbMemory: { time: { 15: { english: 0 }, 60: { english: 0 } } },\n    globalStats: {\n        time: 0,\n        started: 0,\n        completed: 0,\n    },\n    quoteRatings: undefined,\n    quoteMod: false,\n};\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/constants/default-snapshot.ts?");

/***/ }),

/***/ "./src/scripts/constants/firebase-config.ts":
/*!**************************************************!*\
  !*** ./src/scripts/constants/firebase-config.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"firebaseConfig\": () => (/* binding */ firebaseConfig)\n/* harmony export */ });\n// To find your config, go to https://console.firebase.google.com/ and select your project\n// Go to (top left) Settings > Project Settings > General\n// scroll down to Your apps > Web Apps (if it doesnt exist, create one) > SDK setup and configuration > select npm\n// your config should be visible there\nconst firebaseConfig = {\n    apiKey: \"AIzaSyBKuWWU64RtnZLqkG1qFcKDZRf4CDw-OcA\",\n    authDomain: \"monkeytype-fa46e.firebaseapp.com\",\n    projectId: \"monkeytype-fa46e\",\n    storageBucket: \"monkeytype-fa46e.appspot.com\",\n    messagingSenderId: \"681534976781\",\n    appId: \"1:681534976781:web:7c7b6b0f257a22b66af644\",\n};\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/constants/firebase-config.ts?");

/***/ }),

/***/ "./src/scripts/controllers/account-controller.ts":
/*!*******************************************************!*\
  !*** ./src/scripts/controllers/account-controller.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"gmailProvider\": () => (/* binding */ gmailProvider),\n/* harmony export */   \"sendVerificationEmail\": () => (/* binding */ sendVerificationEmail),\n/* harmony export */   \"getDataAndInit\": () => (/* binding */ getDataAndInit),\n/* harmony export */   \"signIn\": () => (/* binding */ signIn),\n/* harmony export */   \"signInWithGoogle\": () => (/* binding */ signInWithGoogle),\n/* harmony export */   \"addGoogleAuth\": () => (/* binding */ addGoogleAuth),\n/* harmony export */   \"removeGoogleAuth\": () => (/* binding */ removeGoogleAuth),\n/* harmony export */   \"addPasswordAuth\": () => (/* binding */ addPasswordAuth),\n/* harmony export */   \"signOut\": () => (/* binding */ signOut)\n/* harmony export */ });\n/* harmony import */ var _ape__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ape */ \"./src/scripts/ape/index.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../elements/notifications */ \"./src/scripts/elements/notifications.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _elements_account_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../elements/account-button */ \"./src/scripts/elements/account-button.ts\");\n/* harmony import */ var _pages_account__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../pages/account */ \"./src/scripts/pages/account.ts\");\n/* harmony import */ var _verification_controller__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./verification-controller */ \"./src/scripts/controllers/verification-controller.ts\");\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _pages_settings__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../pages/settings */ \"./src/scripts/pages/settings.ts\");\n/* harmony import */ var _account_all_time_stats__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../account/all-time-stats */ \"./src/scripts/account/all-time-stats.ts\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../db */ \"./src/scripts/db.ts\");\n/* harmony import */ var _test_test_logic__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../test/test-logic */ \"./src/scripts/test/test-logic.ts\");\n/* harmony import */ var _page_controller__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./page-controller */ \"./src/scripts/controllers/page-controller.ts\");\n/* harmony import */ var _elements_psa__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../elements/psa */ \"./src/scripts/elements/psa.ts\");\n/* harmony import */ var _test_focus__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../test/focus */ \"./src/scripts/test/focus.ts\");\n/* harmony import */ var _elements_loader__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../elements/loader */ \"./src/scripts/elements/loader.ts\");\n/* harmony import */ var _states_page_transition__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../states/page-transition */ \"./src/scripts/states/page-transition.ts\");\n/* harmony import */ var _states_active_page__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../states/active-page */ \"./src/scripts/states/active-page.ts\");\n/* harmony import */ var _states_test_active__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../states/test-active */ \"./src/scripts/states/test-active.ts\");\n/* harmony import */ var _pages_loading__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../pages/loading */ \"./src/scripts/pages/loading.ts\");\n/* harmony import */ var _account_result_filters__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../account/result-filters */ \"./src/scripts/account/result-filters.ts\");\n/* harmony import */ var _test_pace_caret__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../test/pace-caret */ \"./src/scripts/test/pace-caret.ts\");\n/* harmony import */ var _elements_commandline_lists__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../elements/commandline-lists */ \"./src/scripts/elements/commandline-lists.ts\");\n/* harmony import */ var _tag_controller__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./tag-controller */ \"./src/scripts/controllers/tag-controller.ts\");\n/* harmony import */ var _popups_result_tags_popup__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../popups/result-tags-popup */ \"./src/scripts/popups/result-tags-popup.ts\");\n/* harmony import */ var _utils_url_handler__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../utils/url-handler */ \"./src/scripts/utils/url-handler.ts\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! firebase/auth */ \"./node_modules/firebase/auth/dist/index.esm.js\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../firebase */ \"./src/scripts/firebase.ts\");\n/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! date-fns */ \"./node_modules/date-fns/esm/differenceInDays/index.js\");\n/* harmony import */ var _constants_default_snapshot__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../constants/default-snapshot */ \"./src/scripts/constants/default-snapshot.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst gmailProvider = new firebase_auth__WEBPACK_IMPORTED_MODULE_25__.GoogleAuthProvider();\nfunction sendVerificationEmail() {\n    _elements_loader__WEBPACK_IMPORTED_MODULE_14__.show();\n    const user = _firebase__WEBPACK_IMPORTED_MODULE_26__.Auth.currentUser;\n    if (user === null)\n        return;\n    (0,firebase_auth__WEBPACK_IMPORTED_MODULE_25__.sendEmailVerification)(user)\n        .then(() => {\n        _elements_loader__WEBPACK_IMPORTED_MODULE_14__.hide();\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Email sent to \" + user.email, 4000);\n    })\n        .catch((e) => {\n        _elements_loader__WEBPACK_IMPORTED_MODULE_14__.hide();\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Error: \" + e.message, 3000);\n        console.error(e.message);\n    });\n}\nfunction getDataAndInit() {\n    var _a;\n    return __awaiter(this, void 0, void 0, function* () {\n        try {\n            console.log(\"getting account data\");\n            if (_states_active_page__WEBPACK_IMPORTED_MODULE_16__.get() === \"loading\") {\n                _pages_loading__WEBPACK_IMPORTED_MODULE_18__.updateBar(90);\n            }\n            else {\n                _pages_loading__WEBPACK_IMPORTED_MODULE_18__.updateBar(45);\n            }\n            _pages_loading__WEBPACK_IMPORTED_MODULE_18__.updateText(\"Downloading user data...\");\n            yield _pages_loading__WEBPACK_IMPORTED_MODULE_18__.showBar();\n            yield _db__WEBPACK_IMPORTED_MODULE_9__.initSnapshot();\n        }\n        catch (error) {\n            const e = error;\n            _elements_account_button__WEBPACK_IMPORTED_MODULE_3__.loading(false);\n            if (e.responseCode === 429) {\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Doing so will save you bandwidth, make the next test be ready faster and will not sign you out (which could mean your new personal best would not save to your account).\", 0, 0);\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"You will run into this error if you refresh the website to restart the test. It is NOT recommended to do that. Instead, use tab + enter or just tab (with quick tab mode enabled) to restart the test.\", 0, 0);\n            }\n            const msg = e.message || e;\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Failed to get user data: \" + msg, -1);\n            $(\"#top #menu .account\").css(\"opacity\", 1);\n            if (_states_active_page__WEBPACK_IMPORTED_MODULE_16__.get() === \"loading\")\n                _page_controller__WEBPACK_IMPORTED_MODULE_11__.change(\"\");\n            return false;\n        }\n        if (_states_active_page__WEBPACK_IMPORTED_MODULE_16__.get() == \"loading\") {\n            _pages_loading__WEBPACK_IMPORTED_MODULE_18__.updateBar(100);\n        }\n        else {\n            _pages_loading__WEBPACK_IMPORTED_MODULE_18__.updateBar(45);\n        }\n        _pages_loading__WEBPACK_IMPORTED_MODULE_18__.updateText(\"Applying settings...\");\n        const snapshot = _db__WEBPACK_IMPORTED_MODULE_9__.getSnapshot();\n        $(\"#menu .icon-button.account .text\").text(snapshot.name);\n        _account_result_filters__WEBPACK_IMPORTED_MODULE_19__.loadTags(snapshot.tags);\n        Promise.all([_utils_misc__WEBPACK_IMPORTED_MODULE_6__.getLanguageList(), _utils_misc__WEBPACK_IMPORTED_MODULE_6__.getFunboxList()]).then((values) => {\n            const [languages, funboxes] = values;\n            languages.forEach((language) => {\n                _account_result_filters__WEBPACK_IMPORTED_MODULE_19__.defaultResultFilters.language[language] = true;\n            });\n            funboxes.forEach((funbox) => {\n                _account_result_filters__WEBPACK_IMPORTED_MODULE_19__.defaultResultFilters.funbox[funbox.name] = true;\n            });\n            // filters = defaultResultFilters;\n            _account_result_filters__WEBPACK_IMPORTED_MODULE_19__.load();\n        });\n        if (!snapshot.name) {\n            //verify username\n            //invalid, get new\n            let nameGood = false;\n            let name = \"\";\n            while (!nameGood) {\n                name =\n                    (_a = prompt(\"Please provide a new username (cannot be longer than 16 characters, can only contain letters, numbers, underscores, dots and dashes):\")) !== null && _a !== void 0 ? _a : \"\";\n                if (!name) {\n                    return false;\n                }\n                const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].users.updateName(name);\n                if (response.status !== 200) {\n                    _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Failed to update name: \" + response.message, -1);\n                    return false;\n                }\n                nameGood = true;\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Name updated\", 1);\n                snapshot.name = name;\n                _db__WEBPACK_IMPORTED_MODULE_9__.setSnapshot(snapshot);\n                $(\"#menu .icon-button.account .text\").text(name);\n            }\n        }\n        if (!_config__WEBPACK_IMPORTED_MODULE_2__.changedBeforeDb) {\n            //config didnt change before db loaded\n            if (_config__WEBPACK_IMPORTED_MODULE_2__.localStorageConfig === null && snapshot.config) {\n                console.log(\"no local config, applying db\");\n                _elements_account_button__WEBPACK_IMPORTED_MODULE_3__.loading(false);\n                _config__WEBPACK_IMPORTED_MODULE_2__.apply(snapshot.config);\n                _pages_settings__WEBPACK_IMPORTED_MODULE_7__.update();\n                _config__WEBPACK_IMPORTED_MODULE_2__.saveFullConfigToLocalStorage(true);\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart(false, true);\n            }\n            else if (snapshot.config !== undefined) {\n                //loading db config, keep for now\n                let configsDifferent = false;\n                Object.keys(_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"]).forEach((ke) => {\n                    var _a, _b;\n                    const key = ke;\n                    if (configsDifferent)\n                        return;\n                    try {\n                        if (key !== \"resultFilters\") {\n                            if (Array.isArray(_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"][key])) {\n                                _config__WEBPACK_IMPORTED_MODULE_2__[\"default\"][key].forEach((arrval, index) => {\n                                    var _a;\n                                    const arrayValue = ((_a = snapshot === null || snapshot === void 0 ? void 0 : snapshot.config) === null || _a === void 0 ? void 0 : _a[key])[index];\n                                    if (arrval != arrayValue) {\n                                        configsDifferent = true;\n                                        console.log(`.config is different: ${arrval} != ${arrayValue}`);\n                                    }\n                                });\n                            }\n                            else {\n                                if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"][key] != ((_a = snapshot === null || snapshot === void 0 ? void 0 : snapshot.config) === null || _a === void 0 ? void 0 : _a[key])) {\n                                    configsDifferent = true;\n                                    console.log(`..config is different ${key}: ${_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"][key]} != ${(_b = snapshot === null || snapshot === void 0 ? void 0 : snapshot.config) === null || _b === void 0 ? void 0 : _b[key]}`);\n                                }\n                            }\n                        }\n                    }\n                    catch (e) {\n                        console.log(e);\n                        configsDifferent = true;\n                        console.log(`...config is different`);\n                    }\n                });\n                if (configsDifferent) {\n                    console.log(\"configs are different, applying config from db\");\n                    _elements_account_button__WEBPACK_IMPORTED_MODULE_3__.loading(false);\n                    _config__WEBPACK_IMPORTED_MODULE_2__.apply(snapshot.config);\n                    _pages_settings__WEBPACK_IMPORTED_MODULE_7__.update();\n                    _config__WEBPACK_IMPORTED_MODULE_2__.saveFullConfigToLocalStorage(true);\n                    if (_states_active_page__WEBPACK_IMPORTED_MODULE_16__.get() == \"test\") {\n                        _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart(false, true);\n                    }\n                    _db__WEBPACK_IMPORTED_MODULE_9__.saveConfig(_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\n                }\n            }\n            _config__WEBPACK_IMPORTED_MODULE_2__.setDbConfigLoaded(true);\n        }\n        else {\n            console.log(\"config changed before db\");\n            _elements_account_button__WEBPACK_IMPORTED_MODULE_3__.loading(false);\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].paceCaret === \"pb\" || _config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].paceCaret === \"average\") {\n            if (!_states_test_active__WEBPACK_IMPORTED_MODULE_17__.get()) {\n                _test_pace_caret__WEBPACK_IMPORTED_MODULE_20__.init();\n            }\n        }\n        _elements_account_button__WEBPACK_IMPORTED_MODULE_3__.loading(false);\n        _account_result_filters__WEBPACK_IMPORTED_MODULE_19__.updateTags();\n        _elements_commandline_lists__WEBPACK_IMPORTED_MODULE_21__.updateTagCommands();\n        _tag_controller__WEBPACK_IMPORTED_MODULE_22__.loadActiveFromLocalStorage();\n        _popups_result_tags_popup__WEBPACK_IMPORTED_MODULE_23__.updateButtons();\n        _pages_settings__WEBPACK_IMPORTED_MODULE_7__.showAccountSection();\n        _states_page_transition__WEBPACK_IMPORTED_MODULE_15__.set(false);\n        console.log(\"account loading finished\");\n        return true;\n    });\n}\nfunction loadUser(user) {\n    return __awaiter(this, void 0, void 0, function* () {\n        // User is signed in.\n        $(\".pageAccount .content p.accountVerificatinNotice\").remove();\n        if (user.emailVerified === false) {\n            $(\".pageAccount .content\").prepend(`<p class=\"accountVerificatinNotice\" style=\"text-align:center\">Your account is not verified. <a class=\"sendVerificationEmail\">Send the verification email again</a>.`);\n        }\n        _states_page_transition__WEBPACK_IMPORTED_MODULE_15__.set(false);\n        _elements_account_button__WEBPACK_IMPORTED_MODULE_3__.update();\n        _elements_account_button__WEBPACK_IMPORTED_MODULE_3__.loading(true);\n        if ((yield getDataAndInit()) === false) {\n            signOut();\n        }\n        // var displayName = user.displayName;\n        // var email = user.email;\n        // var emailVerified = user.emailVerified;\n        // var photoURL = user.photoURL;\n        // var isAnonymous = user.isAnonymous;\n        // var uid = user.uid;\n        // var providerData = user.providerData;\n        $(\".pageLogin .preloader\").addClass(\"hidden\");\n        // showFavouriteThemesAtTheTop();\n        let text = \"Account created on \" + user.metadata.creationTime;\n        const creationDate = new Date(user.metadata.creationTime);\n        const diffDays = (0,date_fns__WEBPACK_IMPORTED_MODULE_28__[\"default\"])(new Date(), creationDate);\n        text += ` (${diffDays} day${diffDays != 1 ? \"s\" : \"\"} ago)`;\n        $(\".pageAccount .group.createdDate\").text(text);\n        if (_verification_controller__WEBPACK_IMPORTED_MODULE_5__.data !== null) {\n            _verification_controller__WEBPACK_IMPORTED_MODULE_5__.verify(user.uid);\n        }\n    });\n}\nconst authListener = _firebase__WEBPACK_IMPORTED_MODULE_26__.Auth.onAuthStateChanged(function (user) {\n    return __awaiter(this, void 0, void 0, function* () {\n        // await UpdateConfig.loadPromise;\n        console.log(`auth state changed, user ${user ? true : false}`);\n        if (user) {\n            yield loadUser(user);\n        }\n        else {\n            if (window.location.pathname == \"/account\") {\n                window.history.replaceState(\"\", \"\", \"/login\");\n            }\n            _states_page_transition__WEBPACK_IMPORTED_MODULE_15__.set(false);\n        }\n        if (user) {\n            if (window.location.pathname == \"/login\") {\n                _page_controller__WEBPACK_IMPORTED_MODULE_11__.change(\"account\");\n            }\n            else if (window.location.pathname != \"/account\") {\n                _page_controller__WEBPACK_IMPORTED_MODULE_11__.change();\n                setTimeout(() => {\n                    _test_focus__WEBPACK_IMPORTED_MODULE_13__.set(false);\n                }, 125 / 2);\n            }\n            else {\n                _pages_account__WEBPACK_IMPORTED_MODULE_4__.update();\n                // SignOutButton.show();\n            }\n        }\n        else {\n            _page_controller__WEBPACK_IMPORTED_MODULE_11__.change();\n            setTimeout(() => {\n                _test_focus__WEBPACK_IMPORTED_MODULE_13__.set(false);\n            }, 125 / 2);\n        }\n        _utils_url_handler__WEBPACK_IMPORTED_MODULE_24__.loadCustomThemeFromUrl();\n        if (/challenge_.+/g.test(window.location.pathname)) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Challenge links temporarily disabled. Please use the command line to load the challenge manually\", 0, 7);\n            return;\n            // Notifications.add(\"Loading challenge\", 0);\n            // let challengeName = window.location.pathname.split(\"_\")[1];\n            // setTimeout(() => {\n            //   ChallengeController.setup(challengeName);\n            // }, 1000);\n        }\n        _elements_psa__WEBPACK_IMPORTED_MODULE_12__.show();\n    });\n});\nfunction signIn() {\n    _config__WEBPACK_IMPORTED_MODULE_2__.setChangedBeforeDb(false);\n    authListener();\n    $(\".pageLogin .preloader\").removeClass(\"hidden\");\n    $(\".pageLogin .button\").addClass(\"disabled\");\n    const email = $(\".pageLogin .login input\")[0].value;\n    const password = $(\".pageLogin .login input\")[1].value;\n    const persistence = $(\".pageLogin .login #rememberMe input\").prop(\"checked\")\n        ? firebase_auth__WEBPACK_IMPORTED_MODULE_25__.browserLocalPersistence\n        : firebase_auth__WEBPACK_IMPORTED_MODULE_25__.browserSessionPersistence;\n    (0,firebase_auth__WEBPACK_IMPORTED_MODULE_25__.setPersistence)(_firebase__WEBPACK_IMPORTED_MODULE_26__.Auth, persistence).then(function () {\n        return (0,firebase_auth__WEBPACK_IMPORTED_MODULE_25__.signInWithEmailAndPassword)(_firebase__WEBPACK_IMPORTED_MODULE_26__.Auth, email, password)\n            .then((e) => __awaiter(this, void 0, void 0, function* () {\n            yield loadUser(e.user);\n            _page_controller__WEBPACK_IMPORTED_MODULE_11__.change(\"account\");\n            if (_test_test_logic__WEBPACK_IMPORTED_MODULE_10__.notSignedInLastResult !== null) {\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.setNotSignedInUid(e.user.uid);\n                const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].results.save(_test_test_logic__WEBPACK_IMPORTED_MODULE_10__.notSignedInLastResult);\n                if (response.status !== 200) {\n                    return _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Failed to save last result: \" + response.message, -1);\n                }\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.clearNotSignedInResult();\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Last test result saved\", 1);\n            }\n            //TODO: redirect user to relevant page\n        }))\n            .catch(function (error) {\n            let message = error.message;\n            if (error.code === \"auth/wrong-password\") {\n                message = \"Incorrect password.\";\n            }\n            else if (error.code === \"auth/user-not-found\") {\n                message = \"User not found.\";\n            }\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(message, -1);\n            $(\".pageLogin .preloader\").addClass(\"hidden\");\n            $(\".pageLogin .button\").removeClass(\"disabled\");\n        });\n    });\n}\nfunction signInWithGoogle() {\n    var _a, _b;\n    return __awaiter(this, void 0, void 0, function* () {\n        _config__WEBPACK_IMPORTED_MODULE_2__.setChangedBeforeDb(false);\n        $(\".pageLogin .preloader\").removeClass(\"hidden\");\n        $(\".pageLogin .button\").addClass(\"disabled\");\n        authListener();\n        let signedInUser;\n        try {\n            const persistence = $(\".pageLogin .login #rememberMe input\").prop(\"checked\")\n                ? firebase_auth__WEBPACK_IMPORTED_MODULE_25__.browserLocalPersistence\n                : firebase_auth__WEBPACK_IMPORTED_MODULE_25__.browserSessionPersistence;\n            yield (0,firebase_auth__WEBPACK_IMPORTED_MODULE_25__.setPersistence)(_firebase__WEBPACK_IMPORTED_MODULE_26__.Auth, persistence);\n            signedInUser = yield (0,firebase_auth__WEBPACK_IMPORTED_MODULE_25__.signInWithPopup)(_firebase__WEBPACK_IMPORTED_MODULE_26__.Auth, gmailProvider);\n            if ((_a = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_25__.getAdditionalUserInfo)(signedInUser)) === null || _a === void 0 ? void 0 : _a.isNewUser) {\n                //ask for username\n                let nameGood = false;\n                let name = \"\";\n                while (!nameGood) {\n                    name =\n                        prompt(\"Please provide a new username (cannot be longer than 16 characters, can only contain letters, numbers, underscores, dots and dashes):\") || \"\";\n                    if (!name) {\n                        signOut();\n                        $(\".pageLogin .preloader\").addClass(\"hidden\");\n                        return;\n                    }\n                    const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].users.getNameAvailability(name);\n                    if (response.status !== 200) {\n                        return _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Failed to check name: \" + response.message, -1);\n                    }\n                    nameGood = true;\n                }\n                //create database object for the new user\n                // try {\n                const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].users.create(name);\n                if (response.status !== 200) {\n                    throw response;\n                }\n                // } catch (e) {\n                //   let msg = e?.response?.data?.message ?? e.message;\n                //   Notifications.add(\"Failed to create account: \" + msg, -1);\n                //   return;\n                // }\n                if (response.status === 200) {\n                    yield (0,firebase_auth__WEBPACK_IMPORTED_MODULE_25__.updateProfile)(signedInUser.user, { displayName: name });\n                    yield (0,firebase_auth__WEBPACK_IMPORTED_MODULE_25__.sendEmailVerification)(signedInUser.user);\n                    _account_all_time_stats__WEBPACK_IMPORTED_MODULE_8__.clear();\n                    _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Account created\", 1, 3);\n                    $(\"#menu .icon-button.account .text\").text(name);\n                    $(\".pageLogin .button\").removeClass(\"disabled\");\n                    $(\".pageLogin .preloader\").addClass(\"hidden\");\n                    yield loadUser(signedInUser.user);\n                    _page_controller__WEBPACK_IMPORTED_MODULE_11__.change(\"account\");\n                    if (_test_test_logic__WEBPACK_IMPORTED_MODULE_10__.notSignedInLastResult !== null) {\n                        _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.setNotSignedInUid(signedInUser.user.uid);\n                        const resultsSaveResponse = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].results.save(_test_test_logic__WEBPACK_IMPORTED_MODULE_10__.notSignedInLastResult);\n                        if (resultsSaveResponse.status === 200) {\n                            const result = _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.notSignedInLastResult;\n                            _db__WEBPACK_IMPORTED_MODULE_9__.saveLocalResult(result);\n                            _db__WEBPACK_IMPORTED_MODULE_9__.updateLocalStats({\n                                time: result.testDuration +\n                                    result.incompleteTestSeconds -\n                                    result.afkDuration,\n                                started: 1,\n                            });\n                        }\n                    }\n                }\n            }\n            else {\n                yield loadUser(signedInUser.user);\n                _page_controller__WEBPACK_IMPORTED_MODULE_11__.change(\"account\");\n            }\n        }\n        catch (e) {\n            console.log(e);\n            const message = _utils_misc__WEBPACK_IMPORTED_MODULE_6__.createErrorMessage(e, \"Failed to sign in with Google\");\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(message, -1);\n            $(\".pageLogin .preloader\").addClass(\"hidden\");\n            $(\".pageLogin .button\").removeClass(\"disabled\");\n            if (signedInUser && ((_b = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_25__.getAdditionalUserInfo)(signedInUser)) === null || _b === void 0 ? void 0 : _b.isNewUser)) {\n                yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].users[\"delete\"]();\n                yield signedInUser.user.delete();\n            }\n            signOut();\n            return;\n        }\n    });\n}\nfunction addGoogleAuth() {\n    return __awaiter(this, void 0, void 0, function* () {\n        _elements_loader__WEBPACK_IMPORTED_MODULE_14__.show();\n        if (_firebase__WEBPACK_IMPORTED_MODULE_26__.Auth.currentUser === null)\n            return;\n        (0,firebase_auth__WEBPACK_IMPORTED_MODULE_25__.linkWithPopup)(_firebase__WEBPACK_IMPORTED_MODULE_26__.Auth.currentUser, gmailProvider)\n            .then(function () {\n            _elements_loader__WEBPACK_IMPORTED_MODULE_14__.hide();\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Google authentication added\", 1);\n            _pages_settings__WEBPACK_IMPORTED_MODULE_7__.updateAuthSections();\n        })\n            .catch(function (error) {\n            _elements_loader__WEBPACK_IMPORTED_MODULE_14__.hide();\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Failed to add Google authenication: \" + error.message, -1);\n        });\n    });\n}\nfunction removeGoogleAuth() {\n    return __awaiter(this, void 0, void 0, function* () {\n        const user = _firebase__WEBPACK_IMPORTED_MODULE_26__.Auth.currentUser;\n        if (user === null)\n            return;\n        if (user.providerData.find((provider) => provider.providerId === \"password\")) {\n            _elements_loader__WEBPACK_IMPORTED_MODULE_14__.show();\n            try {\n                yield (0,firebase_auth__WEBPACK_IMPORTED_MODULE_25__.reauthenticateWithPopup)(user, gmailProvider);\n            }\n            catch (e) {\n                _elements_loader__WEBPACK_IMPORTED_MODULE_14__.hide();\n                const message = _utils_misc__WEBPACK_IMPORTED_MODULE_6__.createErrorMessage(e, \"Failed to reauthenticate\");\n                return _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(message, -1);\n            }\n            (0,firebase_auth__WEBPACK_IMPORTED_MODULE_25__.unlink)(user, \"google.com\")\n                .then(() => {\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Google authentication removed\", 1);\n                _elements_loader__WEBPACK_IMPORTED_MODULE_14__.hide();\n                _pages_settings__WEBPACK_IMPORTED_MODULE_7__.updateAuthSections();\n            })\n                .catch((error) => {\n                _elements_loader__WEBPACK_IMPORTED_MODULE_14__.hide();\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Failed to remove Google authentication: \" + error.message, -1);\n            });\n        }\n        else {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Password authentication needs to be enabled to remove Google authentication\", -1);\n        }\n    });\n}\nfunction addPasswordAuth(email, password) {\n    return __awaiter(this, void 0, void 0, function* () {\n        _elements_loader__WEBPACK_IMPORTED_MODULE_14__.show();\n        const user = _firebase__WEBPACK_IMPORTED_MODULE_26__.Auth.currentUser;\n        if (user === null)\n            return;\n        if (user.providerData.find((provider) => provider.providerId === \"google.com\")) {\n            try {\n                yield (0,firebase_auth__WEBPACK_IMPORTED_MODULE_25__.reauthenticateWithPopup)(user, gmailProvider);\n            }\n            catch (e) {\n                _elements_loader__WEBPACK_IMPORTED_MODULE_14__.hide();\n                const message = _utils_misc__WEBPACK_IMPORTED_MODULE_6__.createErrorMessage(e, \"Failed to reauthenticate\");\n                return _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(message, -1);\n            }\n        }\n        const credential = firebase_auth__WEBPACK_IMPORTED_MODULE_25__.EmailAuthProvider.credential(email, password);\n        (0,firebase_auth__WEBPACK_IMPORTED_MODULE_25__.linkWithCredential)(user, credential)\n            .then(function () {\n            _elements_loader__WEBPACK_IMPORTED_MODULE_14__.hide();\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Password authenication added\", 1);\n            _pages_settings__WEBPACK_IMPORTED_MODULE_7__.updateAuthSections();\n        })\n            .catch(function (error) {\n            _elements_loader__WEBPACK_IMPORTED_MODULE_14__.hide();\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Failed to add password authenication: \" + error.message, -1);\n        });\n    });\n}\nfunction signOut() {\n    _firebase__WEBPACK_IMPORTED_MODULE_26__.Auth.signOut()\n        .then(function () {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Signed out\", 0, 2);\n        _account_all_time_stats__WEBPACK_IMPORTED_MODULE_8__.clear();\n        _pages_settings__WEBPACK_IMPORTED_MODULE_7__.hideAccountSection();\n        _elements_account_button__WEBPACK_IMPORTED_MODULE_3__.update();\n        _page_controller__WEBPACK_IMPORTED_MODULE_11__.change(\"login\");\n        _db__WEBPACK_IMPORTED_MODULE_9__.setSnapshot(_constants_default_snapshot__WEBPACK_IMPORTED_MODULE_27__.defaultSnap);\n        $(\".pageLogin .button\").removeClass(\"disabled\");\n    })\n        .catch(function (error) {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(error.message, -1);\n    });\n}\nfunction signUp() {\n    return __awaiter(this, void 0, void 0, function* () {\n        $(\".pageLogin .button\").addClass(\"disabled\");\n        $(\".pageLogin .preloader\").removeClass(\"hidden\");\n        const nname = $(\".pageLogin .register input\")[0].value;\n        const email = $(\".pageLogin .register input\")[1].value;\n        const emailVerify = $(\".pageLogin .register input\")[2]\n            .value;\n        const password = $(\".pageLogin .register input\")[3]\n            .value;\n        const passwordVerify = $(\".pageLogin .register input\")[4].value;\n        if (email !== emailVerify) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Emails do not match\", 0, 3);\n            $(\".pageLogin .preloader\").addClass(\"hidden\");\n            $(\".pageLogin .button\").removeClass(\"disabled\");\n            return;\n        }\n        if (password !== passwordVerify) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Passwords do not match\", 0, 3);\n            $(\".pageLogin .preloader\").addClass(\"hidden\");\n            $(\".pageLogin .button\").removeClass(\"disabled\");\n            return;\n        }\n        const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].users.getNameAvailability(nname);\n        if (response.status !== 200) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(response.message, -1);\n            $(\".pageLogin .preloader\").addClass(\"hidden\");\n            $(\".pageLogin .button\").removeClass(\"disabled\");\n            return;\n        }\n        authListener();\n        let createdAuthUser;\n        try {\n            createdAuthUser = yield (0,firebase_auth__WEBPACK_IMPORTED_MODULE_25__.createUserWithEmailAndPassword)(_firebase__WEBPACK_IMPORTED_MODULE_26__.Auth, email, password);\n            const signInResponse = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].users.create(nname, email, createdAuthUser.user.uid);\n            if (signInResponse.status !== 200) {\n                throw signInResponse;\n            }\n            yield (0,firebase_auth__WEBPACK_IMPORTED_MODULE_25__.updateProfile)(createdAuthUser.user, { displayName: nname });\n            yield (0,firebase_auth__WEBPACK_IMPORTED_MODULE_25__.sendEmailVerification)(createdAuthUser.user);\n            _account_all_time_stats__WEBPACK_IMPORTED_MODULE_8__.clear();\n            $(\"#menu .icon-button.account .text\").text(nname);\n            $(\".pageLogin .button\").removeClass(\"disabled\");\n            $(\".pageLogin .preloader\").addClass(\"hidden\");\n            yield loadUser(createdAuthUser.user);\n            if (_test_test_logic__WEBPACK_IMPORTED_MODULE_10__.notSignedInLastResult !== null) {\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.setNotSignedInUid(createdAuthUser.user.uid);\n                const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].results.save(_test_test_logic__WEBPACK_IMPORTED_MODULE_10__.notSignedInLastResult);\n                if (response.status === 200) {\n                    const result = _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.notSignedInLastResult;\n                    _db__WEBPACK_IMPORTED_MODULE_9__.saveLocalResult(result);\n                    _db__WEBPACK_IMPORTED_MODULE_9__.updateLocalStats({\n                        time: result.testDuration +\n                            result.incompleteTestSeconds -\n                            result.afkDuration,\n                        started: 1,\n                    });\n                }\n            }\n            _page_controller__WEBPACK_IMPORTED_MODULE_11__.change(\"account\");\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Account created\", 1, 3);\n        }\n        catch (e) {\n            //make sure to do clean up here\n            if (createdAuthUser) {\n                yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].users[\"delete\"]();\n                yield createdAuthUser.user.delete();\n            }\n            console.log(e);\n            const message = _utils_misc__WEBPACK_IMPORTED_MODULE_6__.createErrorMessage(e, \"Failed to create account\");\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(message, -1);\n            $(\".pageLogin .preloader\").addClass(\"hidden\");\n            $(\".pageLogin .button\").removeClass(\"disabled\");\n            signOut();\n            return;\n        }\n    });\n}\n$(\".pageLogin #forgotPasswordButton\").on(\"click\", () => {\n    const emailField = $(\".pageLogin .login input\")[0].value || \"\";\n    const email = prompt(\"Email address\", emailField);\n    if (email) {\n        (0,firebase_auth__WEBPACK_IMPORTED_MODULE_25__.sendPasswordResetEmail)(_firebase__WEBPACK_IMPORTED_MODULE_26__.Auth, email)\n            .then(function () {\n            // Email sent.\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Email sent\", 1, 2);\n        })\n            .catch(function (error) {\n            // An error happened.\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(error.message, -1);\n        });\n    }\n});\n$(\".pageLogin .login input\").keyup((e) => {\n    if (e.key === \"Enter\") {\n        _config__WEBPACK_IMPORTED_MODULE_2__.setChangedBeforeDb(false);\n        signIn();\n    }\n});\n$(\".pageLogin .login .button.signIn\").on(\"click\", () => {\n    _config__WEBPACK_IMPORTED_MODULE_2__.setChangedBeforeDb(false);\n    signIn();\n});\n$(\".pageLogin .login .button.signInWithGoogle\").on(\"click\", () => {\n    _config__WEBPACK_IMPORTED_MODULE_2__.setChangedBeforeDb(false);\n    signInWithGoogle();\n});\n// $(\".pageLogin .login .button.signInWithGitHub\").on(\"click\",(e) => {\n// UpdateConfig.setChangedBeforeDb(false);\n// signInWithGitHub();\n// });\n$(\".signOut\").on(\"click\", () => {\n    signOut();\n});\n$(\".pageLogin .register input\").keyup((e) => {\n    if ($(\".pageLogin .register .button\").hasClass(\"disabled\"))\n        return;\n    if (e.key === \"Enter\") {\n        signUp();\n    }\n});\n$(\".pageLogin .register .button\").on(\"click\", () => {\n    if ($(\".pageLogin .register .button\").hasClass(\"disabled\"))\n        return;\n    signUp();\n});\n$(\".pageSettings #addGoogleAuth\").on(\"click\", () => __awaiter(void 0, void 0, void 0, function* () {\n    addGoogleAuth();\n}));\n$(\".pageSettings #removeGoogleAuth\").on(\"click\", () => {\n    removeGoogleAuth();\n});\n$(document).on(\"click\", \".pageAccount .sendVerificationEmail\", () => {\n    sendVerificationEmail();\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/controllers/account-controller.ts?");

/***/ }),

/***/ "./src/scripts/controllers/analytics-controller.ts":
/*!*********************************************************!*\
  !*** ./src/scripts/controllers/analytics-controller.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"log\": () => (/* binding */ log)\n/* harmony export */ });\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../firebase */ \"./src/scripts/firebase.ts\");\n/* harmony import */ var firebase_analytics__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/analytics */ \"./node_modules/firebase/analytics/dist/index.esm.js\");\n\n\nfunction log(eventName, params) {\n    try {\n        (0,firebase_analytics__WEBPACK_IMPORTED_MODULE_1__.logEvent)(_firebase__WEBPACK_IMPORTED_MODULE_0__.Analytics, eventName, params);\n    }\n    catch (e) {\n        console.log(\"Analytics unavailable\");\n    }\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/controllers/analytics-controller.ts?");

/***/ }),

/***/ "./src/scripts/controllers/challenge-controller.ts":
/*!*********************************************************!*\
  !*** ./src/scripts/controllers/challenge-controller.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"clearActive\": () => (/* binding */ clearActive),\n/* harmony export */   \"verify\": () => (/* binding */ verify),\n/* harmony export */   \"setup\": () => (/* binding */ setup)\n/* harmony export */ });\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../elements/notifications */ \"./src/scripts/elements/notifications.ts\");\n/* harmony import */ var _test_manual_restart_tracker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../test/manual-restart-tracker */ \"./src/scripts/test/manual-restart-tracker.ts\");\n/* harmony import */ var _test_custom_text__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../test/custom-text */ \"./src/scripts/test/custom-text.ts\");\n/* harmony import */ var _test_funbox__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../test/funbox */ \"./src/scripts/test/funbox.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _test_test_ui__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../test/test-ui */ \"./src/scripts/test/test-ui.ts\");\n/* harmony import */ var _observables_config_event__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../observables/config-event */ \"./src/scripts/observables/config-event.ts\");\n/* harmony import */ var _test_test_state__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../test/test-state */ \"./src/scripts/test/test-state.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\n\n\n\nlet challengeLoading = false;\nfunction clearActive() {\n    if (_test_test_state__WEBPACK_IMPORTED_MODULE_8__.activeChallenge &&\n        !challengeLoading &&\n        !_test_test_ui__WEBPACK_IMPORTED_MODULE_6__.testRestarting) {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Challenge cleared\", 0);\n        _test_test_state__WEBPACK_IMPORTED_MODULE_8__.setActiveChallenge(null);\n    }\n}\nfunction verify(result) {\n    try {\n        if (_test_test_state__WEBPACK_IMPORTED_MODULE_8__.activeChallenge) {\n            const afk = (result.afkDuration / result.testDuration) * 100;\n            if (afk > 10) {\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(`Challenge failed: AFK time is greater than 10%`, 0);\n                return null;\n            }\n            if (!_test_test_state__WEBPACK_IMPORTED_MODULE_8__.activeChallenge.requirements) {\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(`${_test_test_state__WEBPACK_IMPORTED_MODULE_8__.activeChallenge.display} challenge passed!`, 1);\n                return _test_test_state__WEBPACK_IMPORTED_MODULE_8__.activeChallenge.name;\n            }\n            else {\n                let requirementsMet = true;\n                const failReasons = [];\n                for (const requirementType in _test_test_state__WEBPACK_IMPORTED_MODULE_8__.activeChallenge.requirements) {\n                    if (requirementsMet == false)\n                        return null;\n                    const requirementValue = _test_test_state__WEBPACK_IMPORTED_MODULE_8__.activeChallenge.requirements[requirementType];\n                    if (requirementType == \"wpm\") {\n                        const wpmMode = Object.keys(requirementValue)[0];\n                        if (wpmMode == \"exact\") {\n                            if (Math.round(result.wpm) != requirementValue[\"exact\"]) {\n                                requirementsMet = false;\n                                failReasons.push(`WPM not ${requirementValue[\"exact\"]}`);\n                            }\n                        }\n                        else if (wpmMode == \"min\") {\n                            if (result.wpm < requirementValue[\"min\"]) {\n                                requirementsMet = false;\n                                failReasons.push(`WPM below ${requirementValue[\"min\"]}`);\n                            }\n                        }\n                    }\n                    else if (requirementType == \"acc\") {\n                        const accMode = Object.keys(requirementValue)[0];\n                        if (accMode == \"exact\") {\n                            if (result.acc != requirementValue[\"exact\"]) {\n                                requirementsMet = false;\n                                failReasons.push(`Accuracy not ${requirementValue[\"exact\"]}`);\n                            }\n                        }\n                        else if (accMode == \"min\") {\n                            if (result.acc < requirementValue[\"min\"]) {\n                                requirementsMet = false;\n                                failReasons.push(`Accuracy below ${requirementValue[\"min\"]}`);\n                            }\n                        }\n                    }\n                    else if (requirementType == \"afk\") {\n                        const afkMode = Object.keys(requirementValue)[0];\n                        if (afkMode == \"max\") {\n                            if (Math.round(afk) > requirementValue[\"max\"]) {\n                                requirementsMet = false;\n                                failReasons.push(`AFK percentage above ${requirementValue[\"max\"]}`);\n                            }\n                        }\n                    }\n                    else if (requirementType == \"time\") {\n                        const timeMode = Object.keys(requirementValue)[0];\n                        if (timeMode == \"min\") {\n                            if (Math.round(result.testDuration) < requirementValue[\"min\"]) {\n                                requirementsMet = false;\n                                failReasons.push(`Test time below ${requirementValue[\"min\"]}`);\n                            }\n                        }\n                    }\n                    else if (requirementType == \"funbox\") {\n                        const funboxMode = requirementValue[\"exact\"];\n                        if (funboxMode != result.funbox) {\n                            requirementsMet = false;\n                            failReasons.push(`${funboxMode} funbox not active`);\n                        }\n                    }\n                    else if (requirementType == \"raw\") {\n                        const rawMode = Object.keys(requirementValue)[0];\n                        if (rawMode == \"exact\") {\n                            if (Math.round(result.rawWpm) != requirementValue[\"exact\"]) {\n                                requirementsMet = false;\n                                failReasons.push(`Raw WPM not ${requirementValue[\"exact\"]}`);\n                            }\n                        }\n                    }\n                    else if (requirementType == \"con\") {\n                        const conMode = Object.keys(requirementValue)[0];\n                        if (conMode == \"exact\") {\n                            if (Math.round(result.consistency) != requirementValue[\"exact\"]) {\n                                requirementsMet = false;\n                                failReasons.push(`Consistency not ${requirementValue[\"exact\"]}`);\n                            }\n                        }\n                    }\n                    else if (requirementType == \"config\") {\n                        for (const configKey in requirementValue) {\n                            const configValue = requirementValue[configKey];\n                            if (_config__WEBPACK_IMPORTED_MODULE_5__[\"default\"][configKey] != configValue) {\n                                requirementsMet = false;\n                                failReasons.push(`${configKey} not set to ${configValue}`);\n                            }\n                        }\n                    }\n                }\n                if (requirementsMet) {\n                    if (_test_test_state__WEBPACK_IMPORTED_MODULE_8__.activeChallenge.autoRole) {\n                        _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"You will receive a role shortly. Please don't post a screenshot in challenge submissions.\", 1, 5);\n                    }\n                    _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(`${_test_test_state__WEBPACK_IMPORTED_MODULE_8__.activeChallenge.display} challenge passed!`, 1);\n                    return _test_test_state__WEBPACK_IMPORTED_MODULE_8__.activeChallenge.name;\n                }\n                else {\n                    _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(`${_test_test_state__WEBPACK_IMPORTED_MODULE_8__.activeChallenge.display} challenge failed: ${failReasons.join(\", \")}`, 0);\n                    return null;\n                }\n            }\n        }\n        else {\n            return null;\n        }\n    }\n    catch (e) {\n        console.error(e);\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(`Something went wrong when verifying challenge: ${e.message}`, 0);\n        return null;\n    }\n}\nfunction setup(challengeName) {\n    return __awaiter(this, void 0, void 0, function* () {\n        challengeLoading = true;\n        _config__WEBPACK_IMPORTED_MODULE_5__.setFunbox(\"none\");\n        const list = yield _utils_misc__WEBPACK_IMPORTED_MODULE_0__.getChallengeList();\n        const challenge = list.filter((c) => c.name === challengeName)[0];\n        let notitext;\n        try {\n            if (challenge === undefined) {\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Challenge not found\", 0);\n                _test_manual_restart_tracker__WEBPACK_IMPORTED_MODULE_2__.set();\n                setTimeout(() => {\n                    $(\"#top .config\").removeClass(\"hidden\");\n                    $(\".page.pageTest\").removeClass(\"hidden\");\n                }, 250);\n                return false;\n            }\n            if (challenge.type === \"customTime\") {\n                _config__WEBPACK_IMPORTED_MODULE_5__.setTimeConfig(challenge.parameters[0], true);\n                _config__WEBPACK_IMPORTED_MODULE_5__.setMode(\"time\", true);\n                _config__WEBPACK_IMPORTED_MODULE_5__.setDifficulty(\"normal\", true);\n                if (challenge.name === \"englishMaster\") {\n                    _config__WEBPACK_IMPORTED_MODULE_5__.setLanguage(\"english_10k\", true);\n                    _config__WEBPACK_IMPORTED_MODULE_5__.setNumbers(true, true);\n                    _config__WEBPACK_IMPORTED_MODULE_5__.setPunctuation(true, true);\n                }\n            }\n            else if (challenge.type === \"customWords\") {\n                _config__WEBPACK_IMPORTED_MODULE_5__.setWordCount(challenge.parameters[0], true);\n                _config__WEBPACK_IMPORTED_MODULE_5__.setMode(\"words\", true);\n                _config__WEBPACK_IMPORTED_MODULE_5__.setDifficulty(\"normal\", true);\n            }\n            else if (challenge.type === \"customText\") {\n                _test_custom_text__WEBPACK_IMPORTED_MODULE_3__.setText(challenge.parameters[0].split(\" \"));\n                _test_custom_text__WEBPACK_IMPORTED_MODULE_3__.setIsTimeRandom(false);\n                _test_custom_text__WEBPACK_IMPORTED_MODULE_3__.setIsWordRandom(challenge.parameters[1]);\n                _test_custom_text__WEBPACK_IMPORTED_MODULE_3__.setWord(challenge.parameters[2]);\n                _config__WEBPACK_IMPORTED_MODULE_5__.setMode(\"custom\", true);\n                _config__WEBPACK_IMPORTED_MODULE_5__.setDifficulty(\"normal\", true);\n            }\n            else if (challenge.type === \"script\") {\n                const response = yield fetch(\"/challenges/\" + challenge.parameters[0]);\n                const scriptdata = yield response.text();\n                let text = scriptdata.trim();\n                text = text.replace(/[\\n\\r\\t ]/gm, \" \");\n                text = text.replace(/ +/gm, \" \");\n                _test_custom_text__WEBPACK_IMPORTED_MODULE_3__.setText(text.split(\" \"));\n                _test_custom_text__WEBPACK_IMPORTED_MODULE_3__.setIsWordRandom(false);\n                _config__WEBPACK_IMPORTED_MODULE_5__.setMode(\"custom\", true);\n                _config__WEBPACK_IMPORTED_MODULE_5__.setDifficulty(\"normal\", true);\n                if (challenge.parameters[1] != null) {\n                    _config__WEBPACK_IMPORTED_MODULE_5__.setTheme(challenge.parameters[1]);\n                }\n                if (challenge.parameters[2] != null) {\n                    _test_funbox__WEBPACK_IMPORTED_MODULE_4__.activate(challenge.parameters[2]);\n                }\n            }\n            else if (challenge.type === \"accuracy\") {\n                _config__WEBPACK_IMPORTED_MODULE_5__.setTimeConfig(0, true);\n                _config__WEBPACK_IMPORTED_MODULE_5__.setMode(\"time\", true);\n                _config__WEBPACK_IMPORTED_MODULE_5__.setDifficulty(\"master\", true);\n            }\n            else if (challenge.type === \"funbox\") {\n                _config__WEBPACK_IMPORTED_MODULE_5__.setFunbox(challenge.parameters[0], true);\n                _config__WEBPACK_IMPORTED_MODULE_5__.setDifficulty(\"normal\", true);\n                if (challenge.parameters[1] === \"words\") {\n                    _config__WEBPACK_IMPORTED_MODULE_5__.setWordCount(challenge.parameters[2], true);\n                }\n                else if (challenge.parameters[1] === \"time\") {\n                    _config__WEBPACK_IMPORTED_MODULE_5__.setTimeConfig(challenge.parameters[2], true);\n                }\n                _config__WEBPACK_IMPORTED_MODULE_5__.setMode(challenge.parameters[1], true);\n                if (challenge.parameters[3] !== undefined) {\n                    _config__WEBPACK_IMPORTED_MODULE_5__.setDifficulty(challenge.parameters[3], true);\n                }\n            }\n            else if (challenge.type === \"special\") {\n                if (challenge.name === \"semimak\") {\n                    // so can you make a link that sets up 120s, 10k, punct, stop on word, and semimak as the layout?\n                    _config__WEBPACK_IMPORTED_MODULE_5__.setMode(\"time\", true);\n                    _config__WEBPACK_IMPORTED_MODULE_5__.setTimeConfig(120, true);\n                    _config__WEBPACK_IMPORTED_MODULE_5__.setLanguage(\"english_10k\", true);\n                    _config__WEBPACK_IMPORTED_MODULE_5__.setPunctuation(true, true);\n                    _config__WEBPACK_IMPORTED_MODULE_5__.setStopOnError(\"word\", true);\n                    _config__WEBPACK_IMPORTED_MODULE_5__.setLayout(\"semimak\", true);\n                    _config__WEBPACK_IMPORTED_MODULE_5__.setKeymapLayout(\"overrideSync\", true);\n                    _config__WEBPACK_IMPORTED_MODULE_5__.setKeymapMode(\"static\", true);\n                }\n            }\n            _test_manual_restart_tracker__WEBPACK_IMPORTED_MODULE_2__.set();\n            notitext = challenge.message;\n            $(\"#top .config\").removeClass(\"hidden\");\n            $(\".page.pageTest\").removeClass(\"hidden\");\n            if (notitext === undefined) {\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(`Challenge '${challenge.display}' loaded.`, 0);\n            }\n            else {\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Challenge loaded. \" + notitext, 0);\n            }\n            _test_test_state__WEBPACK_IMPORTED_MODULE_8__.setActiveChallenge(challenge);\n            challengeLoading = false;\n            return true;\n        }\n        catch (e) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Something went wrong: \" + e, -1);\n            return false;\n        }\n    });\n}\n_observables_config_event__WEBPACK_IMPORTED_MODULE_7__.subscribe((eventKey) => {\n    if ([\n        \"difficulty\",\n        \"numbers\",\n        \"punctuation\",\n        \"mode\",\n        \"funbox\",\n        \"paceCaret\",\n        \"showAllLines\",\n        \"showLiveWpm\",\n        \"highlightMode\",\n        \"time\",\n        \"words\",\n        \"keymapMode\",\n        \"keymapLayout\",\n        \"layout\",\n    ].includes(eventKey)) {\n        clearActive();\n    }\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/controllers/challenge-controller.ts?");

/***/ }),

/***/ "./src/scripts/controllers/input-controller.ts":
/*!*****************************************************!*\
  !*** ./src/scripts/controllers/input-controller.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _test_test_logic__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../test/test-logic */ \"./src/scripts/test/test-logic.ts\");\n/* harmony import */ var _test_test_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../test/test-ui */ \"./src/scripts/test/test-ui.ts\");\n/* harmony import */ var _test_test_stats__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../test/test-stats */ \"./src/scripts/test/test-stats.ts\");\n/* harmony import */ var _test_monkey__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../test/monkey */ \"./src/scripts/test/monkey.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _elements_keymap__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../elements/keymap */ \"./src/scripts/elements/keymap.ts\");\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _test_live_acc__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../test/live-acc */ \"./src/scripts/test/live-acc.ts\");\n/* harmony import */ var _test_live_burst__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../test/live-burst */ \"./src/scripts/test/live-burst.ts\");\n/* harmony import */ var _test_funbox__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../test/funbox */ \"./src/scripts/test/funbox.ts\");\n/* harmony import */ var _sound_controller__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./sound-controller */ \"./src/scripts/controllers/sound-controller.ts\");\n/* harmony import */ var _test_caret__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../test/caret */ \"./src/scripts/test/caret.ts\");\n/* harmony import */ var _test_manual_restart_tracker__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../test/manual-restart-tracker */ \"./src/scripts/test/manual-restart-tracker.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../elements/notifications */ \"./src/scripts/elements/notifications.ts\");\n/* harmony import */ var _test_custom_text__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../test/custom-text */ \"./src/scripts/test/custom-text.ts\");\n/* harmony import */ var _page_controller__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./page-controller */ \"./src/scripts/controllers/page-controller.ts\");\n/* harmony import */ var _pages_settings__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../pages/settings */ \"./src/scripts/pages/settings.ts\");\n/* harmony import */ var _test_layout_emulator__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../test/layout-emulator */ \"./src/scripts/test/layout-emulator.ts\");\n/* harmony import */ var _test_pace_caret__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../test/pace-caret */ \"./src/scripts/test/pace-caret.ts\");\n/* harmony import */ var _test_timer_progress__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../test/timer-progress */ \"./src/scripts/test/timer-progress.ts\");\n/* harmony import */ var _test_focus__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../test/focus */ \"./src/scripts/test/focus.ts\");\n/* harmony import */ var _test_shift_tracker__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../test/shift-tracker */ \"./src/scripts/test/shift-tracker.ts\");\n/* harmony import */ var _test_replay__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../test/replay */ \"./src/scripts/test/replay.ts\");\n/* harmony import */ var _elements_monkey_power__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../elements/monkey-power */ \"./src/scripts/elements/monkey-power.ts\");\n/* harmony import */ var _test_weak_spot__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../test/weak-spot */ \"./src/scripts/test/weak-spot.ts\");\n/* harmony import */ var _elements_leaderboards__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../elements/leaderboards */ \"./src/scripts/elements/leaderboards.ts\");\n/* harmony import */ var _states_active_page__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../states/active-page */ \"./src/scripts/states/active-page.ts\");\n/* harmony import */ var _states_test_active__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../states/test-active */ \"./src/scripts/states/test-active.ts\");\n/* harmony import */ var _test_test_input__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../test/test-input */ \"./src/scripts/test/test-input.ts\");\n/* harmony import */ var _test_test_words__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../test/test-words */ \"./src/scripts/test/test-words.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlet dontInsertSpace = false;\nlet correctShiftUsed = true;\nfunction setWordsInput(value) {\n    // Only change #wordsInput if it's not already the wanted value\n    // Avoids Safari triggering unneeded events, causing issues with\n    // dead keys.\n    // console.log(\"settings words input to \" + value);\n    if (value !== $(\"#wordsInput\").val()) {\n        $(\"#wordsInput\").val(value);\n    }\n}\nfunction updateUI() {\n    const acc = _utils_misc__WEBPACK_IMPORTED_MODULE_6__.roundTo2(_test_test_stats__WEBPACK_IMPORTED_MODULE_2__.calculateAccuracy());\n    if (!isNaN(acc))\n        _test_live_acc__WEBPACK_IMPORTED_MODULE_7__.update(acc);\n    if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].keymapMode === \"next\" && _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode !== \"zen\") {\n        _elements_keymap__WEBPACK_IMPORTED_MODULE_5__.highlightKey(_test_test_words__WEBPACK_IMPORTED_MODULE_29__.words.getCurrent()\n            .charAt(_test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current.length)\n            .toString()\n            .toUpperCase());\n    }\n}\nfunction backspaceToPrevious() {\n    if (!_states_test_active__WEBPACK_IMPORTED_MODULE_27__.get())\n        return;\n    if (_test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.history.length == 0 ||\n        _test_test_ui__WEBPACK_IMPORTED_MODULE_1__.currentWordElementIndex == 0) {\n        return;\n    }\n    if ((_test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.history[_test_test_words__WEBPACK_IMPORTED_MODULE_29__.words.currentIndex - 1] ==\n        _test_test_words__WEBPACK_IMPORTED_MODULE_29__.words.get(_test_test_words__WEBPACK_IMPORTED_MODULE_29__.words.currentIndex - 1) &&\n        !_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].freedomMode) ||\n        $($(\".word\")[_test_test_words__WEBPACK_IMPORTED_MODULE_29__.words.currentIndex - 1]).hasClass(\"hidden\")) {\n        return;\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].confidenceMode === \"on\" || _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].confidenceMode === \"max\") {\n        return;\n    }\n    _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current = _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.popHistory();\n    _test_test_input__WEBPACK_IMPORTED_MODULE_28__.corrected.popHistory();\n    if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].funbox === \"nospace\" || _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].funbox === \"arrows\") {\n        _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current = _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current.slice(0, -1);\n    }\n    _test_test_words__WEBPACK_IMPORTED_MODULE_29__.words.decreaseCurrentIndex();\n    _test_test_ui__WEBPACK_IMPORTED_MODULE_1__.setCurrentWordElementIndex(_test_test_ui__WEBPACK_IMPORTED_MODULE_1__.currentWordElementIndex - 1);\n    _test_test_ui__WEBPACK_IMPORTED_MODULE_1__.updateActiveElement(true);\n    _test_funbox__WEBPACK_IMPORTED_MODULE_9__.toggleScript(_test_test_words__WEBPACK_IMPORTED_MODULE_29__.words.getCurrent());\n    _test_test_ui__WEBPACK_IMPORTED_MODULE_1__.updateWordElement();\n    _test_caret__WEBPACK_IMPORTED_MODULE_11__.updatePosition();\n    _test_replay__WEBPACK_IMPORTED_MODULE_22__.addReplayEvent(\"backWord\");\n}\nfunction handleSpace() {\n    var _a;\n    if (!_states_test_active__WEBPACK_IMPORTED_MODULE_27__.get())\n        return;\n    if (_test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current === \"\")\n        return;\n    if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode == \"zen\") {\n        $(\"#words .word.active\").removeClass(\"active\");\n        $(\"#words\").append(\"<div class='word active'></div>\");\n    }\n    const currentWord = _test_test_words__WEBPACK_IMPORTED_MODULE_29__.words.getCurrent();\n    if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].funbox === \"layoutfluid\" && _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode !== \"time\") {\n        // here I need to check if Config.customLayoutFluid exists because of my scuffed solution of returning whenever value is undefined in the setCustomLayoutfluid function\n        const layouts = _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].customLayoutfluid\n            ? _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].customLayoutfluid.split(\"#\")\n            : [\"qwerty\", \"dvorak\", \"colemak\"];\n        let index = 0;\n        const outof = _test_test_words__WEBPACK_IMPORTED_MODULE_29__.words.length;\n        index = Math.floor((_test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.history.length + 1) / (outof / layouts.length));\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].layout !== layouts[index] && layouts[index] !== undefined) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_13__.add(`--- !!! ${layouts[index]} !!! ---`, 0);\n        }\n        _config__WEBPACK_IMPORTED_MODULE_4__.setLayout(layouts[index]);\n        _config__WEBPACK_IMPORTED_MODULE_4__.setKeymapLayout(layouts[index]);\n        _elements_keymap__WEBPACK_IMPORTED_MODULE_5__.highlightKey(_test_test_words__WEBPACK_IMPORTED_MODULE_29__.words.getCurrent()\n            .charAt(_test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current.length)\n            .toString()\n            .toUpperCase());\n        (_a = _pages_settings__WEBPACK_IMPORTED_MODULE_16__.groups.layout) === null || _a === void 0 ? void 0 : _a.updateInput();\n    }\n    dontInsertSpace = true;\n    const burst = _test_test_stats__WEBPACK_IMPORTED_MODULE_2__.calculateBurst();\n    _test_live_burst__WEBPACK_IMPORTED_MODULE_8__.update(Math.round(burst));\n    _test_test_input__WEBPACK_IMPORTED_MODULE_28__.pushBurstToHistory(burst);\n    //correct word or in zen mode\n    const isWordCorrect = currentWord == _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current || _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode == \"zen\";\n    _elements_monkey_power__WEBPACK_IMPORTED_MODULE_23__.addPower(isWordCorrect, true);\n    _test_test_input__WEBPACK_IMPORTED_MODULE_28__.incrementAccuracy(isWordCorrect);\n    if (isWordCorrect) {\n        _test_pace_caret__WEBPACK_IMPORTED_MODULE_18__.handleSpace(true, currentWord);\n        _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.pushHistory();\n        _test_test_words__WEBPACK_IMPORTED_MODULE_29__.words.increaseCurrentIndex();\n        _test_test_ui__WEBPACK_IMPORTED_MODULE_1__.setCurrentWordElementIndex(_test_test_ui__WEBPACK_IMPORTED_MODULE_1__.currentWordElementIndex + 1);\n        _test_test_ui__WEBPACK_IMPORTED_MODULE_1__.updateActiveElement();\n        _test_funbox__WEBPACK_IMPORTED_MODULE_9__.toggleScript(_test_test_words__WEBPACK_IMPORTED_MODULE_29__.words.getCurrent());\n        _test_caret__WEBPACK_IMPORTED_MODULE_11__.updatePosition();\n        _test_test_input__WEBPACK_IMPORTED_MODULE_28__.incrementKeypressCount();\n        _test_test_input__WEBPACK_IMPORTED_MODULE_28__.pushKeypressWord(_test_test_words__WEBPACK_IMPORTED_MODULE_29__.words.currentIndex);\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].funbox !== \"nospace\" && _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].funbox !== \"arrows\") {\n            _sound_controller__WEBPACK_IMPORTED_MODULE_10__.playClick();\n        }\n        _test_replay__WEBPACK_IMPORTED_MODULE_22__.addReplayEvent(\"submitCorrectWord\");\n    }\n    else {\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].funbox !== \"nospace\" && _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].funbox !== \"arrows\") {\n            if (!_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].playSoundOnError || _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].blindMode) {\n                _sound_controller__WEBPACK_IMPORTED_MODULE_10__.playClick();\n            }\n            else {\n                _sound_controller__WEBPACK_IMPORTED_MODULE_10__.playError();\n            }\n        }\n        _test_test_input__WEBPACK_IMPORTED_MODULE_28__.pushMissedWord(_test_test_words__WEBPACK_IMPORTED_MODULE_29__.words.getCurrent());\n        _test_test_input__WEBPACK_IMPORTED_MODULE_28__.incrementKeypressErrors();\n        const cil = _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current.length;\n        if (cil <= _test_test_words__WEBPACK_IMPORTED_MODULE_29__.words.getCurrent().length) {\n            if (cil >= _test_test_input__WEBPACK_IMPORTED_MODULE_28__.corrected.current.length) {\n                _test_test_input__WEBPACK_IMPORTED_MODULE_28__.corrected.current += \"_\";\n            }\n            else {\n                _test_test_input__WEBPACK_IMPORTED_MODULE_28__.corrected.current =\n                    _test_test_input__WEBPACK_IMPORTED_MODULE_28__.corrected.current.substring(0, cil) +\n                        \"_\" +\n                        _test_test_input__WEBPACK_IMPORTED_MODULE_28__.corrected.current.substring(cil + 1);\n            }\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].stopOnError != \"off\") {\n            if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].difficulty == \"expert\" || _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].difficulty == \"master\") {\n                //failed due to diff when pressing space\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_0__.fail(\"difficulty\");\n                return;\n            }\n            if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].stopOnError == \"word\") {\n                dontInsertSpace = false;\n                _test_replay__WEBPACK_IMPORTED_MODULE_22__.addReplayEvent(\"incorrectLetter\", \"_\");\n                _test_test_ui__WEBPACK_IMPORTED_MODULE_1__.updateWordElement(true);\n                _test_caret__WEBPACK_IMPORTED_MODULE_11__.updatePosition();\n            }\n            return;\n        }\n        _test_pace_caret__WEBPACK_IMPORTED_MODULE_18__.handleSpace(false, currentWord);\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].blindMode && _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].highlightMode !== \"off\") {\n            $(\"#words .word.active letter\").addClass(\"correct\");\n        }\n        _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.pushHistory();\n        _test_test_ui__WEBPACK_IMPORTED_MODULE_1__.highlightBadWord(_test_test_ui__WEBPACK_IMPORTED_MODULE_1__.currentWordElementIndex, !_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].blindMode);\n        _test_test_words__WEBPACK_IMPORTED_MODULE_29__.words.increaseCurrentIndex();\n        _test_test_ui__WEBPACK_IMPORTED_MODULE_1__.setCurrentWordElementIndex(_test_test_ui__WEBPACK_IMPORTED_MODULE_1__.currentWordElementIndex + 1);\n        _test_test_ui__WEBPACK_IMPORTED_MODULE_1__.updateActiveElement();\n        _test_funbox__WEBPACK_IMPORTED_MODULE_9__.toggleScript(_test_test_words__WEBPACK_IMPORTED_MODULE_29__.words.getCurrent());\n        _test_caret__WEBPACK_IMPORTED_MODULE_11__.updatePosition();\n        _test_test_input__WEBPACK_IMPORTED_MODULE_28__.incrementKeypressCount();\n        _test_test_input__WEBPACK_IMPORTED_MODULE_28__.pushKeypressWord(_test_test_words__WEBPACK_IMPORTED_MODULE_29__.words.currentIndex);\n        _test_test_input__WEBPACK_IMPORTED_MODULE_28__.updateLastKeypress();\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].difficulty == \"expert\" || _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].difficulty == \"master\") {\n            _test_test_logic__WEBPACK_IMPORTED_MODULE_0__.fail(\"difficulty\");\n            return;\n        }\n        else if (_test_test_words__WEBPACK_IMPORTED_MODULE_29__.words.currentIndex == _test_test_words__WEBPACK_IMPORTED_MODULE_29__.words.length) {\n            //submitted last word that is incorrect\n            _test_test_logic__WEBPACK_IMPORTED_MODULE_0__.finish();\n            return;\n        }\n        _test_replay__WEBPACK_IMPORTED_MODULE_22__.addReplayEvent(\"submitErrorWord\");\n    }\n    let wordLength;\n    if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode === \"zen\") {\n        wordLength = _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current.length;\n    }\n    else {\n        wordLength = _test_test_words__WEBPACK_IMPORTED_MODULE_29__.words.getCurrent().length;\n    }\n    const flex = _utils_misc__WEBPACK_IMPORTED_MODULE_6__.whorf(_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].minBurstCustomSpeed, wordLength);\n    if ((_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].minBurst === \"fixed\" && burst < _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].minBurstCustomSpeed) ||\n        (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].minBurst === \"flex\" && burst < flex)) {\n        _test_test_logic__WEBPACK_IMPORTED_MODULE_0__.fail(\"min burst\");\n        return;\n    }\n    _test_test_input__WEBPACK_IMPORTED_MODULE_28__.corrected.pushHistory();\n    if (!_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].showAllLines ||\n        _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode == \"time\" ||\n        (_test_custom_text__WEBPACK_IMPORTED_MODULE_14__.isWordRandom && _test_custom_text__WEBPACK_IMPORTED_MODULE_14__.word == 0) ||\n        _test_custom_text__WEBPACK_IMPORTED_MODULE_14__.isTimeRandom) {\n        const currentTop = Math.floor(document.querySelectorAll(\"#words .word\")[_test_test_ui__WEBPACK_IMPORTED_MODULE_1__.currentWordElementIndex - 1].offsetTop);\n        let nextTop;\n        try {\n            nextTop = Math.floor(document.querySelectorAll(\"#words .word\")[_test_test_ui__WEBPACK_IMPORTED_MODULE_1__.currentWordElementIndex].offsetTop);\n        }\n        catch (e) {\n            nextTop = 0;\n        }\n        if (nextTop > currentTop && !_test_test_ui__WEBPACK_IMPORTED_MODULE_1__.lineTransition) {\n            _test_test_ui__WEBPACK_IMPORTED_MODULE_1__.lineJump(currentTop);\n        }\n    } //end of line wrap\n    if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].keymapMode === \"react\") {\n        _elements_keymap__WEBPACK_IMPORTED_MODULE_5__.flashKey(\" \", true);\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode === \"words\" ||\n        _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode === \"custom\" ||\n        _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode === \"quote\" ||\n        _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode === \"zen\") {\n        _test_timer_progress__WEBPACK_IMPORTED_MODULE_19__.update();\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode == \"time\" ||\n        _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode == \"words\" ||\n        _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode == \"custom\" ||\n        _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode == \"quote\") {\n        _test_test_logic__WEBPACK_IMPORTED_MODULE_0__.addWord();\n    }\n}\nfunction isCharCorrect(char, charIndex) {\n    if (!correctShiftUsed)\n        return false;\n    if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode == \"zen\") {\n        return true;\n    }\n    const originalChar = _test_test_words__WEBPACK_IMPORTED_MODULE_29__.words.getCurrent()[charIndex];\n    if (originalChar == char) {\n        return true;\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].language.split(\"_\")[0] == \"russian\") {\n        if ((char === \"\" || char === \"e\") && originalChar == \"\") {\n            return true;\n        }\n        if (char === \"\" && (originalChar == \"\" || originalChar === \"e\")) {\n            return true;\n        }\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].funbox === \"arrows\") {\n        if ((char === \"w\" || char === \"ArrowUp\") && originalChar == \"\") {\n            return true;\n        }\n        if ((char === \"s\" || char === \"ArrowDown\") && originalChar == \"\") {\n            return true;\n        }\n        if ((char === \"a\" || char === \"ArrowLeft\") && originalChar == \"\") {\n            return true;\n        }\n        if ((char === \"d\" || char === \"ArrowRight\") && originalChar == \"\") {\n            return true;\n        }\n    }\n    if ((char === `` || char === \"\" || char === \"'\") &&\n        (originalChar == `` || originalChar === \"\" || originalChar === \"'\")) {\n        return true;\n    }\n    if ((char === `\"` || char === \"\" || char == \"\" || char === \"\") &&\n        (originalChar == `\"` ||\n            originalChar === \"\" ||\n            originalChar === \"\" ||\n            originalChar === \"\")) {\n        return true;\n    }\n    if ((char === \"\" || char === \"\" || char == \"-\") &&\n        (originalChar == \"-\" || originalChar === \"\" || originalChar === \"\")) {\n        return true;\n    }\n    return false;\n}\nfunction handleChar(char, charIndex) {\n    var _a, _b, _c, _d;\n    if (_test_test_ui__WEBPACK_IMPORTED_MODULE_1__.resultCalculating || _test_test_ui__WEBPACK_IMPORTED_MODULE_1__.resultVisible) {\n        return;\n    }\n    if (char === \"\") {\n        for (let i = 0; i < 3; i++) {\n            handleChar(\".\", charIndex + i);\n        }\n        return;\n    }\n    if (char === \"\\n\" && _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].funbox === \"58008\") {\n        char = \" \";\n    }\n    if (char !== \"\\n\" && char !== \"\\t\" && /\\s/.test(char)) {\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].funbox === \"nospace\" || _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].funbox === \"arrows\")\n            return;\n        handleSpace();\n        //insert space for expert and master or strict space,\n        //or for stop on error set to word,\n        //otherwise dont do anything\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].difficulty !== \"normal\" ||\n            (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].strictSpace && _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode !== \"zen\") ||\n            _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].stopOnError === \"word\") {\n            if (dontInsertSpace) {\n                dontInsertSpace = false;\n                return;\n            }\n        }\n        else {\n            return;\n        }\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode !== \"zen\" &&\n        _test_test_words__WEBPACK_IMPORTED_MODULE_29__.words.getCurrent()[charIndex] !== \"\\n\" &&\n        char === \"\\n\") {\n        return;\n    }\n    //start the test\n    if (!_states_test_active__WEBPACK_IMPORTED_MODULE_27__.get() && !_test_test_logic__WEBPACK_IMPORTED_MODULE_0__.startTest()) {\n        return;\n    }\n    _test_focus__WEBPACK_IMPORTED_MODULE_20__.set(true);\n    _test_caret__WEBPACK_IMPORTED_MODULE_11__.stopAnimation();\n    const thisCharCorrect = isCharCorrect(char, charIndex);\n    if (thisCharCorrect && _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode !== \"zen\") {\n        char = _test_test_words__WEBPACK_IMPORTED_MODULE_29__.words.getCurrent().charAt(charIndex);\n    }\n    if (!thisCharCorrect && char === \"\\n\") {\n        if (_test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current === \"\")\n            return;\n        char = \" \";\n    }\n    if (_test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current === \"\") {\n        _test_test_input__WEBPACK_IMPORTED_MODULE_28__.setBurstStart(performance.now());\n    }\n    const resultingWord = _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current.substring(0, charIndex) +\n        char +\n        _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current.substring(charIndex + 1);\n    if (!thisCharCorrect && _utils_misc__WEBPACK_IMPORTED_MODULE_6__.trailingComposeChars.test(resultingWord)) {\n        _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current = resultingWord;\n        _test_test_ui__WEBPACK_IMPORTED_MODULE_1__.updateWordElement();\n        _test_caret__WEBPACK_IMPORTED_MODULE_11__.updatePosition();\n        return;\n    }\n    _elements_monkey_power__WEBPACK_IMPORTED_MODULE_23__.addPower(thisCharCorrect);\n    _test_test_input__WEBPACK_IMPORTED_MODULE_28__.incrementAccuracy(thisCharCorrect);\n    if (!thisCharCorrect) {\n        _test_test_input__WEBPACK_IMPORTED_MODULE_28__.incrementKeypressErrors();\n        _test_test_input__WEBPACK_IMPORTED_MODULE_28__.pushMissedWord(_test_test_words__WEBPACK_IMPORTED_MODULE_29__.words.getCurrent());\n    }\n    _test_weak_spot__WEBPACK_IMPORTED_MODULE_24__.updateScore(_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode === \"zen\" ? char : _test_test_words__WEBPACK_IMPORTED_MODULE_29__.words.getCurrent()[charIndex], thisCharCorrect);\n    if (thisCharCorrect) {\n        _sound_controller__WEBPACK_IMPORTED_MODULE_10__.playClick();\n    }\n    else {\n        if (!_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].playSoundOnError || _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].blindMode) {\n            _sound_controller__WEBPACK_IMPORTED_MODULE_10__.playClick();\n        }\n        else {\n            _sound_controller__WEBPACK_IMPORTED_MODULE_10__.playError();\n        }\n    }\n    if (!correctShiftUsed && _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].difficulty != \"master\")\n        return;\n    //update current corrected version. if its empty then add the current char. if its not then replace the last character with the currently pressed one / add it\n    if (_test_test_input__WEBPACK_IMPORTED_MODULE_28__.corrected.current === \"\") {\n        _test_test_input__WEBPACK_IMPORTED_MODULE_28__.corrected.current += resultingWord;\n    }\n    else {\n        if (charIndex >= _test_test_input__WEBPACK_IMPORTED_MODULE_28__.corrected.current.length) {\n            _test_test_input__WEBPACK_IMPORTED_MODULE_28__.corrected.current += char;\n        }\n        else if (!thisCharCorrect) {\n            _test_test_input__WEBPACK_IMPORTED_MODULE_28__.corrected.current =\n                _test_test_input__WEBPACK_IMPORTED_MODULE_28__.corrected.current.substring(0, charIndex) +\n                    char +\n                    _test_test_input__WEBPACK_IMPORTED_MODULE_28__.corrected.current.substring(charIndex + 1);\n        }\n    }\n    _test_test_input__WEBPACK_IMPORTED_MODULE_28__.incrementKeypressCount();\n    _test_test_input__WEBPACK_IMPORTED_MODULE_28__.updateLastKeypress();\n    _test_test_input__WEBPACK_IMPORTED_MODULE_28__.pushKeypressWord(_test_test_words__WEBPACK_IMPORTED_MODULE_29__.words.currentIndex);\n    if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].difficulty !== \"master\" &&\n        _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].stopOnError == \"letter\" &&\n        !thisCharCorrect) {\n        return;\n    }\n    _test_replay__WEBPACK_IMPORTED_MODULE_22__.addReplayEvent(thisCharCorrect ? \"correctLetter\" : \"incorrectLetter\", char);\n    //update the active word top, but only once\n    if (_test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current.length === 1 &&\n        _test_test_words__WEBPACK_IMPORTED_MODULE_29__.words.currentIndex === 0) {\n        _test_test_ui__WEBPACK_IMPORTED_MODULE_1__.setActiveWordTop((_a = document.querySelector(\"#words .active\")) === null || _a === void 0 ? void 0 : _a.offsetTop);\n    }\n    //max length of the input is 20 unless in zen mode then its 30\n    if ((_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode === \"zen\" && charIndex < 30) ||\n        (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode !== \"zen\" &&\n            charIndex < _test_test_words__WEBPACK_IMPORTED_MODULE_29__.words.getCurrent().length + 20)) {\n        _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current = resultingWord;\n    }\n    if (!thisCharCorrect && _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].difficulty == \"master\") {\n        _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.pushHistory();\n        _test_test_input__WEBPACK_IMPORTED_MODULE_28__.corrected.pushHistory();\n        _test_test_logic__WEBPACK_IMPORTED_MODULE_0__.fail(\"difficulty\");\n        return;\n    }\n    //keymap\n    if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].keymapMode === \"react\") {\n        _elements_keymap__WEBPACK_IMPORTED_MODULE_5__.flashKey(char, thisCharCorrect);\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode != \"zen\") {\n        //not applicable to zen mode\n        //auto stop the test if the last word is correct\n        const currentWord = _test_test_words__WEBPACK_IMPORTED_MODULE_29__.words.getCurrent();\n        const lastindex = _test_test_words__WEBPACK_IMPORTED_MODULE_29__.words.currentIndex;\n        if ((currentWord == _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current ||\n            (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].quickEnd &&\n                currentWord.length == _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current.length &&\n                _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].stopOnError == \"off\")) &&\n            lastindex == _test_test_words__WEBPACK_IMPORTED_MODULE_29__.words.length - 1) {\n            _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.pushHistory();\n            _test_test_input__WEBPACK_IMPORTED_MODULE_28__.corrected.pushHistory();\n            _test_test_logic__WEBPACK_IMPORTED_MODULE_0__.finish();\n            return;\n        }\n    }\n    const activeWordTopBeforeJump = (_b = document.querySelector(\"#words .word.active\")) === null || _b === void 0 ? void 0 : _b.offsetTop;\n    _test_test_ui__WEBPACK_IMPORTED_MODULE_1__.updateWordElement();\n    if (!_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].hideExtraLetters) {\n        const newActiveTop = (_c = document.querySelector(\"#words .word.active\")) === null || _c === void 0 ? void 0 : _c.offsetTop;\n        //stop the word jump by slicing off the last character, update word again\n        if (activeWordTopBeforeJump < newActiveTop &&\n            !_test_test_ui__WEBPACK_IMPORTED_MODULE_1__.lineTransition &&\n            _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current.length > 1) {\n            if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode == \"zen\") {\n                const currentTop = Math.floor((_d = document.querySelectorAll(\"#words .word\")[_test_test_ui__WEBPACK_IMPORTED_MODULE_1__.currentWordElementIndex - 1]) === null || _d === void 0 ? void 0 : _d.offsetTop);\n                if (!_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].showAllLines)\n                    _test_test_ui__WEBPACK_IMPORTED_MODULE_1__.lineJump(currentTop);\n            }\n            else {\n                _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current = _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current.slice(0, -1);\n                _test_test_ui__WEBPACK_IMPORTED_MODULE_1__.updateWordElement();\n            }\n        }\n    }\n    //simulate space press in nospace funbox\n    if (((_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].funbox === \"nospace\" || _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].funbox === \"arrows\") &&\n        _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current.length === _test_test_words__WEBPACK_IMPORTED_MODULE_29__.words.getCurrent().length) ||\n        (char === \"\\n\" && thisCharCorrect)) {\n        handleSpace();\n    }\n    if (char !== \"\\n\") {\n        _test_caret__WEBPACK_IMPORTED_MODULE_11__.updatePosition();\n    }\n}\nfunction handleTab(event, popupVisible) {\n    //todo refactor this mess\n    if (_test_test_ui__WEBPACK_IMPORTED_MODULE_1__.resultCalculating) {\n        event.preventDefault();\n    }\n    if (_states_active_page__WEBPACK_IMPORTED_MODULE_26__.get() !== \"test\" && popupVisible) {\n        // event.preventDefault();\n        return;\n    }\n    if ($(\"#customTextPopup .textarea\").is(\":focus\")) {\n        event.preventDefault();\n        const area = $(\"#customTextPopup .textarea\")[0];\n        const start = area.selectionStart;\n        const end = area.selectionEnd;\n        // set textarea value to: text before caret + tab + text after caret\n        area.value =\n            area.value.substring(0, start) + \"\\t\" + area.value.substring(end);\n        // put caret at right position again\n        area.selectionStart = area.selectionEnd = start + 1;\n        return;\n    }\n    else if (!_test_test_ui__WEBPACK_IMPORTED_MODULE_1__.resultCalculating &&\n        $(\"#commandLineWrapper\").hasClass(\"hidden\") &&\n        $(\"#simplePopupWrapper\").hasClass(\"hidden\") &&\n        $(\"#quoteSubmitPopupWrapper\").hasClass(\"hidden\") &&\n        _states_active_page__WEBPACK_IMPORTED_MODULE_26__.get() != \"login\") {\n        if (_states_active_page__WEBPACK_IMPORTED_MODULE_26__.get() == \"test\") {\n            if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].quickTab) {\n                if (!$(\"#leaderboardsWrapper\").hasClass(\"hidden\")) {\n                    _elements_leaderboards__WEBPACK_IMPORTED_MODULE_25__.hide();\n                }\n                if (popupVisible) {\n                    event.preventDefault();\n                    return;\n                }\n                if (_test_test_ui__WEBPACK_IMPORTED_MODULE_1__.resultVisible ||\n                    !((_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode == \"zen\" && !event.shiftKey) ||\n                        (_test_test_words__WEBPACK_IMPORTED_MODULE_29__.hasTab && !event.shiftKey))) {\n                    if (event.shiftKey) {\n                        _test_manual_restart_tracker__WEBPACK_IMPORTED_MODULE_12__.set();\n                    }\n                    else {\n                        _test_manual_restart_tracker__WEBPACK_IMPORTED_MODULE_12__.reset();\n                    }\n                    event.preventDefault();\n                    if (_states_test_active__WEBPACK_IMPORTED_MODULE_27__.get() &&\n                        _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].repeatQuotes === \"typing\" &&\n                        _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode === \"quote\") {\n                        _test_test_logic__WEBPACK_IMPORTED_MODULE_0__.restart(true, false, event);\n                    }\n                    else {\n                        _test_test_logic__WEBPACK_IMPORTED_MODULE_0__.restart(false, false, event);\n                    }\n                }\n                else {\n                    event.preventDefault();\n                    handleChar(\"\\t\", _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current.length);\n                    setWordsInput(\" \" + _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current);\n                }\n            }\n            else if (!_test_test_ui__WEBPACK_IMPORTED_MODULE_1__.resultVisible) {\n                if ((_test_test_words__WEBPACK_IMPORTED_MODULE_29__.hasTab && event.shiftKey) ||\n                    (!_test_test_words__WEBPACK_IMPORTED_MODULE_29__.hasTab && _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode !== \"zen\") ||\n                    (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode === \"zen\" && event.shiftKey)) {\n                    event.preventDefault();\n                    $(\"#restartTestButton\").trigger(\"focus\");\n                }\n                else {\n                    event.preventDefault();\n                    handleChar(\"\\t\", _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current.length);\n                    setWordsInput(\" \" + _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current);\n                }\n            }\n        }\n        else if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].quickTab) {\n            event.preventDefault();\n            _page_controller__WEBPACK_IMPORTED_MODULE_15__.change(\"test\");\n        }\n    }\n}\n$(document).keydown((event) => __awaiter(void 0, void 0, void 0, function* () {\n    var _a;\n    if (_states_active_page__WEBPACK_IMPORTED_MODULE_26__.get() == \"loading\")\n        return event.preventDefault();\n    //autofocus\n    const wordsFocused = $(\"#wordsInput\").is(\":focus\");\n    const pageTestActive = _states_active_page__WEBPACK_IMPORTED_MODULE_26__.get() === \"test\";\n    const commandLineVisible = !$(\"#commandLineWrapper\").hasClass(\"hidden\");\n    const leaderboardsVisible = !$(\"#leaderboardsWrapper\").hasClass(\"hidden\");\n    const popups = document.querySelectorAll(\".popupWrapper\");\n    let popupVisible = false;\n    for (const popup of popups) {\n        if (!popup.classList.contains(\"hidden\") === true) {\n            popupVisible = true;\n            break;\n        }\n    }\n    const allowTyping = pageTestActive &&\n        !commandLineVisible &&\n        !leaderboardsVisible &&\n        !popupVisible &&\n        !_test_test_ui__WEBPACK_IMPORTED_MODULE_1__.resultVisible &&\n        (wordsFocused || event.key !== \"Enter\");\n    if (allowTyping && !wordsFocused && event.key !== \"Enter\") {\n        _test_test_ui__WEBPACK_IMPORTED_MODULE_1__.focusWords();\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].showOutOfFocusWarning) {\n            event.preventDefault();\n        }\n    }\n    //tab\n    if ((event.key == \"Tab\" && !_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].swapEscAndTab) ||\n        (event.key == \"Escape\" && _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].swapEscAndTab)) {\n        handleTab(event, popupVisible);\n    }\n    if (!allowTyping)\n        return;\n    if (!((_a = event.originalEvent) === null || _a === void 0 ? void 0 : _a.isTrusted) || _test_test_ui__WEBPACK_IMPORTED_MODULE_1__.testRestarting) {\n        event.preventDefault();\n        return;\n    }\n    if (_test_test_input__WEBPACK_IMPORTED_MODULE_28__.spacingDebug) {\n        console.log(\"spacing debug\", \"keypress\", event.key, \"length\", _test_test_input__WEBPACK_IMPORTED_MODULE_28__.keypressTimings.spacing.array.length);\n    }\n    _test_test_input__WEBPACK_IMPORTED_MODULE_28__.recordKeypressSpacing();\n    _test_test_input__WEBPACK_IMPORTED_MODULE_28__.setKeypressDuration(performance.now());\n    _test_test_input__WEBPACK_IMPORTED_MODULE_28__.setKeypressNotAfk();\n    //blocking firefox from going back in history with backspace\n    if (event.key === \"Backspace\") {\n        _sound_controller__WEBPACK_IMPORTED_MODULE_10__.playClick();\n        const t = /INPUT|SELECT|TEXTAREA/i;\n        if (!t.test(event.target.tagName)\n        // if this breaks in the future, call mio and tell him to stop being lazy\n        // (event.target as unknown as KeyboardEvent).disabled ||\n        // (event.target as unknown as Element).readOnly\n        ) {\n            event.preventDefault();\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].confidenceMode === \"max\") {\n            event.preventDefault();\n            return;\n        }\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].funbox !== \"arrows\" && /Arrow/i.test(event.key)) {\n        event.preventDefault();\n        return;\n    }\n    _test_monkey__WEBPACK_IMPORTED_MODULE_3__.type();\n    if (event.key === \"Backspace\" && _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current.length === 0) {\n        backspaceToPrevious();\n        if (_test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current) {\n            setWordsInput(\" \" + _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current + \" \");\n        }\n    }\n    if (event.key === \"Enter\") {\n        if (event.shiftKey && _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode == \"zen\") {\n            _test_test_logic__WEBPACK_IMPORTED_MODULE_0__.finish();\n        }\n        else if (event.shiftKey &&\n            ((_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode == \"time\" && _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].time === 0) ||\n                (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode == \"words\" && _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].words === 0))) {\n            _test_test_input__WEBPACK_IMPORTED_MODULE_28__.setBailout(true);\n            _test_test_logic__WEBPACK_IMPORTED_MODULE_0__.finish();\n        }\n        else {\n            handleChar(\"\\n\", _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current.length);\n            setWordsInput(\" \" + _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current);\n        }\n    }\n    //show dead keys\n    if (event.key === \"Dead\" &&\n        !_utils_misc__WEBPACK_IMPORTED_MODULE_6__.trailingComposeChars.test(_test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current)) {\n        _sound_controller__WEBPACK_IMPORTED_MODULE_10__.playClick();\n        const word = document.querySelector(\"#words .word.active\");\n        const len = _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current.length; // have to do this because prettier wraps the line and causes an error\n        word === null || word === void 0 ? void 0 : word.querySelectorAll(\"letter\")[len].classList.toggle(\"dead\");\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].oppositeShiftMode !== \"off\") {\n        correctShiftUsed =\n            (yield _test_shift_tracker__WEBPACK_IMPORTED_MODULE_21__.isUsingOppositeShift(event)) !== false;\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].funbox === \"arrows\") {\n        let char = event.key;\n        if ([\"ArrowLeft\", \"ArrowUp\", \"ArrowRight\", \"ArrowDown\"].includes(char)) {\n            if (char === \"ArrowLeft\")\n                char = \"a\";\n            if (char === \"ArrowRight\")\n                char = \"d\";\n            if (char === \"ArrowDown\")\n                char = \"s\";\n            if (char === \"ArrowUp\")\n                char = \"w\";\n            event.preventDefault();\n            handleChar(char, _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current.length);\n            updateUI();\n            setWordsInput(\" \" + _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current);\n        }\n    }\n    else if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].layout !== \"default\" &&\n        !(event.ctrlKey ||\n            (event.altKey && window.navigator.platform.search(\"Linux\") > -1))) {\n        const char = yield _test_layout_emulator__WEBPACK_IMPORTED_MODULE_17__.getCharFromEvent(event);\n        if (char !== null) {\n            event.preventDefault();\n            handleChar(char, _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current.length);\n            updateUI();\n            setWordsInput(\" \" + _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current);\n        }\n    }\n}));\n$(\"#wordsInput\").keyup((event) => {\n    var _a;\n    if (!((_a = event.originalEvent) === null || _a === void 0 ? void 0 : _a.isTrusted) || _test_test_ui__WEBPACK_IMPORTED_MODULE_1__.testRestarting) {\n        event.preventDefault();\n        return;\n    }\n    if (_test_test_ui__WEBPACK_IMPORTED_MODULE_1__.resultVisible)\n        return;\n    const now = performance.now();\n    if (_test_test_input__WEBPACK_IMPORTED_MODULE_28__.keypressTimings.duration.current !== -1) {\n        const diff = Math.abs(_test_test_input__WEBPACK_IMPORTED_MODULE_28__.keypressTimings.duration.current - now);\n        _test_test_input__WEBPACK_IMPORTED_MODULE_28__.pushKeypressDuration(diff);\n    }\n    _test_test_input__WEBPACK_IMPORTED_MODULE_28__.setKeypressDuration(now);\n    _test_monkey__WEBPACK_IMPORTED_MODULE_3__.stop();\n});\n$(\"#wordsInput\").on(\"beforeinput\", (event) => {\n    var _a;\n    if (!((_a = event.originalEvent) === null || _a === void 0 ? void 0 : _a.isTrusted))\n        return;\n    if (event.target.value === \"\") {\n        event.target.value = \" \";\n    }\n});\n$(\"#wordsInput\").on(\"input\", (event) => {\n    var _a;\n    if (!((_a = event.originalEvent) === null || _a === void 0 ? void 0 : _a.isTrusted) || _test_test_ui__WEBPACK_IMPORTED_MODULE_1__.testRestarting) {\n        event.target.value = \" \";\n        return;\n    }\n    _test_test_input__WEBPACK_IMPORTED_MODULE_28__.setKeypressNotAfk();\n    const realInputValue = event.target.value.normalize();\n    const inputValue = realInputValue.slice(1);\n    // input will be modified even with the preventDefault() in\n    // beforeinput/keydown if it's part of a compose sequence. this undoes\n    // the effects of that and takes the input out of compose mode.\n    if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].layout !== \"default\" &&\n        inputValue.length >= _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current.length) {\n        setWordsInput(\" \" + _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current);\n        return;\n    }\n    if (realInputValue.length === 0 && _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current.length === 0) {\n        // fallback for when no Backspace keydown event (mobile)\n        backspaceToPrevious();\n    }\n    else if (inputValue.length < _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current.length) {\n        _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current = inputValue;\n        _test_test_ui__WEBPACK_IMPORTED_MODULE_1__.updateWordElement();\n        _test_caret__WEBPACK_IMPORTED_MODULE_11__.updatePosition();\n        if (!_utils_misc__WEBPACK_IMPORTED_MODULE_6__.trailingComposeChars.test(_test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current)) {\n            _test_replay__WEBPACK_IMPORTED_MODULE_22__.addReplayEvent(\"setLetterIndex\", _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current.length);\n        }\n    }\n    else if (inputValue !== _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current) {\n        let diffStart = 0;\n        while (inputValue[diffStart] === _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current[diffStart]) {\n            diffStart++;\n        }\n        for (let i = diffStart; i < inputValue.length; i++) {\n            handleChar(inputValue[i], i);\n        }\n    }\n    setWordsInput(\" \" + _test_test_input__WEBPACK_IMPORTED_MODULE_28__.input.current);\n    updateUI();\n    // force caret at end of input\n    // doing it on next cycle because Chromium on Android won't let me edit\n    // the selection inside the input event\n    setTimeout(() => {\n        var _a;\n        if (event.target.selectionStart !==\n            event.target.value.length &&\n            (!_utils_misc__WEBPACK_IMPORTED_MODULE_6__.trailingComposeChars.test(event.target.value) ||\n                ((_a = event.target.selectionStart) !== null && _a !== void 0 ? _a : 0) <\n                    event.target.value.search(_utils_misc__WEBPACK_IMPORTED_MODULE_6__.trailingComposeChars))) {\n            event.target.selectionStart = event.target.selectionEnd = event.target.value.length;\n        }\n    }, 0);\n});\n$(\"#wordsInput\").on(\"focus\", (event) => {\n    event.target.selectionStart = event.target.selectionEnd = event.target.value.length;\n});\n$(\"#wordsInput\").on(\"copy paste\", (event) => {\n    event.preventDefault();\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/controllers/input-controller.ts?");

/***/ }),

/***/ "./src/scripts/controllers/page-controller.ts":
/*!****************************************************!*\
  !*** ./src/scripts/controllers/page-controller.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"change\": () => (/* binding */ change)\n/* harmony export */ });\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _states_active_page__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../states/active-page */ \"./src/scripts/states/active-page.ts\");\n/* harmony import */ var _pages_settings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../pages/settings */ \"./src/scripts/pages/settings.ts\");\n/* harmony import */ var _pages_account__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../pages/account */ \"./src/scripts/pages/account.ts\");\n/* harmony import */ var _test_manual_restart_tracker__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../test/manual-restart-tracker */ \"./src/scripts/test/manual-restart-tracker.ts\");\n/* harmony import */ var _pages_test__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../pages/test */ \"./src/scripts/pages/test.ts\");\n/* harmony import */ var _pages_about__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../pages/about */ \"./src/scripts/pages/about.ts\");\n/* harmony import */ var _pages_login__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../pages/login */ \"./src/scripts/pages/login.ts\");\n/* harmony import */ var _pages_loading__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../pages/loading */ \"./src/scripts/pages/loading.ts\");\n/* harmony import */ var _states_page_transition__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../states/page-transition */ \"./src/scripts/states/page-transition.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\n\n\n\n\nfunction change(page) {\n    if (_states_page_transition__WEBPACK_IMPORTED_MODULE_9__.get()) {\n        console.log(`change page ${page} stopped`);\n        return;\n    }\n    console.log(`change page ${page}`);\n    if (page === \"\")\n        page = \"test\";\n    if (page == undefined) {\n        //use window loacation\n        const pages = {\n            \"/\": \"test\",\n            \"/login\": \"login\",\n            \"/settings\": \"settings\",\n            \"/about\": \"about\",\n            \"/account\": \"account\",\n        };\n        let path = pages[window.location.pathname];\n        if (!path) {\n            path = \"test\";\n        }\n        page = path;\n    }\n    if (_states_active_page__WEBPACK_IMPORTED_MODULE_1__.get() === page) {\n        console.log(`page ${page} already active`);\n        return;\n    }\n    const pages = {\n        loading: _pages_loading__WEBPACK_IMPORTED_MODULE_8__.page,\n        test: _pages_test__WEBPACK_IMPORTED_MODULE_5__.page,\n        settings: _pages_settings__WEBPACK_IMPORTED_MODULE_2__.page,\n        about: _pages_about__WEBPACK_IMPORTED_MODULE_6__.page,\n        account: _pages_account__WEBPACK_IMPORTED_MODULE_3__.page,\n        login: _pages_login__WEBPACK_IMPORTED_MODULE_7__.page,\n    };\n    const previousPage = pages[_states_active_page__WEBPACK_IMPORTED_MODULE_1__.get()];\n    const nextPage = pages[page];\n    previousPage === null || previousPage === void 0 ? void 0 : previousPage.beforeHide();\n    _states_page_transition__WEBPACK_IMPORTED_MODULE_9__.set(true);\n    _states_active_page__WEBPACK_IMPORTED_MODULE_1__.set(undefined);\n    $(\".page\").removeClass(\"active\");\n    _utils_misc__WEBPACK_IMPORTED_MODULE_0__.swapElements(previousPage.element, nextPage.element, 250, () => {\n        _states_page_transition__WEBPACK_IMPORTED_MODULE_9__.set(false);\n        _states_active_page__WEBPACK_IMPORTED_MODULE_1__.set(nextPage.name);\n        previousPage === null || previousPage === void 0 ? void 0 : previousPage.afterHide();\n        nextPage.element.addClass(\"active\");\n        history.pushState(nextPage.pathname, \"\", nextPage.pathname);\n        nextPage === null || nextPage === void 0 ? void 0 : nextPage.afterShow();\n    }, () => __awaiter(this, void 0, void 0, function* () {\n        yield (nextPage === null || nextPage === void 0 ? void 0 : nextPage.beforeShow());\n    }));\n}\n$(document).on(\"click\", \"#top .logo\", () => {\n    change(\"test\");\n});\n$(document).on(\"click\", \"#top #menu .icon-button\", (e) => {\n    if (!$(e.currentTarget).hasClass(\"leaderboards\")) {\n        const href = $(e.currentTarget).attr(\"href\");\n        _test_manual_restart_tracker__WEBPACK_IMPORTED_MODULE_4__.set();\n        change(href.replace(\"/\", \"\"));\n    }\n    return false;\n});\n$(\".pageTest .loginTip .link\").on(\"click\", () => __awaiter(void 0, void 0, void 0, function* () {\n    change(\"login\");\n}));\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/controllers/page-controller.ts?");

/***/ }),

/***/ "./src/scripts/controllers/preset-controller.ts":
/*!******************************************************!*\
  !*** ./src/scripts/controllers/preset-controller.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"apply\": () => (/* binding */ apply)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../db */ \"./src/scripts/db.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../elements/notifications */ \"./src/scripts/elements/notifications.ts\");\n/* harmony import */ var _test_test_logic__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../test/test-logic */ \"./src/scripts/test/test-logic.ts\");\n/* harmony import */ var _tag_controller__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./tag-controller */ \"./src/scripts/controllers/tag-controller.ts\");\n\n\n\n\n\nfunction apply(_id) {\n    var _a;\n    // console.log(DB.getSnapshot().presets);\n    const snapshot = _db__WEBPACK_IMPORTED_MODULE_1__.getSnapshot();\n    (_a = snapshot.presets) === null || _a === void 0 ? void 0 : _a.forEach((preset) => {\n        if (preset._id == _id) {\n            _config__WEBPACK_IMPORTED_MODULE_0__.apply(preset.config);\n            _tag_controller__WEBPACK_IMPORTED_MODULE_4__.clear(true);\n            if (preset.config.tags) {\n                preset.config.tags.forEach((tagid) => {\n                    _tag_controller__WEBPACK_IMPORTED_MODULE_4__.set(tagid, true, false);\n                });\n            }\n            _test_test_logic__WEBPACK_IMPORTED_MODULE_3__.restart();\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Preset applied\", 1, 2);\n            _config__WEBPACK_IMPORTED_MODULE_0__.saveFullConfigToLocalStorage();\n        }\n    });\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/controllers/preset-controller.ts?");

/***/ }),

/***/ "./src/scripts/controllers/quotes-controller.ts":
/*!******************************************************!*\
  !*** ./src/scripts/controllers/quotes-controller.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _observables_config_event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../observables/config-event */ \"./src/scripts/observables/config-event.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\nconst defaultQuoteCollection = {\n    quotes: [],\n    length: 0,\n    language: null,\n    groups: [],\n};\nclass QuotesController {\n    constructor() {\n        this.quoteCollection = defaultQuoteCollection;\n        this.quoteQueue = [];\n        this.queueIndex = 0;\n    }\n    getQuotes(language, quoteLengths) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const normalizedLanguage = language.replace(/_\\d*k$/g, \"\");\n            if (this.quoteCollection.language !== normalizedLanguage) {\n                try {\n                    const data = yield $.getJSON(`quotes/${normalizedLanguage}.json`);\n                    if (data.quotes === undefined || data.quotes.length === 0) {\n                        return defaultQuoteCollection;\n                    }\n                    this.quoteCollection = {\n                        quotes: [],\n                        length: data.quotes.length,\n                        groups: [],\n                        language: data.language,\n                    };\n                    // Transform JSON Quote schema to MonkeyTypes Quote schema\n                    data.quotes.forEach((quote) => {\n                        const monkeyTypeQuote = {\n                            text: quote.text,\n                            source: quote.source,\n                            length: quote.length,\n                            id: quote.id,\n                            language: data.language,\n                            group: 0,\n                        };\n                        this.quoteCollection.quotes.push(monkeyTypeQuote);\n                    });\n                    data.groups.forEach((quoteGroup, groupIndex) => {\n                        const lower = quoteGroup[0];\n                        const upper = quoteGroup[1];\n                        this.quoteCollection.groups[groupIndex] =\n                            this.quoteCollection.quotes.filter((quote) => {\n                                if (quote.length >= lower && quote.length <= upper) {\n                                    quote.group = groupIndex;\n                                    return true;\n                                }\n                                return false;\n                            });\n                    });\n                    if (quoteLengths !== undefined) {\n                        this.updateQuoteQueue(quoteLengths);\n                    }\n                }\n                catch (_a) {\n                    return defaultQuoteCollection;\n                }\n            }\n            return this.quoteCollection;\n        });\n    }\n    getQuoteById(id) {\n        const targetQuote = this.quoteCollection.quotes.find((quote) => {\n            return quote.id === id;\n        });\n        return targetQuote;\n    }\n    updateQuoteQueue(quoteGroups) {\n        this.quoteQueue = [];\n        quoteGroups.forEach((group) => {\n            var _a;\n            if (group < 0) {\n                return;\n            }\n            (_a = this.quoteCollection.groups[group]) === null || _a === void 0 ? void 0 : _a.forEach((quote) => {\n                this.quoteQueue.push(quote);\n            });\n        });\n        (0,_utils_misc__WEBPACK_IMPORTED_MODULE_0__.shuffle)(this.quoteQueue);\n        this.queueIndex = 0;\n    }\n    getRandomQuote() {\n        if (this.quoteQueue.length === 0) {\n            return null;\n        }\n        if (this.queueIndex >= this.quoteQueue.length) {\n            this.queueIndex = 0;\n            (0,_utils_misc__WEBPACK_IMPORTED_MODULE_0__.shuffle)(this.quoteQueue);\n        }\n        const randomQuote = this.quoteQueue[this.queueIndex];\n        this.queueIndex += 1;\n        return randomQuote;\n    }\n    getCurrentQuote() {\n        if (this.quoteQueue.length === 0) {\n            return null;\n        }\n        return this.quoteQueue[this.queueIndex];\n    }\n}\nconst quoteController = new QuotesController();\n(0,_observables_config_event__WEBPACK_IMPORTED_MODULE_1__.subscribe)((key, newValue) => {\n    if (key === \"quoteLength\") {\n        quoteController.updateQuoteQueue(newValue);\n    }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (quoteController);\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/controllers/quotes-controller.ts?");

/***/ }),

/***/ "./src/scripts/controllers/route-controller.ts":
/*!*****************************************************!*\
  !*** ./src/scripts/controllers/route-controller.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"handleInitialPageClasses\": () => (/* binding */ handleInitialPageClasses)\n/* harmony export */ });\n/* harmony import */ var _page_controller__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./page-controller */ \"./src/scripts/controllers/page-controller.ts\");\n/* harmony import */ var _states_active_page__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../states/active-page */ \"./src/scripts/states/active-page.ts\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../firebase */ \"./src/scripts/firebase.ts\");\n// import * as Funbox from \"../test/funbox\";\n\n// import Config from \"../config\";\n\n\nconst mappedRoutes = {\n    \"/\": \"pageLoading\",\n    \"/login\": \"pageLoading\",\n    \"/settings\": \"pageLoading\",\n    \"/about\": \"pageLoading\",\n    \"/account\": \"pageAccount\",\n    \"/verify\": \"pageLoading\",\n};\nfunction handleInitialPageClasses(pathname) {\n    if (!mappedRoutes[pathname]) {\n        pathname = \"/\";\n    }\n    const el = $(\".page.\" + mappedRoutes[pathname]);\n    $(el).removeClass(\"hidden\");\n    $(el).addClass(\"active\");\n    let pageName = \"loading\";\n    if (pathname === \"/account\")\n        pageName = \"account\";\n    _states_active_page__WEBPACK_IMPORTED_MODULE_1__.set(pageName);\n}\n// honestly im not sure what this does\n// (function (history): void {\n//   const pushState = history.pushState;\n//   history.pushState = function (state): void {\n//     if (Config.funbox === \"memory\" && state !== \"/\") {\n//       Funbox.resetMemoryTimer();\n//     }\n//     // @ts-ignore\n//     return pushState.apply(history, arguments);\n//   };\n// })(window.history);\n$(window).on(\"popstate\", (e) => {\n    const state = e.originalEvent.state;\n    if (state == \"\" || state == \"/\") {\n        // show test\n        _page_controller__WEBPACK_IMPORTED_MODULE_0__.change(\"test\");\n    }\n    else if (state == \"about\") {\n        // show about\n        _page_controller__WEBPACK_IMPORTED_MODULE_0__.change(\"about\");\n    }\n    else if (state == \"account\" || state == \"login\") {\n        if (_firebase__WEBPACK_IMPORTED_MODULE_2__.Auth.currentUser) {\n            _page_controller__WEBPACK_IMPORTED_MODULE_0__.change(\"account\");\n        }\n        else {\n            _page_controller__WEBPACK_IMPORTED_MODULE_0__.change(\"login\");\n        }\n    }\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/controllers/route-controller.ts?");

/***/ }),

/***/ "./src/scripts/controllers/sound-controller.ts":
/*!*****************************************************!*\
  !*** ./src/scripts/controllers/sound-controller.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"initErrorSound\": () => (/* binding */ initErrorSound),\n/* harmony export */   \"init\": () => (/* binding */ init),\n/* harmony export */   \"previewClick\": () => (/* binding */ previewClick),\n/* harmony export */   \"playClick\": () => (/* binding */ playClick),\n/* harmony export */   \"playError\": () => (/* binding */ playError),\n/* harmony export */   \"setVolume\": () => (/* binding */ setVolume)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var howler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! howler */ \"./node_modules/howler/dist/howler.js\");\n/* harmony import */ var howler__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(howler__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _observables_config_event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../observables/config-event */ \"./src/scripts/observables/config-event.ts\");\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n\n\n\n\nlet errorSound = null;\nlet clickSounds = null;\nfunction initErrorSound() {\n    if (errorSound !== null)\n        return;\n    errorSound = new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: [\"../sound/error.wav\"] });\n}\nfunction init() {\n    if (clickSounds !== null)\n        return;\n    clickSounds = {\n        1: [\n            {\n                sounds: [\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click1/click1_1.wav\" }),\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click1/click1_1.wav\" }),\n                ],\n                counter: 0,\n            },\n            {\n                sounds: [\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click1/click1_2.wav\" }),\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click1/click1_2.wav\" }),\n                ],\n                counter: 0,\n            },\n            {\n                sounds: [\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click1/click1_3.wav\" }),\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click1/click1_3.wav\" }),\n                ],\n                counter: 0,\n            },\n        ],\n        2: [\n            {\n                sounds: [\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click2/click2_1.wav\" }),\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click2/click2_1.wav\" }),\n                ],\n                counter: 0,\n            },\n            {\n                sounds: [\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click2/click2_2.wav\" }),\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click2/click2_2.wav\" }),\n                ],\n                counter: 0,\n            },\n            {\n                sounds: [\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click2/click2_3.wav\" }),\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click2/click2_3.wav\" }),\n                ],\n                counter: 0,\n            },\n        ],\n        3: [\n            {\n                sounds: [\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click3/click3_1.wav\" }),\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click3/click3_1.wav\" }),\n                ],\n                counter: 0,\n            },\n            {\n                sounds: [\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click3/click3_2.wav\" }),\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click3/click3_2.wav\" }),\n                ],\n                counter: 0,\n            },\n            {\n                sounds: [\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click3/click3_3.wav\" }),\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click3/click3_3.wav\" }),\n                ],\n                counter: 0,\n            },\n        ],\n        4: [\n            {\n                sounds: [\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click4/click4_1.wav\" }),\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click4/click4_11.wav\" }),\n                ],\n                counter: 0,\n            },\n            {\n                sounds: [\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click4/click4_2.wav\" }),\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click4/click4_22.wav\" }),\n                ],\n                counter: 0,\n            },\n            {\n                sounds: [\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click4/click4_3.wav\" }),\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click4/click4_33.wav\" }),\n                ],\n                counter: 0,\n            },\n            {\n                sounds: [\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click4/click4_4.wav\" }),\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click4/click4_44.wav\" }),\n                ],\n                counter: 0,\n            },\n            {\n                sounds: [\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click4/click4_5.wav\" }),\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click4/click4_55.wav\" }),\n                ],\n                counter: 0,\n            },\n            {\n                sounds: [\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click4/click4_6.wav\" }),\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click4/click4_66.wav\" }),\n                ],\n                counter: 0,\n            },\n        ],\n        5: [\n            {\n                sounds: [\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click5/click5_1.wav\" }),\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click5/click5_11.wav\" }),\n                ],\n                counter: 0,\n            },\n            {\n                sounds: [\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click5/click5_2.wav\" }),\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click5/click5_22.wav\" }),\n                ],\n                counter: 0,\n            },\n            {\n                sounds: [\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click5/click5_3.wav\" }),\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click5/click5_33.wav\" }),\n                ],\n                counter: 0,\n            },\n            {\n                sounds: [\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click5/click5_4.wav\" }),\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click5/click5_44.wav\" }),\n                ],\n                counter: 0,\n            },\n            {\n                sounds: [\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click5/click5_5.wav\" }),\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click5/click5_55.wav\" }),\n                ],\n                counter: 0,\n            },\n            {\n                sounds: [\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click5/click5_6.wav\" }),\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click5/click5_66.wav\" }),\n                ],\n                counter: 0,\n            },\n        ],\n        6: [\n            {\n                sounds: [\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click6/click6_1.wav\" }),\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click6/click6_11.wav\" }),\n                ],\n                counter: 0,\n            },\n            {\n                sounds: [\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click6/click6_2.wav\" }),\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click6/click6_22.wav\" }),\n                ],\n                counter: 0,\n            },\n            {\n                sounds: [\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click6/click6_3.wav\" }),\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click6/click6_33.wav\" }),\n                ],\n                counter: 0,\n            },\n        ],\n        7: [\n            {\n                sounds: [\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click7/click7_1.wav\" }),\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click7/click7_11.wav\" }),\n                ],\n                counter: 0,\n            },\n            {\n                sounds: [\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click7/click7_2.wav\" }),\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click7/click7_22.wav\" }),\n                ],\n                counter: 0,\n            },\n            {\n                sounds: [\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click7/click7_3.wav\" }),\n                    new howler__WEBPACK_IMPORTED_MODULE_1__.Howl({ src: \"../sound/click7/click7_33.wav\" }),\n                ],\n                counter: 0,\n            },\n        ],\n    };\n}\nfunction previewClick(val) {\n    if (clickSounds === null)\n        init();\n    clickSounds[val][0].sounds[0].seek(0);\n    clickSounds[val][0].sounds[0].play();\n}\nfunction playClick() {\n    if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].playSoundOnClick === \"off\")\n        return;\n    if (clickSounds === null)\n        init();\n    const randomSound = (0,_utils_misc__WEBPACK_IMPORTED_MODULE_3__.randomElementFromArray)(clickSounds[_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].playSoundOnClick]);\n    randomSound.counter++;\n    if (randomSound.counter === 2)\n        randomSound.counter = 0;\n    randomSound.sounds[randomSound.counter].seek(0);\n    randomSound.sounds[randomSound.counter].play();\n}\nfunction playError() {\n    if (!_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].playSoundOnError)\n        return;\n    if (errorSound === null)\n        initErrorSound();\n    errorSound.seek(0);\n    errorSound.play();\n}\nfunction setVolume(val) {\n    // not sure why it complains but it works\n    // @ts-ignore\n    howler__WEBPACK_IMPORTED_MODULE_1___default().Howler.volume(val);\n}\n_observables_config_event__WEBPACK_IMPORTED_MODULE_2__.subscribe((eventKey, eventValue) => {\n    if (eventKey === \"playSoundOnClick\" && eventValue !== \"off\")\n        init();\n    if (eventKey === \"soundVolume\")\n        setVolume(eventValue);\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/controllers/sound-controller.ts?");

/***/ }),

/***/ "./src/scripts/controllers/tag-controller.ts":
/*!***************************************************!*\
  !*** ./src/scripts/controllers/tag-controller.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"saveActiveToLocalStorage\": () => (/* binding */ saveActiveToLocalStorage),\n/* harmony export */   \"clear\": () => (/* binding */ clear),\n/* harmony export */   \"set\": () => (/* binding */ set),\n/* harmony export */   \"toggle\": () => (/* binding */ toggle),\n/* harmony export */   \"loadActiveFromLocalStorage\": () => (/* binding */ loadActiveFromLocalStorage)\n/* harmony export */ });\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../db */ \"./src/scripts/db.ts\");\n/* harmony import */ var _elements_modes_notice__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../elements/modes-notice */ \"./src/scripts/elements/modes-notice.ts\");\n\n\nfunction saveActiveToLocalStorage() {\n    var _a;\n    const tags = [];\n    try {\n        (_a = _db__WEBPACK_IMPORTED_MODULE_0__.getSnapshot().tags) === null || _a === void 0 ? void 0 : _a.forEach((tag) => {\n            if (tag.active === true) {\n                tags.push(tag._id);\n            }\n        });\n        window.localStorage.setItem(\"activeTags\", JSON.stringify(tags));\n    }\n    catch (e) { }\n}\nfunction clear(nosave = false) {\n    var _a;\n    const snapshot = _db__WEBPACK_IMPORTED_MODULE_0__.getSnapshot();\n    snapshot.tags = (_a = snapshot.tags) === null || _a === void 0 ? void 0 : _a.map((tag) => {\n        tag.active = false;\n        return tag;\n    });\n    _db__WEBPACK_IMPORTED_MODULE_0__.setSnapshot(snapshot);\n    _elements_modes_notice__WEBPACK_IMPORTED_MODULE_1__.update();\n    if (!nosave)\n        saveActiveToLocalStorage();\n}\nfunction set(tagid, state, nosave = false) {\n    var _a;\n    const snapshot = _db__WEBPACK_IMPORTED_MODULE_0__.getSnapshot();\n    snapshot.tags = (_a = snapshot.tags) === null || _a === void 0 ? void 0 : _a.map((tag) => {\n        if (tag._id === tagid) {\n            tag.active = state;\n        }\n        return tag;\n    });\n    _db__WEBPACK_IMPORTED_MODULE_0__.setSnapshot(snapshot);\n    _elements_modes_notice__WEBPACK_IMPORTED_MODULE_1__.update();\n    if (!nosave)\n        saveActiveToLocalStorage();\n}\nfunction toggle(tagid, nosave = false) {\n    var _a;\n    (_a = _db__WEBPACK_IMPORTED_MODULE_0__.getSnapshot().tags) === null || _a === void 0 ? void 0 : _a.forEach((tag) => {\n        if (tag._id === tagid) {\n            if (tag.active === undefined) {\n                tag.active = true;\n            }\n            else {\n                tag.active = !tag.active;\n            }\n        }\n    });\n    _elements_modes_notice__WEBPACK_IMPORTED_MODULE_1__.update();\n    if (!nosave)\n        saveActiveToLocalStorage();\n}\nfunction loadActiveFromLocalStorage() {\n    var _a;\n    let newTags = window.localStorage.getItem(\"activeTags\");\n    if (newTags != undefined && newTags !== \"\") {\n        try {\n            newTags = (_a = JSON.parse(newTags)) !== null && _a !== void 0 ? _a : [];\n        }\n        catch (e) {\n            newTags = [];\n        }\n        newTags.forEach((ntag) => {\n            toggle(ntag, true);\n        });\n        saveActiveToLocalStorage();\n    }\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/controllers/tag-controller.ts?");

/***/ }),

/***/ "./src/scripts/controllers/theme-controller.ts":
/*!*****************************************************!*\
  !*** ./src/scripts/controllers/theme-controller.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"randomTheme\": () => (/* binding */ randomTheme),\n/* harmony export */   \"colorVars\": () => (/* binding */ colorVars),\n/* harmony export */   \"preview\": () => (/* binding */ preview),\n/* harmony export */   \"set\": () => (/* binding */ set),\n/* harmony export */   \"clearPreview\": () => (/* binding */ clearPreview),\n/* harmony export */   \"randomizeTheme\": () => (/* binding */ randomizeTheme),\n/* harmony export */   \"clearRandom\": () => (/* binding */ clearRandom),\n/* harmony export */   \"applyCustomBackgroundSize\": () => (/* binding */ applyCustomBackgroundSize),\n/* harmony export */   \"applyCustomBackground\": () => (/* binding */ applyCustomBackground)\n/* harmony export */ });\n/* harmony import */ var _elements_theme_colors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../elements/theme-colors */ \"./src/scripts/elements/theme-colors.ts\");\n/* harmony import */ var _chart_controller__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chart-controller */ \"./src/scripts/controllers/chart-controller.js\");\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var tinycolor2__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tinycolor2 */ \"./node_modules/tinycolor2/tinycolor.js\");\n/* harmony import */ var tinycolor2__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(tinycolor2__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _elements_custom_background_filter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../elements/custom-background-filter */ \"./src/scripts/elements/custom-background-filter.ts\");\n/* harmony import */ var _observables_config_event__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../observables/config-event */ \"./src/scripts/observables/config-event.ts\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../db */ \"./src/scripts/db.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../elements/notifications */ \"./src/scripts/elements/notifications.ts\");\n/* harmony import */ var _controllers_analytics_controller__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../controllers/analytics-controller */ \"./src/scripts/controllers/analytics-controller.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar _a, _b;\n\n\n\n\n\n\n\n\n\n\nlet isPreviewingTheme = false;\nlet randomTheme = null;\nconst colorVars = [\n    \"--bg-color\",\n    \"--main-color\",\n    \"--caret-color\",\n    \"--sub-color\",\n    \"--text-color\",\n    \"--error-color\",\n    \"--error-extra-color\",\n    \"--colorful-error-color\",\n    \"--colorful-error-extra-color\",\n];\nfunction updateFavicon(size, curveSize) {\n    return __awaiter(this, void 0, void 0, function* () {\n        setTimeout(() => __awaiter(this, void 0, void 0, function* () {\n            let maincolor, bgcolor;\n            bgcolor = yield _elements_theme_colors__WEBPACK_IMPORTED_MODULE_0__.get(\"bg\");\n            maincolor = yield _elements_theme_colors__WEBPACK_IMPORTED_MODULE_0__.get(\"main\");\n            if (window.location.hostname === \"localhost\") {\n                const swap = maincolor;\n                maincolor = bgcolor;\n                bgcolor = swap;\n            }\n            if (bgcolor == maincolor) {\n                bgcolor = \"#111\";\n                maincolor = \"#eee\";\n            }\n            const canvas = document.createElement(\"canvas\");\n            canvas.width = size;\n            canvas.height = size;\n            const ctx = canvas.getContext(\"2d\");\n            ctx.beginPath();\n            ctx.moveTo(0, curveSize);\n            //top left\n            ctx.quadraticCurveTo(0, 0, curveSize, 0);\n            ctx.lineTo(size - curveSize, 0);\n            //top right\n            ctx.quadraticCurveTo(size, 0, size, curveSize);\n            ctx.lineTo(size, size - curveSize);\n            ctx.quadraticCurveTo(size, size, size - curveSize, size);\n            ctx.lineTo(curveSize, size);\n            ctx.quadraticCurveTo(0, size, 0, size - curveSize);\n            ctx.fillStyle = bgcolor;\n            ctx.fill();\n            ctx.font = \"900 \" + (size / 2) * 1.2 + \"px Lexend Deca\";\n            ctx.textAlign = \"center\";\n            ctx.fillStyle = maincolor;\n            ctx.fillText(\"mt\", size / 2 + 1, (size / 3) * 2.1);\n            // $(\"body\").prepend(canvas);\n            $(\"#favicon\").attr(\"href\", canvas.toDataURL(\"image/png\"));\n        }), 125);\n    });\n}\nfunction clearCustomTheme() {\n    colorVars.forEach((e) => {\n        document.documentElement.style.setProperty(e, \"\");\n    });\n}\nconst loadStyle = function (name) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve) => {\n            const link = document.createElement(\"link\");\n            link.type = \"text/css\";\n            link.rel = \"stylesheet\";\n            link.id = \"currentTheme\";\n            link.onload = () => {\n                resolve();\n            };\n            if (name === \"custom\") {\n                link.href = `themes/serika_dark.css`;\n            }\n            else {\n                link.href = `themes/${name}.css`;\n            }\n            const headScript = document.querySelector(\"#currentTheme\");\n            headScript.replaceWith(link);\n        });\n    });\n};\n// export function changeCustomTheme(themeId: string, nosave = false): void {\n//   const customThemes = DB.getSnapshot().customThemes;\n//   const colors = customThemes.find((e) => e._id === themeId)\n//     ?.colors as string[];\n//   UpdateConfig.setCustomThemeColors(colors, nosave);\n// }\nfunction apply(themeName, isCustom, isPreview = false) {\n    clearCustomTheme();\n    let name = \"serika_dark\";\n    if (!isCustom) {\n        name = themeName;\n    }\n    else {\n        name = \"custom\";\n    }\n    _elements_theme_colors__WEBPACK_IMPORTED_MODULE_0__.reset();\n    $(\".keymap-key\").attr(\"style\", \"\");\n    // $(\"#currentTheme\").attr(\"href\", `themes/${name}.css`);\n    loadStyle(name).then(() => {\n        var _a, _b;\n        _elements_theme_colors__WEBPACK_IMPORTED_MODULE_0__.update();\n        if (isCustom) {\n            let colorValues = _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].customThemeColors;\n            const snapshot = _db__WEBPACK_IMPORTED_MODULE_7__.getSnapshot();\n            if (isCustom && !isPreview && snapshot) {\n                const customColors = (_b = (_a = snapshot.customThemes.find((e) => e._id === themeName)) === null || _a === void 0 ? void 0 : _a.colors) !== null && _b !== void 0 ? _b : [];\n                if (customColors.length > 0) {\n                    _config__WEBPACK_IMPORTED_MODULE_3__.setCustomThemeColors(customColors);\n                }\n            }\n            if (themeName !== \"custom\" && snapshot) {\n                const customThemes = snapshot.customThemes;\n                const customThemeById = customThemes.find((e) => e._id === themeName);\n                colorValues = customThemeById === null || customThemeById === void 0 ? void 0 : customThemeById.colors;\n            }\n            colorVars.forEach((e, index) => {\n                document.documentElement.style.setProperty(e, colorValues[index]);\n            });\n        }\n        _controllers_analytics_controller__WEBPACK_IMPORTED_MODULE_9__.log(\"changedTheme\", { theme: themeName });\n        if (!isPreview) {\n            _elements_theme_colors__WEBPACK_IMPORTED_MODULE_0__.getAll().then((colors) => {\n                $(\".keymap-key\").attr(\"style\", \"\");\n                _chart_controller__WEBPACK_IMPORTED_MODULE_1__.updateAllChartColors();\n                updateFavicon(128, 32);\n                $(\"#metaThemeColor\").attr(\"content\", colors.bg);\n            });\n        }\n        $(\".current-theme .text\").text(isCustom ? \"custom\" : themeName.replace(/_/g, \" \"));\n    });\n}\nfunction preview(themeIdentifier, isCustom, randomTheme = false) {\n    isPreviewingTheme = true;\n    apply(themeIdentifier, isCustom, !randomTheme);\n}\nfunction set(themeIdentifier, isCustom) {\n    apply(themeIdentifier, isCustom);\n}\nfunction clearPreview() {\n    if (isPreviewingTheme) {\n        isPreviewingTheme = false;\n        randomTheme = null;\n        if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].customTheme) {\n            apply(\"custom\", true);\n        }\n        else {\n            apply(_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].theme, false);\n        }\n    }\n}\nfunction randomizeTheme() {\n    let randomList;\n    _utils_misc__WEBPACK_IMPORTED_MODULE_2__.getThemesList().then((themes) => {\n        var _a, _b;\n        if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].randomTheme === \"fav\" && _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].favThemes.length > 0) {\n            randomList = _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].favThemes;\n        }\n        else if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].randomTheme === \"light\") {\n            randomList = themes\n                .filter((t) => tinycolor2__WEBPACK_IMPORTED_MODULE_4___default()(t.bgColor).isLight())\n                .map((t) => t.name);\n        }\n        else if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].randomTheme === \"dark\") {\n            randomList = themes\n                .filter((t) => tinycolor2__WEBPACK_IMPORTED_MODULE_4___default()(t.bgColor).isDark())\n                .map((t) => t.name);\n        }\n        else if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].randomTheme === \"on\") {\n            randomList = themes.map((t) => {\n                return t.name;\n            });\n        }\n        else {\n            randomList = _db__WEBPACK_IMPORTED_MODULE_7__.getSnapshot().customThemes.map((ct) => ct._id);\n        }\n        const previousTheme = randomTheme;\n        randomTheme = _utils_misc__WEBPACK_IMPORTED_MODULE_2__.randomElementFromArray(randomList);\n        // if (Config.randomTheme === \"custom\") {\n        // changeCustomTheme(randomTheme, true);\n        // } else {\n        preview(randomTheme, _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].randomTheme === \"custom\");\n        // }\n        if (previousTheme != randomTheme) {\n            let name = randomTheme.replace(/_/g, \" \");\n            if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].randomTheme === \"custom\") {\n                name = ((_b = (_a = _db__WEBPACK_IMPORTED_MODULE_7__.getSnapshot().customThemes.find((ct) => ct._id === randomTheme)) === null || _a === void 0 ? void 0 : _a.name) !== null && _b !== void 0 ? _b : \"custom\").replace(/_/g, \" \");\n            }\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_8__.add(name, 0);\n        }\n    });\n}\nfunction clearRandom() {\n    if (randomTheme === null)\n        return;\n    randomTheme = null;\n    if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].customTheme) {\n        apply(\"custom\", true);\n    }\n    else {\n        apply(_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].theme, false);\n    }\n}\nfunction applyCustomBackgroundSize() {\n    if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].customBackgroundSize == \"max\") {\n        $(\".customBackground img\").css({\n            // width: \"calc(100%)\",\n            // height: \"calc(100%)\",\n            objectFit: \"\",\n        });\n    }\n    else {\n        $(\".customBackground img\").css({\n            objectFit: _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].customBackgroundSize,\n        });\n    }\n}\nfunction applyCustomBackground() {\n    // $(\".customBackground\").css({\n    //   backgroundImage: `url(${Config.customBackground})`,\n    //   backgroundAttachment: \"fixed\",\n    // });\n    if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].customBackground === \"\") {\n        $(\"#words\").removeClass(\"noErrorBorder\");\n        $(\"#resultWordsHistory\").removeClass(\"noErrorBorder\");\n        $(\".customBackground img\").remove();\n    }\n    else {\n        $(\"#words\").addClass(\"noErrorBorder\");\n        $(\"#resultWordsHistory\").addClass(\"noErrorBorder\");\n        $(\".customBackground\").html(`<img src=\"${_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].customBackground}\" />`);\n        _elements_custom_background_filter__WEBPACK_IMPORTED_MODULE_5__.apply();\n        applyCustomBackgroundSize();\n    }\n}\n(_b = (_a = window\n    .matchMedia) === null || _a === void 0 ? void 0 : _a.call(window, \"(prefers-color-scheme: dark)\")) === null || _b === void 0 ? void 0 : _b.addEventListener(\"change\", (event) => {\n    if (!_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].autoSwitchTheme || _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].customTheme)\n        return;\n    if (event.matches) {\n        set(_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].themeDark, false);\n    }\n    else {\n        set(_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].themeLight, false);\n    }\n});\n_observables_config_event__WEBPACK_IMPORTED_MODULE_6__.subscribe((eventKey, eventValue, nosave) => {\n    if (eventKey === \"customTheme\") {\n        eventValue ? set(\"custom\", true) : set(_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].theme, false);\n    }\n    if (eventKey === \"customThemeColors\") {\n        nosave ? preview(\"custom\", true) : set(\"custom\", true);\n    }\n    if (eventKey === \"theme\") {\n        clearPreview();\n        set(eventValue, false);\n    }\n    if (eventKey === \"setThemes\") {\n        clearPreview();\n        if (eventValue) {\n            set(\"custom\", true);\n        }\n        else {\n            if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].autoSwitchTheme) {\n                if (window.matchMedia &&\n                    window.matchMedia(\"(prefers-color-scheme: dark)\").matches) {\n                    set(_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].themeDark, false);\n                }\n                else {\n                    set(_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].themeLight, false);\n                }\n            }\n            else {\n                set(_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].theme, false);\n            }\n        }\n    }\n    if (eventKey === \"randomTheme\" && eventValue === \"off\")\n        clearRandom();\n    if (eventKey === \"customBackground\")\n        applyCustomBackground();\n    if (eventKey === \"customBackgroundSize\")\n        applyCustomBackgroundSize();\n    if (eventKey === \"autoSwitchTheme\") {\n        if (eventValue) {\n            if (window.matchMedia &&\n                window.matchMedia(\"(prefers-color-scheme: dark)\").matches) {\n                set(_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].themeDark, false);\n            }\n            else {\n                set(_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].themeLight, false);\n            }\n        }\n        else {\n            set(_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].theme, false);\n        }\n    }\n    if (eventKey === \"themeLight\" &&\n        _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].autoSwitchTheme &&\n        !(window.matchMedia &&\n            window.matchMedia(\"(prefers-color-scheme: dark)\").matches) &&\n        !nosave) {\n        set(_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].themeLight, false);\n    }\n    if (eventKey === \"themeDark\" &&\n        _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].autoSwitchTheme &&\n        window.matchMedia &&\n        window.matchMedia(\"(prefers-color-scheme: dark)\").matches &&\n        !nosave) {\n        set(_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].themeDark, false);\n    }\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/controllers/theme-controller.ts?");

/***/ }),

/***/ "./src/scripts/controllers/verification-controller.ts":
/*!************************************************************!*\
  !*** ./src/scripts/controllers/verification-controller.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"data\": () => (/* binding */ data),\n/* harmony export */   \"set\": () => (/* binding */ set),\n/* harmony export */   \"verify\": () => (/* binding */ verify)\n/* harmony export */ });\n/* harmony import */ var _ape__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ape */ \"./src/scripts/ape/index.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../elements/notifications */ \"./src/scripts/elements/notifications.ts\");\n/* harmony import */ var _pages_settings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../pages/settings */ \"./src/scripts/pages/settings.ts\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../db */ \"./src/scripts/db.ts\");\n/* harmony import */ var _elements_loader__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../elements/loader */ \"./src/scripts/elements/loader.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\nlet data = null;\nfunction set(val) {\n    data = val;\n}\nfunction verify(uid) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (data === null)\n            return;\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Linking Discord account\", 0, 3);\n        _elements_loader__WEBPACK_IMPORTED_MODULE_4__.show();\n        data.uid = uid;\n        const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].users.linkDiscord(data);\n        _elements_loader__WEBPACK_IMPORTED_MODULE_4__.hide();\n        if (response.status !== 200) {\n            return _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Failed to link Discord: \" + response.message, -1);\n        }\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Accounts linked\", 1);\n        const snapshot = _db__WEBPACK_IMPORTED_MODULE_3__.getSnapshot();\n        snapshot.discordId = response.data.did;\n        _db__WEBPACK_IMPORTED_MODULE_3__.setSnapshot(snapshot);\n        _pages_settings__WEBPACK_IMPORTED_MODULE_2__.updateDiscordSection();\n    });\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/controllers/verification-controller.ts?");

/***/ }),

/***/ "./src/scripts/db.ts":
/*!***************************!*\
  !*** ./src/scripts/db.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getSnapshot\": () => (/* binding */ getSnapshot),\n/* harmony export */   \"setSnapshot\": () => (/* binding */ setSnapshot),\n/* harmony export */   \"initSnapshot\": () => (/* binding */ initSnapshot),\n/* harmony export */   \"getUserResults\": () => (/* binding */ getUserResults),\n/* harmony export */   \"getCustomThemeById\": () => (/* binding */ getCustomThemeById),\n/* harmony export */   \"addCustomTheme\": () => (/* binding */ addCustomTheme),\n/* harmony export */   \"editCustomTheme\": () => (/* binding */ editCustomTheme),\n/* harmony export */   \"deleteCustomTheme\": () => (/* binding */ deleteCustomTheme),\n/* harmony export */   \"getUserHighestWpm\": () => (/* binding */ getUserHighestWpm),\n/* harmony export */   \"getUserAverageWpm10\": () => (/* binding */ getUserAverageWpm10),\n/* harmony export */   \"getLocalPB\": () => (/* binding */ getLocalPB),\n/* harmony export */   \"saveLocalPB\": () => (/* binding */ saveLocalPB),\n/* harmony export */   \"getLocalTagPB\": () => (/* binding */ getLocalTagPB),\n/* harmony export */   \"saveLocalTagPB\": () => (/* binding */ saveLocalTagPB),\n/* harmony export */   \"updateLbMemory\": () => (/* binding */ updateLbMemory),\n/* harmony export */   \"saveConfig\": () => (/* binding */ saveConfig),\n/* harmony export */   \"saveLocalResult\": () => (/* binding */ saveLocalResult),\n/* harmony export */   \"updateLocalStats\": () => (/* binding */ updateLocalStats)\n/* harmony export */ });\n/* harmony import */ var _ape__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ape */ \"./src/scripts/ape/index.ts\");\n/* harmony import */ var _elements_account_button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./elements/account-button */ \"./src/scripts/elements/account-button.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./elements/notifications */ \"./src/scripts/elements/notifications.ts\");\n/* harmony import */ var _pages_loading__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/loading */ \"./src/scripts/pages/loading.ts\");\n/* harmony import */ var _constants_default_config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./constants/default-config */ \"./src/scripts/constants/default-config.ts\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./firebase */ \"./src/scripts/firebase.ts\");\n/* harmony import */ var _constants_default_snapshot__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./constants/default-snapshot */ \"./src/scripts/constants/default-snapshot.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\n\nlet dbSnapshot;\nfunction getSnapshot() {\n    return dbSnapshot;\n}\nfunction setSnapshot(newSnapshot) {\n    try {\n        delete newSnapshot.banned;\n    }\n    catch (_a) { }\n    try {\n        delete newSnapshot.verified;\n    }\n    catch (_b) { }\n    dbSnapshot = newSnapshot;\n}\nfunction initSnapshot() {\n    var _a, _b, _c, _d, _e;\n    return __awaiter(this, void 0, void 0, function* () {\n        //send api request with token that returns tags, presets, and data needed for snap\n        const snap = _constants_default_snapshot__WEBPACK_IMPORTED_MODULE_6__.defaultSnap;\n        try {\n            if (_firebase__WEBPACK_IMPORTED_MODULE_5__.Auth.currentUser == null)\n                return false;\n            // if (ActivePage.get() == \"loading\") {\n            //   LoadingPage.updateBar(22.5);\n            // } else {\n            //   LoadingPage.updateBar(16);\n            // }\n            // LoadingPage.updateText(\"Downloading user...\");\n            const [userResponse, configResponse, tagsResponse, presetsResponse] = yield Promise.all([\n                _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].users.getData(),\n                _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].configs.get(),\n                _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].users.getTags(),\n                _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].presets.get(),\n            ]);\n            if (userResponse.status !== 200) {\n                throw {\n                    message: `${userResponse.message} (user)`,\n                    responseCode: userResponse.status,\n                };\n            }\n            if (configResponse.status !== 200) {\n                throw {\n                    message: `${configResponse.message} (config)`,\n                    responseCode: configResponse.status,\n                };\n            }\n            if (tagsResponse.status !== 200) {\n                throw {\n                    message: `${tagsResponse.message} (tags)`,\n                    responseCode: tagsResponse.status,\n                };\n            }\n            if (presetsResponse.status !== 200) {\n                throw {\n                    message: `${presetsResponse.message} (presets)`,\n                    responseCode: presetsResponse.status,\n                };\n            }\n            const [userData, configData, tagsData, presetsData] = [\n                userResponse,\n                configResponse,\n                tagsResponse,\n                presetsResponse,\n            ].map((response) => response.data);\n            snap.name = userData.name;\n            snap.personalBests = userData.personalBests;\n            snap.banned = userData.banned;\n            snap.verified = userData.verified;\n            snap.discordId = userData.discordId;\n            snap.globalStats = {\n                time: userData.timeTyping,\n                started: userData.startedTests,\n                completed: userData.completedTests,\n            };\n            if (userData.quoteMod === true)\n                snap.quoteMod = true;\n            snap.quoteRatings = userData.quoteRatings;\n            snap.favouriteThemes =\n                userData.favouriteThemes === undefined ? [] : userData.favouriteThemes;\n            if (((_a = userData.lbMemory) === null || _a === void 0 ? void 0 : _a.time15) || ((_b = userData.lbMemory) === null || _b === void 0 ? void 0 : _b.time60)) {\n                //old memory format\n                snap.lbMemory = {};\n            }\n            else if (userData.lbMemory) {\n                snap.lbMemory = userData.lbMemory;\n            }\n            // if (ActivePage.get() == \"loading\") {\n            //   LoadingPage.updateBar(45);\n            // } else {\n            //   LoadingPage.updateBar(32);\n            // }\n            // LoadingPage.updateText(\"Downloading config...\");\n            if (configData) {\n                const newConfig = Object.assign({}, _constants_default_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\n                for (const key in configData.config) {\n                    const value = configData.config[key];\n                    newConfig[key] = value;\n                }\n                snap.config = newConfig;\n            }\n            // if (ActivePage.get() == \"loading\") {\n            //   LoadingPage.updateBar(67.5);\n            // } else {\n            //   LoadingPage.updateBar(48);\n            // }\n            // LoadingPage.updateText(\"Downloading tags...\");\n            snap.customThemes = (_c = userData.customThemes) !== null && _c !== void 0 ? _c : [];\n            snap.tags = tagsData;\n            snap.tags = (_d = snap.tags) === null || _d === void 0 ? void 0 : _d.sort((a, b) => {\n                if (a.name > b.name) {\n                    return 1;\n                }\n                else if (a.name < b.name) {\n                    return -1;\n                }\n                else {\n                    return 0;\n                }\n            });\n            // if (ActivePage.get() == \"loading\") {\n            //   LoadingPage.updateBar(90);\n            // } else {\n            //   LoadingPage.updateBar(64);\n            // }\n            // LoadingPage.updateText(\"Downloading presets...\");\n            snap.presets = presetsData;\n            snap.presets = (_e = snap.presets) === null || _e === void 0 ? void 0 : _e.sort((a, b) => {\n                if (a.name > b.name) {\n                    return 1;\n                }\n                else if (a.name < b.name) {\n                    return -1;\n                }\n                else {\n                    return 0;\n                }\n            });\n            dbSnapshot = snap;\n            return dbSnapshot;\n        }\n        catch (e) {\n            dbSnapshot = _constants_default_snapshot__WEBPACK_IMPORTED_MODULE_6__.defaultSnap;\n            throw e;\n        }\n    });\n}\nfunction getUserResults() {\n    return __awaiter(this, void 0, void 0, function* () {\n        const user = _firebase__WEBPACK_IMPORTED_MODULE_5__.Auth.currentUser;\n        if (user == null)\n            return false;\n        if (dbSnapshot === null)\n            return false;\n        if (dbSnapshot.results !== undefined) {\n            return true;\n        }\n        else {\n            _pages_loading__WEBPACK_IMPORTED_MODULE_3__.updateText(\"Downloading results...\");\n            _pages_loading__WEBPACK_IMPORTED_MODULE_3__.updateBar(90);\n            const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].results.get();\n            if (response.status !== 200) {\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Error getting results: \" + response.message, -1);\n                return false;\n            }\n            const results = response.data;\n            results.forEach((result) => {\n                if (result.bailedOut === undefined)\n                    result.bailedOut = false;\n                if (result.blindMode === undefined)\n                    result.blindMode = false;\n                if (result.lazyMode === undefined)\n                    result.lazyMode = false;\n                if (result.difficulty === undefined)\n                    result.difficulty = \"normal\";\n                if (result.funbox === undefined)\n                    result.funbox = \"none\";\n                if (result.language === undefined || result.language === null) {\n                    result.language = \"english\";\n                }\n                if (result.numbers === undefined)\n                    result.numbers = false;\n                if (result.punctuation === undefined)\n                    result.punctuation = false;\n            });\n            dbSnapshot.results = results === null || results === void 0 ? void 0 : results.sort((a, b) => b.timestamp - a.timestamp);\n            return true;\n        }\n    });\n}\nfunction getCustomThemeById(themeID) {\n    return dbSnapshot.customThemes.find((t) => t._id === themeID);\n}\nfunction addCustomTheme(theme) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (dbSnapshot === null)\n            return false;\n        if (dbSnapshot.customThemes.length >= 10) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Too many custom themes!\", 0);\n            return false;\n        }\n        const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].users.addCustomTheme(theme);\n        if (response.status !== 200) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Error adding custom theme: \" + response.message, -1);\n            return false;\n        }\n        const newCustomTheme = Object.assign(Object.assign({}, theme), { _id: response.data.theme._id });\n        dbSnapshot.customThemes.push(newCustomTheme);\n        return true;\n    });\n}\nfunction editCustomTheme(themeId, newTheme) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const user = _firebase__WEBPACK_IMPORTED_MODULE_5__.Auth.currentUser;\n        if (user === null)\n            return false;\n        if (dbSnapshot === null)\n            return false;\n        const customTheme = dbSnapshot.customThemes.find((t) => t._id === themeId);\n        if (!customTheme) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Editing failed: Custom theme with id: \" + themeId + \" does not exist\", -1);\n            return false;\n        }\n        const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].users.editCustomTheme(themeId, newTheme);\n        if (response.status !== 200) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Error editing custom theme: \" + response.message, -1);\n            return false;\n        }\n        const newCustomTheme = Object.assign(Object.assign({}, newTheme), { _id: themeId });\n        dbSnapshot.customThemes[dbSnapshot.customThemes.indexOf(customTheme)] =\n            newCustomTheme;\n        return true;\n    });\n}\nfunction deleteCustomTheme(themeId) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const user = _firebase__WEBPACK_IMPORTED_MODULE_5__.Auth.currentUser;\n        if (user === null)\n            return false;\n        if (dbSnapshot === null)\n            return false;\n        const customTheme = dbSnapshot.customThemes.find((t) => t._id === themeId);\n        if (!customTheme)\n            return false;\n        const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].users.deleteCustomTheme(themeId);\n        if (response.status !== 200) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Error deleting custom theme: \" + response.message, -1);\n            return false;\n        }\n        dbSnapshot.customThemes = dbSnapshot.customThemes.filter((t) => t._id !== themeId);\n        return true;\n    });\n}\nfunction getUserHighestWpm(mode, mode2, punctuation, language, difficulty, lazyMode) {\n    return __awaiter(this, void 0, void 0, function* () {\n        function cont() {\n            var _a;\n            let topWpm = 0;\n            (_a = dbSnapshot.results) === null || _a === void 0 ? void 0 : _a.forEach((result) => {\n                if (result.mode == mode &&\n                    result.mode2 == mode2 &&\n                    result.punctuation == punctuation &&\n                    result.language == language &&\n                    result.difficulty == difficulty &&\n                    (result.lazyMode === lazyMode ||\n                        (result.lazyMode === undefined && lazyMode === false))) {\n                    if (result.wpm > topWpm) {\n                        topWpm = result.wpm;\n                    }\n                }\n            });\n            return topWpm;\n        }\n        const retval = dbSnapshot === null || dbSnapshot.results === undefined ? 0 : cont();\n        return retval;\n    });\n}\nfunction getUserAverageWpm10(mode, mode2, punctuation, language, difficulty, lazyMode) {\n    return __awaiter(this, void 0, void 0, function* () {\n        function cont() {\n            var _a, _b, _c;\n            const activeTagIds = [];\n            (_b = (_a = getSnapshot()) === null || _a === void 0 ? void 0 : _a.tags) === null || _b === void 0 ? void 0 : _b.forEach((tag) => {\n                if (tag.active === true) {\n                    activeTagIds.push(tag._id);\n                }\n            });\n            let wpmSum = 0;\n            let count = 0;\n            let last10Wpm = 0;\n            let last10Count = 0;\n            // You have to use every so you can break out of the loop\n            (_c = dbSnapshot.results) === null || _c === void 0 ? void 0 : _c.every((result) => {\n                if (result.mode == mode &&\n                    result.punctuation == punctuation &&\n                    result.language == language &&\n                    result.difficulty == difficulty &&\n                    (result.lazyMode === lazyMode ||\n                        (result.lazyMode === undefined && lazyMode === false)) &&\n                    ((activeTagIds.length === 0 && result.tags.length === 0) ||\n                        (activeTagIds.length > 0 &&\n                            result.tags.some((tag) => activeTagIds.includes(tag))))) {\n                    // Continue if the mode2 doesn't match unless it's a quote.\n                    if (result.mode2 != mode2 && mode != \"quote\") {\n                        return true;\n                    }\n                    // Grab the most recent 10 wpm's for the current mode.\n                    if (last10Count < 10) {\n                        last10Wpm += result.wpm;\n                        last10Count++;\n                    }\n                    // Check mode2 matches and append, for quotes this is the quote id.\n                    if (result.mode2 == mode2) {\n                        wpmSum += result.wpm;\n                        count++;\n                        if (count >= 10) {\n                            // Break out of every loop since we a maximum of the last 10 wpm results.\n                            return false;\n                        }\n                    }\n                }\n                return true;\n            });\n            // Return the last 10 average wpm for quote if the current quote id has never been completed before by the user.\n            if (count == 0 && mode == \"quote\") {\n                return last10Wpm / last10Count;\n            }\n            // Return the average wpm of the last 10 completions for the targeted test mode.\n            return wpmSum / count;\n        }\n        const retval = dbSnapshot === null || (yield getUserResults()) === false ? 0 : cont();\n        return retval;\n    });\n}\nfunction getLocalPB(mode, mode2, punctuation, language, difficulty, lazyMode, funbox) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (funbox !== \"none\" && funbox !== \"plus_one\" && funbox !== \"plus_two\") {\n            return 0;\n        }\n        function cont() {\n            let ret = 0;\n            try {\n                if (!dbSnapshot.personalBests)\n                    return ret;\n                dbSnapshot.personalBests[mode][mode2].forEach((pb) => {\n                    if (pb.punctuation == punctuation &&\n                        pb.difficulty == difficulty &&\n                        pb.language == language &&\n                        (pb.lazyMode === lazyMode ||\n                            (pb.lazyMode === undefined && lazyMode === false))) {\n                        ret = pb.wpm;\n                    }\n                });\n                return ret;\n            }\n            catch (e) {\n                return ret;\n            }\n        }\n        const retval = dbSnapshot === null ? 0 : cont();\n        return retval;\n    });\n}\nfunction saveLocalPB(mode, mode2, punctuation, language, difficulty, lazyMode, wpm, acc, raw, consistency) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (mode == \"quote\")\n            return;\n        function cont() {\n            let found = false;\n            if (dbSnapshot.personalBests === undefined) {\n                dbSnapshot.personalBests = {\n                    time: {},\n                    words: {},\n                    zen: { zen: [] },\n                    quote: { custom: [] },\n                    custom: { custom: [] },\n                };\n            }\n            if (dbSnapshot.personalBests[mode] === undefined) {\n                if (mode === \"zen\") {\n                    dbSnapshot.personalBests[\"zen\"] = { zen: [] };\n                }\n                else {\n                    dbSnapshot.personalBests[mode] = {\n                        custom: [],\n                    };\n                }\n            }\n            if (dbSnapshot.personalBests[mode][mode2] === undefined) {\n                dbSnapshot.personalBests[mode][mode2] =\n                    [];\n            }\n            dbSnapshot.personalBests[mode][mode2].forEach((pb) => {\n                if (pb.punctuation == punctuation &&\n                    pb.difficulty == difficulty &&\n                    pb.language == language &&\n                    (pb.lazyMode === lazyMode ||\n                        (pb.lazyMode === undefined && lazyMode === false))) {\n                    found = true;\n                    pb.wpm = wpm;\n                    pb.acc = acc;\n                    pb.raw = raw;\n                    pb.timestamp = Date.now();\n                    pb.consistency = consistency;\n                    pb.lazyMode = lazyMode;\n                }\n            });\n            if (!found) {\n                //nothing found\n                dbSnapshot.personalBests[mode][mode2].push({\n                    language: language,\n                    difficulty: difficulty,\n                    lazyMode: lazyMode,\n                    punctuation: punctuation,\n                    wpm: wpm,\n                    acc: acc,\n                    raw: raw,\n                    timestamp: Date.now(),\n                    consistency: consistency,\n                });\n            }\n        }\n        if (dbSnapshot != null) {\n            cont();\n        }\n    });\n}\nfunction getLocalTagPB(tagId, mode, mode2, punctuation, language, difficulty, lazyMode) {\n    return __awaiter(this, void 0, void 0, function* () {\n        function cont() {\n            var _a, _b;\n            let ret = 0;\n            const filteredtag = ((_a = getSnapshot().tags) !== null && _a !== void 0 ? _a : []).filter((t) => t._id === tagId)[0];\n            if (filteredtag === undefined)\n                return ret;\n            if (filteredtag.personalBests === undefined) {\n                filteredtag.personalBests = {\n                    time: {},\n                    words: {},\n                    zen: { zen: [] },\n                    quote: { custom: [] },\n                    custom: { custom: [] },\n                };\n            }\n            try {\n                const personalBests = ((_b = filteredtag.personalBests[mode][mode2]) !== null && _b !== void 0 ? _b : []);\n                personalBests.forEach((pb) => {\n                    if (pb.punctuation == punctuation &&\n                        pb.difficulty == difficulty &&\n                        pb.language == language &&\n                        (pb.lazyMode === lazyMode ||\n                            (pb.lazyMode === undefined && lazyMode === false))) {\n                        ret = pb.wpm;\n                    }\n                });\n            }\n            catch (e) {\n                console.log(e);\n            }\n            return ret;\n        }\n        const retval = dbSnapshot === null ? 0 : cont();\n        return retval;\n    });\n}\nfunction saveLocalTagPB(tagId, mode, mode2, punctuation, language, difficulty, lazyMode, wpm, acc, raw, consistency) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (mode == \"quote\")\n            return;\n        function cont() {\n            var _a;\n            const filteredtag = (_a = dbSnapshot.tags) === null || _a === void 0 ? void 0 : _a.filter((t) => t._id === tagId)[0];\n            if (!filteredtag.personalBests) {\n                filteredtag.personalBests = {\n                    time: {},\n                    words: {},\n                    zen: { zen: [] },\n                    quote: { custom: [] },\n                    custom: { custom: [] },\n                };\n            }\n            try {\n                let found = false;\n                if (filteredtag.personalBests[mode][mode2] === undefined) {\n                    filteredtag.personalBests[mode][mode2] =\n                        [];\n                }\n                filteredtag.personalBests[mode][mode2].forEach((pb) => {\n                    if (pb.punctuation == punctuation &&\n                        pb.difficulty == difficulty &&\n                        pb.language == language &&\n                        (pb.lazyMode === lazyMode ||\n                            (pb.lazyMode === undefined && lazyMode === false))) {\n                        found = true;\n                        pb.wpm = wpm;\n                        pb.acc = acc;\n                        pb.raw = raw;\n                        pb.timestamp = Date.now();\n                        pb.consistency = consistency;\n                        pb.lazyMode = lazyMode;\n                    }\n                });\n                if (!found) {\n                    //nothing found\n                    filteredtag.personalBests[mode][mode2].push({\n                        language: language,\n                        difficulty: difficulty,\n                        lazyMode: lazyMode,\n                        punctuation: punctuation,\n                        wpm: wpm,\n                        acc: acc,\n                        raw: raw,\n                        timestamp: Date.now(),\n                        consistency: consistency,\n                    });\n                }\n            }\n            catch (e) {\n                //that mode or mode2 is not found\n                filteredtag.personalBests = {\n                    time: {},\n                    words: {},\n                    zen: { zen: [] },\n                    quote: { custom: [] },\n                    custom: { custom: [] },\n                };\n                if (mode === \"zen\") {\n                    filteredtag.personalBests[\"zen\"] = { zen: [] };\n                }\n                else {\n                    filteredtag.personalBests[mode] = {\n                        custom: [],\n                    };\n                }\n                filteredtag.personalBests[mode][mode2] = [\n                    {\n                        language: language,\n                        difficulty: difficulty,\n                        lazyMode: lazyMode,\n                        punctuation: punctuation,\n                        wpm: wpm,\n                        acc: acc,\n                        raw: raw,\n                        timestamp: Date.now(),\n                        consistency: consistency,\n                    },\n                ];\n            }\n        }\n        if (dbSnapshot != null) {\n            cont();\n        }\n        return;\n    });\n}\nfunction updateLbMemory(mode, mode2, language, rank, api = false) {\n    return __awaiter(this, void 0, void 0, function* () {\n        //could dbSnapshot just be used here instead of getSnapshot()\n        if (mode === \"time\") {\n            const timeMode = mode, timeMode2 = mode2;\n            const snapshot = getSnapshot();\n            if (snapshot.lbMemory === undefined) {\n                snapshot.lbMemory = { time: { 15: { english: 0 }, 60: { english: 0 } } };\n            }\n            if (snapshot.lbMemory[timeMode] === undefined) {\n                snapshot.lbMemory[timeMode] = {\n                    15: { english: 0 },\n                    60: { english: 0 },\n                };\n            }\n            if (snapshot.lbMemory[timeMode][timeMode2] === undefined) {\n                snapshot.lbMemory[timeMode][timeMode2] = {};\n            }\n            const current = snapshot.lbMemory[timeMode][timeMode2][language];\n            snapshot.lbMemory[timeMode][timeMode2][language] = rank;\n            if (api && current != rank) {\n                yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].users.updateLeaderboardMemory(mode, mode2, language, rank);\n            }\n            setSnapshot(snapshot);\n        }\n    });\n}\nfunction saveConfig(config) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (_firebase__WEBPACK_IMPORTED_MODULE_5__.Auth.currentUser !== null) {\n            _elements_account_button__WEBPACK_IMPORTED_MODULE_1__.loading(true);\n            const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].configs.save(config);\n            if (response.status !== 200) {\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Failed to save config: \" + response.message, -1);\n            }\n            _elements_account_button__WEBPACK_IMPORTED_MODULE_1__.loading(false);\n        }\n    });\n}\nfunction saveLocalResult(result) {\n    const snapshot = getSnapshot();\n    if (snapshot !== null && snapshot.results !== undefined) {\n        snapshot.results.unshift(result);\n        setSnapshot(snapshot);\n    }\n}\nfunction updateLocalStats(stats) {\n    const snapshot = getSnapshot();\n    if (snapshot.globalStats === undefined) {\n        snapshot.globalStats = {};\n    }\n    if (snapshot !== null && snapshot.globalStats !== undefined) {\n        if (snapshot.globalStats.time == undefined) {\n            snapshot.globalStats.time = stats.time;\n        }\n        else {\n            snapshot.globalStats.time += stats.time;\n        }\n        if (snapshot.globalStats.started == undefined) {\n            snapshot.globalStats.started = stats.started;\n        }\n        else {\n            snapshot.globalStats.started += stats.started;\n        }\n        if (snapshot.globalStats.completed == undefined) {\n            snapshot.globalStats.completed = 1;\n        }\n        else {\n            snapshot.globalStats.completed += 1;\n        }\n    }\n    setSnapshot(snapshot);\n}\n// export async function DB.getLocalTagPB(tagId) {\n//   function cont() {\n//     let ret = 0;\n//     try {\n//       ret = dbSnapshot.tags.filter((t) => t.id === tagId)[0].pb;\n//       if (ret == undefined) {\n//         ret = 0;\n//       }\n//       return ret;\n//     } catch (e) {\n//       return ret;\n//     }\n//   }\n//   const retval = dbSnapshot !== null ? cont() : undefined;\n//   return retval;\n// }\n// export async functio(tagId, wpm) {\n//   function cont() {\n//     dbSnapshot.tags.forEach((tag) => {\n//       if (tag._id === tagId) {\n//         tag.pb = wpm;\n//       }\n//     });\n//   }\n//   if (dbSnapshot != null) {\n//     cont();\n//   }\n// }\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/db.ts?");

/***/ }),

/***/ "./src/scripts/elements/account-button.ts":
/*!************************************************!*\
  !*** ./src/scripts/elements/account-button.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"loading\": () => (/* binding */ loading),\n/* harmony export */   \"update\": () => (/* binding */ update)\n/* harmony export */ });\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../firebase */ \"./src/scripts/firebase.ts\");\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n\n\nfunction loading(truefalse) {\n    if (truefalse) {\n        $(\"#top #menu .account .icon\").html('<i class=\"fas fa-fw fa-spin fa-circle-notch\"></i>');\n        $(\"#top #menu .account\").css(\"opacity\", 1).css(\"pointer-events\", \"none\");\n    }\n    else {\n        $(\"#top #menu .account .icon\").html('<i class=\"fas fa-fw fa-user\"></i>');\n        $(\"#top #menu .account\").css(\"opacity\", 1).css(\"pointer-events\", \"auto\");\n    }\n}\nfunction update() {\n    if (_firebase__WEBPACK_IMPORTED_MODULE_0__.Auth.currentUser != null) {\n        _utils_misc__WEBPACK_IMPORTED_MODULE_1__.swapElements($(\"#menu .icon-button.login\"), $(\"#menu .icon-button.account\"), 250);\n    }\n    else {\n        _utils_misc__WEBPACK_IMPORTED_MODULE_1__.swapElements($(\"#menu .icon-button.account\"), $(\"#menu .icon-button.login\"), 250);\n    }\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/elements/account-button.ts?");

/***/ }),

/***/ "./src/scripts/elements/commandline-lists.ts":
/*!***************************************************!*\
  !*** ./src/scripts/elements/commandline-lists.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"current\": () => (/* binding */ current),\n/* harmony export */   \"commandsKeymapLayouts\": () => (/* binding */ commandsKeymapLayouts),\n/* harmony export */   \"updateTagCommands\": () => (/* binding */ updateTagCommands),\n/* harmony export */   \"updatePresetCommands\": () => (/* binding */ updatePresetCommands),\n/* harmony export */   \"commandsEnableAds\": () => (/* binding */ commandsEnableAds),\n/* harmony export */   \"customThemeCommands\": () => (/* binding */ customThemeCommands),\n/* harmony export */   \"customThemeListCommands\": () => (/* binding */ customThemeListCommands),\n/* harmony export */   \"updateCustomThemeListCommands\": () => (/* binding */ updateCustomThemeListCommands),\n/* harmony export */   \"themeCommands\": () => (/* binding */ themeCommands),\n/* harmony export */   \"commandsChallenges\": () => (/* binding */ commandsChallenges),\n/* harmony export */   \"updateThemeCommands\": () => (/* binding */ updateThemeCommands),\n/* harmony export */   \"defaultCommands\": () => (/* binding */ defaultCommands),\n/* harmony export */   \"setCurrent\": () => (/* binding */ setCurrent),\n/* harmony export */   \"pushCurrent\": () => (/* binding */ pushCurrent),\n/* harmony export */   \"getList\": () => (/* binding */ getList)\n/* harmony export */ });\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../db */ \"./src/scripts/db.ts\");\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _notifications__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./notifications */ \"./src/scripts/elements/notifications.ts\");\n/* harmony import */ var _controllers_sound_controller__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../controllers/sound-controller */ \"./src/scripts/controllers/sound-controller.ts\");\n/* harmony import */ var _controllers_theme_controller__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../controllers/theme-controller */ \"./src/scripts/controllers/theme-controller.ts\");\n/* harmony import */ var _popups_custom_text_popup__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../popups/custom-text-popup */ \"./src/scripts/popups/custom-text-popup.ts\");\n/* harmony import */ var _test_manual_restart_tracker__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../test/manual-restart-tracker */ \"./src/scripts/test/manual-restart-tracker.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _test_practise_words__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../test/practise-words */ \"./src/scripts/test/practise-words.ts\");\n/* harmony import */ var _test_test_ui__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../test/test-ui */ \"./src/scripts/test/test-ui.ts\");\n/* harmony import */ var _test_test_logic__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../test/test-logic */ \"./src/scripts/test/test-logic.ts\");\n/* harmony import */ var _test_funbox__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../test/funbox */ \"./src/scripts/test/funbox.ts\");\n/* harmony import */ var _controllers_tag_controller__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../controllers/tag-controller */ \"./src/scripts/controllers/tag-controller.ts\");\n/* harmony import */ var _controllers_preset_controller__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../controllers/preset-controller */ \"./src/scripts/controllers/preset-controller.ts\");\n/* harmony import */ var _test_custom_text__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../test/custom-text */ \"./src/scripts/test/custom-text.ts\");\n/* harmony import */ var _pages_settings__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../pages/settings */ \"./src/scripts/pages/settings.ts\");\n/* harmony import */ var _controllers_challenge_controller__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../controllers/challenge-controller */ \"./src/scripts/controllers/challenge-controller.ts\");\n/* harmony import */ var _test_pace_caret__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../test/pace-caret */ \"./src/scripts/test/pace-caret.ts\");\n/* harmony import */ var _test_test_input__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../test/test-input */ \"./src/scripts/test/test-input.ts\");\n/* harmony import */ var _elements_modes_notice__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../elements/modes-notice */ \"./src/scripts/elements/modes-notice.ts\");\n/* harmony import */ var _observables_config_event__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../observables/config-event */ \"./src/scripts/observables/config-event.ts\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../firebase */ \"./src/scripts/firebase.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlet current = [];\nfunction canBailOut() {\n    return ((_config__WEBPACK_IMPORTED_MODULE_7__[\"default\"].mode === \"custom\" &&\n        _test_custom_text__WEBPACK_IMPORTED_MODULE_14__.isWordRandom &&\n        (_test_custom_text__WEBPACK_IMPORTED_MODULE_14__.word >= 5000 || _test_custom_text__WEBPACK_IMPORTED_MODULE_14__.word == 0)) ||\n        (_config__WEBPACK_IMPORTED_MODULE_7__[\"default\"].mode === \"custom\" &&\n            !_test_custom_text__WEBPACK_IMPORTED_MODULE_14__.isWordRandom &&\n            !_test_custom_text__WEBPACK_IMPORTED_MODULE_14__.isTimeRandom &&\n            _test_custom_text__WEBPACK_IMPORTED_MODULE_14__.text.length >= 5000) ||\n        (_config__WEBPACK_IMPORTED_MODULE_7__[\"default\"].mode === \"custom\" &&\n            _test_custom_text__WEBPACK_IMPORTED_MODULE_14__.isTimeRandom &&\n            (_test_custom_text__WEBPACK_IMPORTED_MODULE_14__.time >= 3600 || _test_custom_text__WEBPACK_IMPORTED_MODULE_14__.time == 0)) ||\n        (_config__WEBPACK_IMPORTED_MODULE_7__[\"default\"].mode === \"words\" && _config__WEBPACK_IMPORTED_MODULE_7__[\"default\"].words >= 5000) ||\n        _config__WEBPACK_IMPORTED_MODULE_7__[\"default\"].words === 0 ||\n        (_config__WEBPACK_IMPORTED_MODULE_7__[\"default\"].mode === \"time\" && (_config__WEBPACK_IMPORTED_MODULE_7__[\"default\"].time >= 3600 || _config__WEBPACK_IMPORTED_MODULE_7__[\"default\"].time === 0)) ||\n        _config__WEBPACK_IMPORTED_MODULE_7__[\"default\"].mode == \"zen\");\n}\nconst commandsLayouts = {\n    title: \"Layout emulator...\",\n    configKey: \"layout\",\n    list: [\n        {\n            id: \"couldnotload\",\n            display: \"Could not load the layouts list :(\",\n        },\n    ],\n};\n_utils_misc__WEBPACK_IMPORTED_MODULE_1__.getLayoutsList().then((layouts) => {\n    commandsLayouts.list = [];\n    commandsLayouts.list.push({\n        id: \"changeLayoutDefault\",\n        display: \"off\",\n        configValue: \"default\",\n        exec: () => {\n            _config__WEBPACK_IMPORTED_MODULE_7__.setLayout(\"default\");\n            _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n        },\n    });\n    Object.keys(layouts).forEach((layout) => {\n        commandsLayouts.list.push({\n            id: \"changeLayout\" + _utils_misc__WEBPACK_IMPORTED_MODULE_1__.capitalizeFirstLetterOfEachWord(layout),\n            display: layout === \"default\" ? \"off\" : layout.replace(/_/g, \" \"),\n            configValue: layout,\n            exec: () => {\n                // UpdateConfig.setSavedLayout(layout);\n                _config__WEBPACK_IMPORTED_MODULE_7__.setLayout(layout);\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        });\n    });\n});\nconst commandsKeymapLayouts = {\n    title: \"Change keymap layout...\",\n    configKey: \"keymapLayout\",\n    list: [\n        {\n            id: \"couldnotload\",\n            display: \"Could not load the layouts list :(\",\n        },\n    ],\n};\n_utils_misc__WEBPACK_IMPORTED_MODULE_1__.getLayoutsList().then((layouts) => {\n    commandsKeymapLayouts.list = [];\n    commandsKeymapLayouts.list.push({\n        id: \"changeKeymapLayoutOverrideSync\",\n        display: \"emulator sync\",\n        configValue: \"overrideSync\",\n        exec: () => {\n            _config__WEBPACK_IMPORTED_MODULE_7__.setKeymapLayout(\"overrideSync\");\n            _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n        },\n    });\n    Object.keys(layouts).forEach((layout) => {\n        if (layout.toString() != \"default\") {\n            commandsKeymapLayouts.list.push({\n                id: \"changeKeymapLayout\" + _utils_misc__WEBPACK_IMPORTED_MODULE_1__.capitalizeFirstLetterOfEachWord(layout),\n                display: layout.replace(/_/g, \" \"),\n                configValue: layout,\n                exec: () => {\n                    _config__WEBPACK_IMPORTED_MODULE_7__.setKeymapLayout(layout);\n                    _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n                },\n            });\n        }\n    });\n});\nconst commandsLanguages = {\n    title: \"Language...\",\n    configKey: \"language\",\n    list: [\n        {\n            id: \"couldnotload\",\n            display: \"Could not load the languages list :(\",\n        },\n    ],\n};\ncommandsLanguages.list = [];\n_utils_misc__WEBPACK_IMPORTED_MODULE_1__.getLanguageList().then((languages) => {\n    languages.forEach((language) => {\n        commandsLanguages.list.push({\n            id: \"changeLanguage\" + _utils_misc__WEBPACK_IMPORTED_MODULE_1__.capitalizeFirstLetterOfEachWord(language),\n            display: language.replace(/_/g, \" \"),\n            configValue: language,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setLanguage(language);\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        });\n    });\n});\nconst commandsFunbox = {\n    title: \"Funbox...\",\n    configKey: \"funbox\",\n    list: [\n        {\n            id: \"changeFunboxNone\",\n            display: \"none\",\n            configValue: \"none\",\n            alias: \"off\",\n            exec: () => {\n                if (_test_funbox__WEBPACK_IMPORTED_MODULE_11__.setFunbox(\"none\", null)) {\n                    _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n                }\n            },\n        },\n    ],\n};\n_utils_misc__WEBPACK_IMPORTED_MODULE_1__.getFunboxList().then((funboxes) => {\n    funboxes.forEach((funbox) => {\n        commandsFunbox.list.push({\n            id: \"changeFunbox\" + funbox.name,\n            display: funbox.name.replace(/_/g, \" \"),\n            configValue: funbox.name,\n            exec: () => {\n                if (_test_funbox__WEBPACK_IMPORTED_MODULE_11__.setFunbox(funbox.name, funbox.type)) {\n                    _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n                }\n            },\n        });\n    });\n});\nconst commandsFonts = {\n    title: \"Font family...\",\n    configKey: \"fontFamily\",\n    list: [],\n};\n_utils_misc__WEBPACK_IMPORTED_MODULE_1__.getFontsList().then((fonts) => {\n    fonts.forEach((font) => {\n        commandsFonts.list.push({\n            id: \"changeFont\" + font.name.replace(/ /g, \"_\"),\n            display: font.display !== undefined ? font.display : font.name,\n            configValue: font.name,\n            hover: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.previewFontFamily(font.name);\n            },\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setFontFamily(font.name.replace(/ /g, \"_\"));\n            },\n        });\n    });\n    commandsFonts.list.push({\n        id: \"setFontFamilyCustom\",\n        display: \"custom...\",\n        input: true,\n        hover: () => {\n            _config__WEBPACK_IMPORTED_MODULE_7__.previewFontFamily(_config__WEBPACK_IMPORTED_MODULE_7__[\"default\"].fontFamily);\n        },\n        exec: (name) => {\n            if (!name)\n                return;\n            _config__WEBPACK_IMPORTED_MODULE_7__.setFontFamily(name.replace(/\\s/g, \"_\"));\n            // Settings.groups.fontFamily.updateInput();\n        },\n    });\n});\nconst commandsTags = {\n    title: \"Change tags...\",\n    list: [],\n};\nfunction updateTagCommands() {\n    var _a, _b, _c, _d;\n    if ((_c = (_b = (_a = _db__WEBPACK_IMPORTED_MODULE_0__.getSnapshot()) === null || _a === void 0 ? void 0 : _a.tags) === null || _b === void 0 ? void 0 : _b.length) !== null && _c !== void 0 ? _c : 0 > 0) {\n        commandsTags.list = [];\n        commandsTags.list.push({\n            id: \"clearTags\",\n            display: `Clear tags`,\n            icon: \"fa-times\",\n            exec: () => {\n                var _a;\n                const snapshot = _db__WEBPACK_IMPORTED_MODULE_0__.getSnapshot();\n                snapshot.tags = (_a = snapshot.tags) === null || _a === void 0 ? void 0 : _a.map((tag) => {\n                    tag.active = false;\n                    return tag;\n                });\n                _db__WEBPACK_IMPORTED_MODULE_0__.setSnapshot(snapshot);\n                _elements_modes_notice__WEBPACK_IMPORTED_MODULE_19__.update();\n                _controllers_tag_controller__WEBPACK_IMPORTED_MODULE_12__.saveActiveToLocalStorage();\n            },\n        });\n        (_d = _db__WEBPACK_IMPORTED_MODULE_0__.getSnapshot().tags) === null || _d === void 0 ? void 0 : _d.forEach((tag) => {\n            let dis = tag.name;\n            if (tag.active === true) {\n                dis = '<i class=\"fas fa-fw fa-check\"></i>' + dis;\n            }\n            else {\n                dis = '<i class=\"fas fa-fw\"></i>' + dis;\n            }\n            commandsTags.list.push({\n                id: \"toggleTag\" + tag._id,\n                noIcon: true,\n                display: dis,\n                sticky: true,\n                exec: () => {\n                    _controllers_tag_controller__WEBPACK_IMPORTED_MODULE_12__.toggle(tag._id);\n                    _elements_modes_notice__WEBPACK_IMPORTED_MODULE_19__.update();\n                    if (_config__WEBPACK_IMPORTED_MODULE_7__[\"default\"].paceCaret === \"average\") {\n                        _test_pace_caret__WEBPACK_IMPORTED_MODULE_17__.init();\n                        _elements_modes_notice__WEBPACK_IMPORTED_MODULE_19__.update();\n                    }\n                    let txt = tag.name;\n                    if (tag.active === true) {\n                        txt = '<i class=\"fas fa-fw fa-check\"></i>' + txt;\n                    }\n                    else {\n                        txt = '<i class=\"fas fa-fw\"></i>' + txt;\n                    }\n                    if ($(\"#commandLine\").hasClass(\"allCommands\")) {\n                        $(`#commandLine .suggestions .entry[command='toggleTag${tag._id}']`).html(`<div class=\"icon\"><i class=\"fas fa-fw fa-tag\"></i></div><div>Tags  > ` +\n                            txt);\n                    }\n                    else {\n                        $(`#commandLine .suggestions .entry[command='toggleTag${tag._id}']`).html(txt);\n                    }\n                },\n            });\n        });\n        // defaultCommands.list[4].visible = true;\n    }\n}\nconst commandsPresets = {\n    title: \"Presets...\",\n    list: [],\n};\nfunction updatePresetCommands() {\n    const snapshot = _db__WEBPACK_IMPORTED_MODULE_0__.getSnapshot();\n    if (!snapshot || !snapshot.presets || snapshot.presets.length === 0)\n        return;\n    commandsPresets.list = [];\n    snapshot.presets.forEach((preset) => {\n        const dis = preset.name;\n        commandsPresets.list.push({\n            id: \"applyPreset\" + preset._id,\n            display: dis,\n            exec: () => {\n                _pages_settings__WEBPACK_IMPORTED_MODULE_15__.setEventDisabled(true);\n                _controllers_preset_controller__WEBPACK_IMPORTED_MODULE_13__.apply(preset._id);\n                _pages_settings__WEBPACK_IMPORTED_MODULE_15__.setEventDisabled(false);\n                _pages_settings__WEBPACK_IMPORTED_MODULE_15__.update();\n                _elements_modes_notice__WEBPACK_IMPORTED_MODULE_19__.update();\n            },\n        });\n    });\n}\nconst commandsRepeatQuotes = {\n    title: \"Repeat quotes...\",\n    configKey: \"repeatQuotes\",\n    list: [\n        {\n            id: \"setRepeatQuotesOff\",\n            display: \"off\",\n            configValue: \"off\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setRepeatQuotes(\"off\");\n            },\n        },\n        {\n            id: \"setRepeatQuotesTyping\",\n            display: \"typing\",\n            configValue: \"typing\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setRepeatQuotes(\"typing\");\n            },\n        },\n    ],\n};\nconst commandsLiveWpm = {\n    title: \"Live WPM...\",\n    configKey: \"showLiveWpm\",\n    list: [\n        {\n            id: \"setLiveWpmOff\",\n            display: \"off\",\n            configValue: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setShowLiveWpm(false);\n            },\n        },\n        {\n            id: \"setLiveWpmOn\",\n            display: \"on\",\n            configValue: true,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setShowLiveWpm(true);\n            },\n        },\n    ],\n};\nconst commandsShowAvg = {\n    title: \"Show average...\",\n    configKey: \"showAvg\",\n    list: [\n        {\n            id: \"setAvgOff\",\n            display: \"off\",\n            configValue: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setShowAvg(false);\n            },\n        },\n        {\n            id: \"setAvgOn\",\n            display: \"on\",\n            configValue: true,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setShowAvg(true);\n            },\n        },\n    ],\n};\nconst commandsLiveAcc = {\n    title: \"Live accuracy...\",\n    configKey: \"showLiveAcc\",\n    list: [\n        {\n            id: \"setLiveAccOff\",\n            display: \"off\",\n            configValue: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setShowLiveAcc(false);\n            },\n        },\n        {\n            id: \"setLiveAccOn\",\n            display: \"on\",\n            configValue: true,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setShowLiveAcc(true);\n            },\n        },\n    ],\n};\nconst commandsLiveBurst = {\n    title: \"Live burst...\",\n    configKey: \"showLiveBurst\",\n    list: [\n        {\n            id: \"setLiveBurstOff\",\n            display: \"off\",\n            configValue: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setShowLiveBurst(false);\n            },\n        },\n        {\n            id: \"setLiveBurstOn\",\n            display: \"on\",\n            configValue: true,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setShowLiveBurst(true);\n            },\n        },\n    ],\n};\nconst commandsShowTimer = {\n    title: \"Timer/progress...\",\n    configKey: \"showTimerProgress\",\n    list: [\n        {\n            id: \"setTimerProgressOff\",\n            display: \"off\",\n            configValue: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setShowTimerProgress(false);\n            },\n        },\n        {\n            id: \"setTimerProgressOn\",\n            display: \"on\",\n            configValue: true,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setShowTimerProgress(true);\n            },\n        },\n    ],\n};\nconst commandsKeyTips = {\n    title: \"Key tips...\",\n    configKey: \"showKeyTips\",\n    list: [\n        {\n            id: \"setKeyTipsOff\",\n            display: \"off\",\n            configValue: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setKeyTips(false);\n            },\n        },\n        {\n            id: \"setKeyTipsOn\",\n            display: \"on\",\n            configValue: true,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setKeyTips(true);\n            },\n        },\n    ],\n};\nconst commandsFreedomMode = {\n    title: \"Freedom mode...\",\n    configKey: \"freedomMode\",\n    list: [\n        {\n            id: \"setfreedomModeOff\",\n            display: \"off\",\n            configValue: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setFreedomMode(false);\n            },\n        },\n        {\n            id: \"setfreedomModeOn\",\n            display: \"on\",\n            configValue: true,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setFreedomMode(true);\n            },\n        },\n    ],\n};\nconst commandsStrictSpace = {\n    title: \"Strict space...\",\n    configKey: \"strictSpace\",\n    list: [\n        {\n            id: \"setStrictSpaceOff\",\n            display: \"off\",\n            configValue: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setStrictSpace(false);\n            },\n        },\n        {\n            id: \"setStrictSpaceOn\",\n            display: \"on\",\n            configValue: true,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setStrictSpace(true);\n            },\n        },\n    ],\n};\nconst commandsBlindMode = {\n    title: \"Blind mode...\",\n    configKey: \"blindMode\",\n    list: [\n        {\n            id: \"setBlindModeOff\",\n            display: \"off\",\n            configValue: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setBlindMode(false);\n            },\n        },\n        {\n            id: \"setBlindModeOn\",\n            display: \"on\",\n            configValue: true,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setBlindMode(true);\n            },\n        },\n    ],\n};\nconst commandsShowWordsHistory = {\n    title: \"Always show words history...\",\n    configKey: \"alwaysShowWordsHistory\",\n    list: [\n        {\n            id: \"setAlwaysShowWordsHistoryOff\",\n            display: \"off\",\n            configValue: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setAlwaysShowWordsHistory(false);\n            },\n        },\n        {\n            id: \"setAlwaysShowWordsHistoryOn\",\n            display: \"on\",\n            configValue: true,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setAlwaysShowWordsHistory(true);\n            },\n        },\n    ],\n};\nconst commandsIndicateTypos = {\n    title: \"Indicate typos...\",\n    configKey: \"indicateTypos\",\n    list: [\n        {\n            id: \"setIndicateTyposOff\",\n            display: \"off\",\n            configValue: \"off\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setIndicateTypos(\"off\");\n            },\n        },\n        {\n            id: \"setIndicateTyposBelow\",\n            display: \"below\",\n            configValue: \"below\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setIndicateTypos(\"below\");\n            },\n        },\n        {\n            id: \"setIndicateTyposReplace\",\n            display: \"replace\",\n            configValue: \"replace\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setIndicateTypos(\"replace\");\n            },\n        },\n    ],\n};\nconst commandsHideExtraLetters = {\n    title: \"Hide extra letters...\",\n    configKey: \"hideExtraLetters\",\n    list: [\n        {\n            id: \"setHideExtraLettersOff\",\n            display: \"off\",\n            configValue: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setHideExtraLetters(false);\n            },\n        },\n        {\n            id: \"setHideExtraLettersOn\",\n            display: \"on\",\n            configValue: true,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setHideExtraLetters(true);\n            },\n        },\n    ],\n};\nconst commandsQuickEnd = {\n    title: \"Quick end...\",\n    configKey: \"quickEnd\",\n    list: [\n        {\n            id: \"setQuickEndOff\",\n            display: \"off\",\n            configValue: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setQuickEnd(false);\n            },\n        },\n        {\n            id: \"setQuickEndOn\",\n            display: \"on\",\n            configValue: true,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setQuickEnd(true);\n            },\n        },\n    ],\n};\nconst commandsOppositeShiftMode = {\n    title: \"Change opposite shift mode...\",\n    configKey: \"oppositeShiftMode\",\n    list: [\n        {\n            id: \"setOppositeShiftModeOff\",\n            display: \"off\",\n            configValue: \"off\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setOppositeShiftMode(\"off\");\n                _elements_modes_notice__WEBPACK_IMPORTED_MODULE_19__.update();\n            },\n        },\n        {\n            id: \"setOppositeShiftModeOn\",\n            display: \"on\",\n            configValue: \"on\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setOppositeShiftMode(\"on\");\n                _elements_modes_notice__WEBPACK_IMPORTED_MODULE_19__.update();\n            },\n        },\n        {\n            id: \"setOppositeShiftModeKeymap\",\n            display: \"keymap\",\n            configValue: \"keymap\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setOppositeShiftMode(\"keymap\");\n                _elements_modes_notice__WEBPACK_IMPORTED_MODULE_19__.update();\n            },\n        },\n    ],\n};\nconst commandsSoundOnError = {\n    title: \"Sound on error...\",\n    configKey: \"playSoundOnError\",\n    list: [\n        {\n            id: \"setPlaySoundOnErrorOff\",\n            display: \"off\",\n            configValue: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setPlaySoundOnError(false);\n            },\n        },\n        {\n            id: \"setPlaySoundOnErrorOn\",\n            display: \"on\",\n            configValue: true,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setPlaySoundOnError(true);\n                _controllers_sound_controller__WEBPACK_IMPORTED_MODULE_3__.playError();\n            },\n        },\n    ],\n};\nconst commandsSoundVolume = {\n    title: \"Sound volume...\",\n    configKey: \"soundVolume\",\n    list: [\n        {\n            id: \"setSoundVolume0.1\",\n            display: \"quiet\",\n            configValue: \"0.1\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setSoundVolume(\"0.1\");\n                _controllers_sound_controller__WEBPACK_IMPORTED_MODULE_3__.playClick();\n            },\n        },\n        {\n            id: \"setSoundVolume0.5\",\n            display: \"medium\",\n            configValue: \"0.5\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setSoundVolume(\"0.5\");\n                _controllers_sound_controller__WEBPACK_IMPORTED_MODULE_3__.playClick();\n            },\n        },\n        {\n            id: \"setSoundVolume1.0\",\n            display: \"loud\",\n            configValue: \"1.0\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setSoundVolume(\"1.0\");\n                _controllers_sound_controller__WEBPACK_IMPORTED_MODULE_3__.playClick();\n            },\n        },\n    ],\n};\nconst commandsFlipTestColors = {\n    title: \"Flip test colors...\",\n    configKey: \"flipTestColors\",\n    list: [\n        {\n            id: \"setFlipTestColorsOff\",\n            display: \"off\",\n            configValue: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setFlipTestColors(false);\n            },\n        },\n        {\n            id: \"setFlipTestColorsOn\",\n            display: \"on\",\n            configValue: true,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setFlipTestColors(true);\n            },\n        },\n    ],\n};\nconst commandsSmoothLineScroll = {\n    title: \"Smooth line scroll...\",\n    configKey: \"smoothLineScroll\",\n    list: [\n        {\n            id: \"setSmoothLineScrollOff\",\n            display: \"off\",\n            configValue: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setSmoothLineScroll(false);\n            },\n        },\n        {\n            id: \"setSmoothLineScrollOn\",\n            display: \"on\",\n            configValue: true,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setSmoothLineScroll(true);\n            },\n        },\n    ],\n};\nconst commandsAlwaysShowDecimal = {\n    title: \"Always show decimal places...\",\n    configKey: \"alwaysShowDecimalPlaces\",\n    list: [\n        {\n            id: \"setAlwaysShowDecimalPlacesOff\",\n            display: \"off\",\n            configValue: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setAlwaysShowDecimalPlaces(false);\n            },\n        },\n        {\n            id: \"setAlwaysShowDecimalPlacesOn\",\n            display: \"on\",\n            configValue: true,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setAlwaysShowDecimalPlaces(true);\n            },\n        },\n    ],\n};\nconst commandsAlwaysShowCPM = {\n    title: \"Always show CPM...\",\n    configKey: \"alwaysShowCPM\",\n    list: [\n        {\n            id: \"setAlwaysShowCPMOff\",\n            display: \"off\",\n            configValue: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setAlwaysShowCPM(false);\n            },\n        },\n        {\n            id: \"setAlwaysShowCPMOn\",\n            display: \"on\",\n            configValue: true,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setAlwaysShowCPM(true);\n            },\n        },\n    ],\n};\nconst commandsStartGraphsAtZero = {\n    title: \"Start graphs at zero...\",\n    configKey: \"startGraphsAtZero\",\n    list: [\n        {\n            id: \"setStartGraphsAtZeroOff\",\n            display: \"off\",\n            configValue: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setStartGraphsAtZero(false);\n            },\n        },\n        {\n            id: \"setStartGraphsAtZeroOn\",\n            display: \"on\",\n            configValue: true,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setStartGraphsAtZero(true);\n            },\n        },\n    ],\n};\nconst commandsLazyMode = {\n    title: \"Lazy mode...\",\n    configKey: \"lazyMode\",\n    list: [\n        {\n            id: \"setLazyModeOff\",\n            display: \"off\",\n            configValue: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setLazyMode(false);\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n        {\n            id: \"setLazyModeOn\",\n            display: \"on\",\n            configValue: true,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setLazyMode(true);\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n    ],\n};\nconst commandsSwapEscAndTab = {\n    title: \"Swap esc and tab...\",\n    configKey: \"swapEscAndTab\",\n    list: [\n        {\n            id: \"setSwapEscAndTabOff\",\n            display: \"off\",\n            configValue: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setSwapEscAndTab(false);\n            },\n        },\n        {\n            id: \"setSwapEscAndTabOn\",\n            display: \"on\",\n            configValue: true,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setSwapEscAndTab(true);\n            },\n        },\n    ],\n};\nconst commandsShowAllLines = {\n    title: \"Show all lines...\",\n    configKey: \"showAllLines\",\n    list: [\n        {\n            id: \"setShowAllLinesOff\",\n            display: \"off\",\n            configValue: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setShowAllLines(false);\n            },\n        },\n        {\n            id: \"setShowAllLinesOn\",\n            display: \"on\",\n            configValue: true,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setShowAllLines(true);\n            },\n        },\n    ],\n};\nconst commandsColorfulMode = {\n    title: \"Colorful mode...\",\n    configKey: \"colorfulMode\",\n    list: [\n        {\n            id: \"setColorfulModeOff\",\n            display: \"off\",\n            configValue: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setColorfulMode(false);\n            },\n        },\n        {\n            id: \"setColorfulModeOn\",\n            display: \"on\",\n            configValue: true,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setColorfulMode(true);\n            },\n        },\n    ],\n};\nconst commandsOutOfFocusWarning = {\n    title: \"Colorful mode...\",\n    configKey: \"showOutOfFocusWarning\",\n    list: [\n        {\n            id: \"setShowOutOfFocusWarningOff\",\n            display: \"off\",\n            configValue: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setShowOutOfFocusWarning(false);\n            },\n        },\n        {\n            id: \"setShowOutOfFocusWarningOn\",\n            display: \"on\",\n            configValue: true,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setShowOutOfFocusWarning(true);\n            },\n        },\n    ],\n};\nconst commandsKeymapMode = {\n    title: \"Keymap mode...\",\n    configKey: \"keymapMode\",\n    list: [\n        {\n            id: \"setKeymapModeOff\",\n            display: \"off\",\n            configValue: \"off\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setKeymapMode(\"off\");\n            },\n        },\n        {\n            id: \"setKeymapModeStatic\",\n            display: \"static\",\n            configValue: \"static\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setKeymapMode(\"static\");\n            },\n        },\n        {\n            id: \"setKeymapModeNext\",\n            display: \"next\",\n            configValue: \"next\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setKeymapMode(\"next\");\n            },\n        },\n        {\n            id: \"setKeymapModeReact\",\n            display: \"react\",\n            alias: \"flash\",\n            configValue: \"react\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setKeymapMode(\"react\");\n            },\n        },\n    ],\n};\nconst commandsSoundOnClick = {\n    title: \"Sound on click...\",\n    configKey: \"playSoundOnClick\",\n    list: [\n        {\n            id: \"setSoundOnClickOff\",\n            display: \"off\",\n            configValue: \"off\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setPlaySoundOnClick(\"off\");\n            },\n        },\n        {\n            id: \"setSoundOnClick1\",\n            display: \"click\",\n            configValue: \"1\",\n            hover: () => {\n                _controllers_sound_controller__WEBPACK_IMPORTED_MODULE_3__.previewClick(\"1\");\n            },\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setPlaySoundOnClick(\"1\");\n                _controllers_sound_controller__WEBPACK_IMPORTED_MODULE_3__.playClick();\n            },\n        },\n        {\n            id: \"setSoundOnClick2\",\n            display: \"beep\",\n            configValue: \"2\",\n            hover: () => {\n                _controllers_sound_controller__WEBPACK_IMPORTED_MODULE_3__.previewClick(\"2\");\n            },\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setPlaySoundOnClick(\"2\");\n                _controllers_sound_controller__WEBPACK_IMPORTED_MODULE_3__.playClick();\n            },\n        },\n        {\n            id: \"setSoundOnClick3\",\n            display: \"pop\",\n            configValue: \"3\",\n            hover: () => {\n                _controllers_sound_controller__WEBPACK_IMPORTED_MODULE_3__.previewClick(\"3\");\n            },\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setPlaySoundOnClick(\"3\");\n                _controllers_sound_controller__WEBPACK_IMPORTED_MODULE_3__.playClick();\n            },\n        },\n        {\n            id: \"setSoundOnClick4\",\n            display: \"nk creams\",\n            configValue: \"4\",\n            hover: () => {\n                _controllers_sound_controller__WEBPACK_IMPORTED_MODULE_3__.previewClick(\"4\");\n            },\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setPlaySoundOnClick(\"4\");\n                _controllers_sound_controller__WEBPACK_IMPORTED_MODULE_3__.playClick();\n            },\n        },\n        {\n            id: \"setSoundOnClick5\",\n            display: \"typewriter\",\n            configValue: \"5\",\n            hover: () => {\n                _controllers_sound_controller__WEBPACK_IMPORTED_MODULE_3__.previewClick(\"5\");\n            },\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setPlaySoundOnClick(\"5\");\n                _controllers_sound_controller__WEBPACK_IMPORTED_MODULE_3__.playClick();\n            },\n        },\n        {\n            id: \"setSoundOnClick6\",\n            display: \"osu\",\n            configValue: \"6\",\n            hover: () => {\n                _controllers_sound_controller__WEBPACK_IMPORTED_MODULE_3__.previewClick(\"6\");\n            },\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setPlaySoundOnClick(\"6\");\n                _controllers_sound_controller__WEBPACK_IMPORTED_MODULE_3__.playClick();\n            },\n        },\n        {\n            id: \"setSoundOnClick7\",\n            display: \"hitmarker\",\n            configValue: \"7\",\n            hover: () => {\n                _controllers_sound_controller__WEBPACK_IMPORTED_MODULE_3__.previewClick(\"7\");\n            },\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setPlaySoundOnClick(\"7\");\n                _controllers_sound_controller__WEBPACK_IMPORTED_MODULE_3__.playClick();\n            },\n        },\n    ],\n};\nconst commandsRandomTheme = {\n    title: \"Random theme...\",\n    configKey: \"randomTheme\",\n    list: [\n        {\n            id: \"setRandomOff\",\n            display: \"off\",\n            configValue: \"off\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setRandomTheme(\"off\");\n            },\n        },\n        {\n            id: \"setRandomOn\",\n            display: \"on\",\n            configValue: \"on\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setRandomTheme(\"on\");\n            },\n        },\n        {\n            id: \"setRandomFav\",\n            display: \"fav\",\n            configValue: \"fav\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setRandomTheme(\"fav\");\n            },\n        },\n        {\n            id: \"setRandomLight\",\n            display: \"light\",\n            configValue: \"light\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setRandomTheme(\"light\");\n            },\n        },\n        {\n            id: \"setRandomDark\",\n            display: \"dark\",\n            configValue: \"dark\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setRandomTheme(\"dark\");\n            },\n        },\n        {\n            id: \"setRandomCustom\",\n            display: \"custom\",\n            configValue: \"custom\",\n            exec: () => {\n                if (_firebase__WEBPACK_IMPORTED_MODULE_21__.Auth.currentUser === null) {\n                    _notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Multiple custom themes are available to logged in users only\", 0);\n                    return;\n                }\n                _config__WEBPACK_IMPORTED_MODULE_7__.setRandomTheme(\"custom\");\n            },\n        },\n    ],\n};\nconst commandsDifficulty = {\n    title: \"Difficulty...\",\n    configKey: \"difficulty\",\n    list: [\n        {\n            id: \"setDifficultyNormal\",\n            display: \"normal\",\n            configValue: \"normal\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setDifficulty(\"normal\");\n            },\n        },\n        {\n            id: \"setDifficultyExpert\",\n            display: \"expert\",\n            configValue: \"expert\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setDifficulty(\"expert\");\n            },\n        },\n        {\n            id: \"setDifficultyMaster\",\n            display: \"master\",\n            configValue: \"master\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setDifficulty(\"master\");\n            },\n        },\n    ],\n};\nconst commandsEnableAds = {\n    title: \"Set enable ads...\",\n    configKey: \"enableAds\",\n    list: [\n        {\n            id: \"setEnableAdsOff\",\n            display: \"off\",\n            configValue: \"off\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setEnableAds(\"off\");\n            },\n        },\n        {\n            id: \"setEnableAdsOn\",\n            display: \"on\",\n            configValue: \"on\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setEnableAds(\"on\");\n            },\n        },\n        {\n            id: \"setEnableMax\",\n            display: \"sellout\",\n            configValue: \"max\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setEnableAds(\"max\");\n            },\n        },\n    ],\n};\nconst customThemeCommands = {\n    title: \"Custom theme\",\n    configKey: \"customTheme\",\n    list: [\n        {\n            id: \"setCustomThemeOff\",\n            display: \"off\",\n            configValue: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setCustomTheme(false);\n            },\n        },\n        {\n            id: \"setCustomThemeOn\",\n            display: \"on\",\n            configValue: true,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setCustomTheme(true);\n            },\n        },\n    ],\n};\nconst customThemeListCommands = {\n    title: \"Custom themes list...\",\n    // configKey: \"customThemeId\",\n    list: [],\n};\nfunction updateCustomThemeListCommands() {\n    if (_firebase__WEBPACK_IMPORTED_MODULE_21__.Auth.currentUser === null) {\n        return;\n    }\n    customThemeListCommands.list = [];\n    const snapshot = _db__WEBPACK_IMPORTED_MODULE_0__.getSnapshot();\n    if (!snapshot)\n        return;\n    if (_db__WEBPACK_IMPORTED_MODULE_0__.getSnapshot().customThemes.length < 0) {\n        _notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"You need to create a custom theme first\", 0);\n        return;\n    }\n    _db__WEBPACK_IMPORTED_MODULE_0__.getSnapshot().customThemes.forEach((theme) => {\n        customThemeListCommands.list.push({\n            id: \"setCustomThemeId\" + theme._id,\n            display: theme.name,\n            configValue: theme._id,\n            hover: () => {\n                _controllers_theme_controller__WEBPACK_IMPORTED_MODULE_4__.preview(theme._id, true);\n            },\n            exec: () => {\n                // UpdateConfig.setCustomThemeId(theme._id);\n                _config__WEBPACK_IMPORTED_MODULE_7__.setCustomTheme(true);\n                _controllers_theme_controller__WEBPACK_IMPORTED_MODULE_4__.set(theme._id, true);\n            },\n        });\n    });\n    return;\n}\nconst commandsCaretStyle = {\n    title: \"Change caret style...\",\n    configKey: \"caretStyle\",\n    list: [\n        {\n            id: \"setCaretStyleOff\",\n            display: \"off\",\n            configValue: \"off\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setCaretStyle(\"off\");\n            },\n        },\n        {\n            id: \"setCaretStyleDefault\",\n            display: \"line\",\n            configValue: \"default\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setCaretStyle(\"default\");\n            },\n        },\n        {\n            id: \"setCaretStyleBlock\",\n            display: \"block\",\n            configValue: \"block\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setCaretStyle(\"block\");\n            },\n        },\n        {\n            id: \"setCaretStyleOutline\",\n            display: \"outline-block\",\n            configValue: \"outline\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setCaretStyle(\"outline\");\n            },\n        },\n        {\n            id: \"setCaretStyleUnderline\",\n            display: \"underline\",\n            configValue: \"underline\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setCaretStyle(\"underline\");\n            },\n        },\n        {\n            id: \"setCaretStyleCarrot\",\n            display: \"carrot\",\n            configValue: \"carrot\",\n            visible: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setCaretStyle(\"carrot\");\n            },\n        },\n        {\n            id: \"setCaretStyleBanana\",\n            display: \"banana\",\n            configValue: \"banana\",\n            visible: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setCaretStyle(\"banana\");\n            },\n        },\n    ],\n};\nconst commandsPaceCaretStyle = {\n    title: \"Change pace caret style...\",\n    configKey: \"paceCaretStyle\",\n    list: [\n        {\n            id: \"setPaceCaretStyleDefault\",\n            display: \"line\",\n            configValue: \"default\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setPaceCaretStyle(\"default\");\n            },\n        },\n        {\n            id: \"setPaceCaretStyleBlock\",\n            display: \"block\",\n            configValue: \"block\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setPaceCaretStyle(\"block\");\n            },\n        },\n        {\n            id: \"setPaceCaretStyleOutline\",\n            display: \"outline-block\",\n            configValue: \"outline\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setPaceCaretStyle(\"outline\");\n            },\n        },\n        {\n            id: \"setPaceCaretStyleUnderline\",\n            display: \"underline\",\n            configValue: \"underline\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setPaceCaretStyle(\"underline\");\n            },\n        },\n        {\n            id: \"setPaceCaretStyleCarrot\",\n            display: \"carrot\",\n            configValue: \"carrot\",\n            visible: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setPaceCaretStyle(\"carrot\");\n            },\n        },\n        {\n            id: \"setPaceCaretStyleBanana\",\n            display: \"banana\",\n            configValue: \"banana\",\n            visible: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setPaceCaretStyle(\"banana\");\n            },\n        },\n    ],\n};\nconst commandsRepeatedPace = {\n    title: \"Repeated pace...\",\n    configKey: \"repeatedPace\",\n    list: [\n        {\n            id: \"setRepeatedPaceOff\",\n            display: \"off\",\n            configValue: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setRepeatedPace(false);\n            },\n        },\n        {\n            id: \"setRepeatedPaceOn\",\n            display: \"on\",\n            configValue: true,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setRepeatedPace(true);\n            },\n        },\n    ],\n};\nconst commandsPaceCaret = {\n    title: \"Pace caret mode...\",\n    configKey: \"paceCaret\",\n    list: [\n        {\n            id: \"setPaceCaretOff\",\n            display: \"off\",\n            configValue: \"off\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setPaceCaret(\"off\");\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n        {\n            id: \"setPaceCaretPb\",\n            display: \"pb\",\n            configValue: \"pb\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setPaceCaret(\"pb\");\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n        {\n            id: \"setPaceCaretAverage\",\n            display: \"average\",\n            configValue: \"average\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setPaceCaret(\"average\");\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n        {\n            id: \"setPaceCaretCustom\",\n            display: \"custom...\",\n            configValue: \"custom\",\n            input: true,\n            exec: (input) => {\n                if (!input)\n                    return;\n                _config__WEBPACK_IMPORTED_MODULE_7__.setPaceCaretCustomSpeed(parseInt(input));\n                _config__WEBPACK_IMPORTED_MODULE_7__.setPaceCaret(\"custom\");\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n    ],\n};\nconst commandsMinWpm = {\n    title: \"Change min wpm mode...\",\n    configKey: \"minWpm\",\n    list: [\n        {\n            id: \"setMinWpmOff\",\n            display: \"off\",\n            configValue: \"off\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setMinWpm(\"off\");\n            },\n        },\n        {\n            id: \"setMinWpmCustom\",\n            display: \"custom...\",\n            configValue: \"custom\",\n            input: true,\n            exec: (input) => {\n                if (!input)\n                    return;\n                _config__WEBPACK_IMPORTED_MODULE_7__.setMinWpmCustomSpeed(parseInt(input));\n                _config__WEBPACK_IMPORTED_MODULE_7__.setMinWpm(\"custom\");\n            },\n        },\n    ],\n};\nconst commandsMinAcc = {\n    title: \"Change min accuracy mode...\",\n    configKey: \"minAcc\",\n    list: [\n        {\n            id: \"setMinAccOff\",\n            display: \"off\",\n            configValue: \"off\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setMinAcc(\"off\");\n            },\n        },\n        {\n            id: \"setMinAccCustom\",\n            display: \"custom...\",\n            configValue: \"custom\",\n            input: true,\n            exec: (input) => {\n                if (!input)\n                    return;\n                _config__WEBPACK_IMPORTED_MODULE_7__.setMinAccCustom(parseInt(input));\n                _config__WEBPACK_IMPORTED_MODULE_7__.setMinAcc(\"custom\");\n            },\n        },\n    ],\n};\nconst commandsMinBurst = {\n    title: \"Change min burst mode...\",\n    configKey: \"minBurst\",\n    list: [\n        {\n            id: \"setMinBurstOff\",\n            display: \"off\",\n            configValue: \"off\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setMinBurst(\"off\");\n            },\n        },\n        {\n            id: \"setMinBurstFixed\",\n            display: \"fixed...\",\n            configValue: \"fixed\",\n            input: true,\n            exec: (input) => {\n                if (!input)\n                    return;\n                _config__WEBPACK_IMPORTED_MODULE_7__.setMinBurst(\"fixed\");\n                _config__WEBPACK_IMPORTED_MODULE_7__.setMinBurstCustomSpeed(parseInt(input));\n            },\n        },\n        {\n            id: \"setMinBurstFlex\",\n            display: \"flex...\",\n            configValue: \"flex\",\n            input: true,\n            exec: (input) => {\n                if (!input)\n                    return;\n                _config__WEBPACK_IMPORTED_MODULE_7__.setMinBurst(\"flex\");\n                _config__WEBPACK_IMPORTED_MODULE_7__.setMinBurstCustomSpeed(parseInt(input));\n            },\n        },\n    ],\n};\nconst commandsKeymapStyle = {\n    title: \"Keymap style...\",\n    configKey: \"keymapStyle\",\n    list: [\n        {\n            id: \"setKeymapStyleStaggered\",\n            display: \"staggered\",\n            configValue: \"staggered\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setKeymapStyle(\"staggered\");\n            },\n        },\n        {\n            id: \"setKeymapStyleAlice\",\n            display: \"alice\",\n            configValue: \"alice\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setKeymapStyle(\"alice\");\n            },\n        },\n        {\n            id: \"setKeymapStyleMatrix\",\n            display: \"matrix\",\n            configValue: \"matrix\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setKeymapStyle(\"matrix\");\n            },\n        },\n        {\n            id: \"setKeymapStyleSplit\",\n            display: \"split\",\n            configValue: \"split\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setKeymapStyle(\"split\");\n            },\n        },\n        {\n            id: \"setKeymapStyleSplitMatrix\",\n            display: \"split matrix\",\n            configValue: \"split_matrix\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setKeymapStyle(\"split_matrix\");\n            },\n        },\n    ],\n};\nconst commandsKeymapLegendStyle = {\n    title: \"Keymap legend style...\",\n    configKey: \"keymapLegendStyle\",\n    list: [\n        {\n            id: \"setKeymapLegendStyleLowercase\",\n            display: \"lowercase\",\n            configValue: \"lowercase\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setKeymapLegendStyle(\"lowercase\");\n            },\n        },\n        {\n            id: \"setKeymapLegendStyleUppercase\",\n            display: \"uppercase\",\n            configValue: \"uppercase\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setKeymapLegendStyle(\"uppercase\");\n            },\n        },\n        {\n            id: \"setKeymapLegendStyleBlank\",\n            display: \"blank\",\n            configValue: \"blank\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setKeymapLegendStyle(\"blank\");\n            },\n        },\n        {\n            id: \"setKeymapLegendStyleDynamic\",\n            display: \"dynamic\",\n            configValue: \"dynamic\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setKeymapLegendStyle(\"dynamic\");\n            },\n        },\n    ],\n};\nconst commandsBritishEnglish = {\n    title: \"British english...\",\n    configKey: \"britishEnglish\",\n    list: [\n        {\n            id: \"setBritishEnglishOff\",\n            display: \"off\",\n            configValue: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setBritishEnglish(false);\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n        {\n            id: \"setBritishEnglishOn\",\n            display: \"on\",\n            configValue: true,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setBritishEnglish(true);\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n    ],\n};\nconst commandsHighlightMode = {\n    title: \"Highlight mode...\",\n    configKey: \"highlightMode\",\n    list: [\n        {\n            id: \"setHighlightModeOff\",\n            display: \"off\",\n            configValue: \"off\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setHighlightMode(\"off\");\n            },\n        },\n        {\n            id: \"setHighlightModeLetter\",\n            display: \"letter\",\n            configValue: \"letter\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setHighlightMode(\"letter\");\n            },\n        },\n        {\n            id: \"setHighlightModeWord\",\n            display: \"word\",\n            configValue: \"word\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setHighlightMode(\"word\");\n            },\n        },\n    ],\n};\nconst commandsTimerStyle = {\n    title: \"Timer/progress style...\",\n    configKey: \"timerStyle\",\n    list: [\n        {\n            id: \"setTimerStyleBar\",\n            display: \"bar\",\n            configValue: \"bar\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setTimerStyle(\"bar\");\n            },\n        },\n        {\n            id: \"setTimerStyleText\",\n            display: \"text\",\n            configValue: \"text\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setTimerStyle(\"text\");\n            },\n        },\n        {\n            id: \"setTimerStyleMini\",\n            display: \"mini\",\n            configValue: \"mini\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setTimerStyle(\"mini\");\n            },\n        },\n    ],\n};\nconst commandsTimerColor = {\n    title: \"Timer/progress color...\",\n    configKey: \"timerColor\",\n    list: [\n        {\n            id: \"setTimerColorBlack\",\n            display: \"black\",\n            configValue: \"black\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setTimerColor(\"black\");\n            },\n        },\n        {\n            id: \"setTimerColorSub\",\n            display: \"sub\",\n            configValue: \"sub\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setTimerColor(\"sub\");\n            },\n        },\n        {\n            id: \"setTimerColorText\",\n            display: \"text\",\n            configValue: \"text\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setTimerColor(\"text\");\n            },\n        },\n        {\n            id: \"setTimerColorMain\",\n            display: \"main\",\n            configValue: \"main\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setTimerColor(\"main\");\n            },\n        },\n    ],\n};\nconst commandsSingleListCommandLine = {\n    title: \"Single list command line...\",\n    configKey: \"singleListCommandLine\",\n    list: [\n        {\n            id: \"singleListCommandLineManual\",\n            display: \"manual\",\n            configValue: \"manual\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setSingleListCommandLine(\"manual\");\n            },\n        },\n        {\n            id: \"singleListCommandLineOn\",\n            display: \"on\",\n            configValue: \"on\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setSingleListCommandLine(\"on\");\n            },\n        },\n    ],\n};\nconst commandsCapsLockWarning = {\n    title: \"Caps lock warning...\",\n    configKey: \"capsLockWarning\",\n    list: [\n        {\n            id: \"capsLockWarningOn\",\n            display: \"on\",\n            configValue: true,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setCapsLockWarning(true);\n            },\n        },\n        {\n            id: \"capsLockWarningOff\",\n            display: \"off\",\n            configValue: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setCapsLockWarning(false);\n            },\n        },\n    ],\n};\nconst commandsTimerOpacity = {\n    title: \"Timer/progress opacity...\",\n    configKey: \"timerOpacity\",\n    list: [\n        {\n            id: \"setTimerOpacity.25\",\n            display: \".25\",\n            configValue: 0.25,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setTimerOpacity(\"0.25\");\n            },\n        },\n        {\n            id: \"setTimerOpacity.5\",\n            display: \".5\",\n            configValue: 0.5,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setTimerOpacity(\"0.5\");\n            },\n        },\n        {\n            id: \"setTimerOpacity.75\",\n            display: \".75\",\n            configValue: 0.75,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setTimerOpacity(\"0.75\");\n            },\n        },\n        {\n            id: \"setTimerOpacity1\",\n            display: \"1\",\n            configValue: 1,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setTimerOpacity(\"1\");\n            },\n        },\n    ],\n};\nconst commandsWordCount = {\n    title: \"Change word count...\",\n    configKey: \"words\",\n    list: [\n        {\n            id: \"changeWordCount10\",\n            display: \"10\",\n            configValue: 10,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setMode(\"words\");\n                _config__WEBPACK_IMPORTED_MODULE_7__.setWordCount(10);\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n        {\n            id: \"changeWordCount25\",\n            display: \"25\",\n            configValue: 25,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setMode(\"words\");\n                _config__WEBPACK_IMPORTED_MODULE_7__.setWordCount(25);\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n        {\n            id: \"changeWordCount50\",\n            display: \"50\",\n            configValue: 50,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setMode(\"words\");\n                _config__WEBPACK_IMPORTED_MODULE_7__.setWordCount(50);\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n        {\n            id: \"changeWordCount100\",\n            display: \"100\",\n            configValue: 100,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setMode(\"words\");\n                _config__WEBPACK_IMPORTED_MODULE_7__.setWordCount(100);\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n        {\n            id: \"changeWordCount200\",\n            display: \"200\",\n            configValue: 200,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setMode(\"words\");\n                _config__WEBPACK_IMPORTED_MODULE_7__.setWordCount(200);\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n        {\n            id: \"changeWordCountCustom\",\n            display: \"custom...\",\n            input: true,\n            exec: (input) => {\n                if (!input)\n                    return;\n                _config__WEBPACK_IMPORTED_MODULE_7__.setMode(\"words\");\n                _config__WEBPACK_IMPORTED_MODULE_7__.setWordCount(parseInt(input));\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n    ],\n};\nconst commandsQuoteLengthConfig = {\n    title: \"Change quote length...\",\n    configKey: \"quoteLength\",\n    list: [\n        {\n            id: \"changeQuoteLengthAll\",\n            display: \"all\",\n            configValue: [0, 1, 2, 3],\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setMode(\"quote\");\n                _config__WEBPACK_IMPORTED_MODULE_7__.setQuoteLength([0, 1, 2, 3]);\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n        {\n            id: \"changeQuoteLengthShort\",\n            display: \"short\",\n            configValue: 0,\n            configValueMode: \"include\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setMode(\"quote\");\n                _config__WEBPACK_IMPORTED_MODULE_7__.setQuoteLength(0);\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n        {\n            id: \"changeQuoteLengthMedium\",\n            display: \"medium\",\n            configValue: 1,\n            configValueMode: \"include\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setMode(\"quote\");\n                _config__WEBPACK_IMPORTED_MODULE_7__.setQuoteLength(1);\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n        {\n            id: \"changeQuoteLengthLong\",\n            display: \"long\",\n            configValue: 2,\n            configValueMode: \"include\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setMode(\"quote\");\n                _config__WEBPACK_IMPORTED_MODULE_7__.setQuoteLength(2);\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n        {\n            id: \"changeQuoteLengthThicc\",\n            display: \"thicc\",\n            configValue: 3,\n            configValueMode: \"include\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setMode(\"quote\");\n                _config__WEBPACK_IMPORTED_MODULE_7__.setQuoteLength(3);\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n    ],\n};\nconst commandsPunctuation = {\n    title: \"Change punctuation...\",\n    configKey: \"punctuation\",\n    list: [\n        {\n            id: \"changePunctuationOn\",\n            display: \"on\",\n            configValue: true,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setPunctuation(true);\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n        {\n            id: \"changePunctuationOff\",\n            display: \"off\",\n            configValue: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setPunctuation(false);\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n    ],\n};\nconst commandsNumbers = {\n    title: \"Numbers...\",\n    configKey: \"numbers\",\n    list: [\n        {\n            id: \"changeNumbersOn\",\n            display: \"on\",\n            configValue: true,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setNumbers(true);\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n        {\n            id: \"changeNumbersOff\",\n            display: \"off\",\n            configValue: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setNumbers(false);\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n    ],\n};\nconst commandsSmoothCaret = {\n    title: \"Smooth caret...\",\n    configKey: \"smoothCaret\",\n    list: [\n        {\n            id: \"changeSmoothCaretOn\",\n            display: \"on\",\n            configValue: true,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setSmoothCaret(true);\n            },\n        },\n        {\n            id: \"changeSmoothCaretOff\",\n            display: \"off\",\n            configValue: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setSmoothCaret(false);\n            },\n        },\n    ],\n};\nconst commandsQuickTab = {\n    title: \"Quick tab...\",\n    configKey: \"quickTab\",\n    list: [\n        {\n            id: \"changeQuickTabOn\",\n            display: \"on\",\n            configValue: true,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setQuickTabMode(true);\n            },\n        },\n        {\n            id: \"changeQuickTabOff\",\n            display: \"off\",\n            configValue: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setQuickTabMode(false);\n            },\n        },\n    ],\n};\nconst commandsMode = {\n    title: \"Change mode...\",\n    configKey: \"mode\",\n    list: [\n        {\n            id: \"changeModeTime\",\n            display: \"time\",\n            configValue: \"time\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setMode(\"time\");\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n        {\n            id: \"changeModeWords\",\n            display: \"words\",\n            configValue: \"words\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setMode(\"words\");\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n        {\n            id: \"changeModeQuote\",\n            display: \"quote\",\n            configValue: \"quote\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setMode(\"quote\");\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n        {\n            id: \"changeModeCustom\",\n            display: \"custom\",\n            configValue: \"custom\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setMode(\"custom\");\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n        {\n            id: \"changeModeZen\",\n            display: \"zen\",\n            configValue: \"zen\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setMode(\"zen\");\n                _test_manual_restart_tracker__WEBPACK_IMPORTED_MODULE_6__.set();\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n    ],\n};\nconst commandsTimeConfig = {\n    title: \"Change time config...\",\n    configKey: \"time\",\n    list: [\n        {\n            id: \"changeTimeConfig15\",\n            display: \"15\",\n            configValue: 15,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setMode(\"time\");\n                _config__WEBPACK_IMPORTED_MODULE_7__.setTimeConfig(15);\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n        {\n            id: \"changeTimeConfig30\",\n            display: \"30\",\n            configValue: 30,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setMode(\"time\");\n                _config__WEBPACK_IMPORTED_MODULE_7__.setTimeConfig(30);\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n        {\n            id: \"changeTimeConfig60\",\n            display: \"60\",\n            configValue: 60,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setMode(\"time\");\n                _config__WEBPACK_IMPORTED_MODULE_7__.setTimeConfig(60);\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n        {\n            id: \"changeTimeConfig120\",\n            display: \"120\",\n            configValue: 120,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setMode(\"time\");\n                _config__WEBPACK_IMPORTED_MODULE_7__.setTimeConfig(120);\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n        {\n            id: \"changeTimeConfigCustom\",\n            display: \"custom...\",\n            input: true,\n            exec: (input) => {\n                if (!input)\n                    return;\n                _config__WEBPACK_IMPORTED_MODULE_7__.setMode(\"time\");\n                _config__WEBPACK_IMPORTED_MODULE_7__.setTimeConfig(parseInt(input));\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n    ],\n};\nconst commandsConfidenceMode = {\n    title: \"Confidence mode...\",\n    configKey: \"confidenceMode\",\n    list: [\n        {\n            id: \"changeConfidenceModeOff\",\n            display: \"off\",\n            configValue: \"off\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setConfidenceMode(\"off\");\n            },\n        },\n        {\n            id: \"changeConfidenceModeOn\",\n            display: \"on\",\n            configValue: \"on\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setConfidenceMode(\"on\");\n            },\n        },\n        {\n            id: \"changeConfidenceModeMax\",\n            display: \"max\",\n            configValue: \"max\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setConfidenceMode(\"max\");\n            },\n        },\n    ],\n};\nconst commandsStopOnError = {\n    title: \"Stop on error...\",\n    configKey: \"stopOnError\",\n    list: [\n        {\n            id: \"changeStopOnErrorOff\",\n            display: \"off\",\n            configValue: \"off\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setStopOnError(\"off\");\n            },\n        },\n        {\n            id: \"changeStopOnErrorLetter\",\n            display: \"letter\",\n            configValue: \"letter\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setStopOnError(\"letter\");\n            },\n        },\n        {\n            id: \"changeStopOnErrorWord\",\n            display: \"word\",\n            configValue: \"word\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setStopOnError(\"word\");\n            },\n        },\n    ],\n};\nconst commandsFontSize = {\n    title: \"Font size...\",\n    configKey: \"fontSize\",\n    list: [\n        {\n            id: \"changeFontSize1\",\n            display: \"1x\",\n            configValue: 1,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setFontSize(\"1\");\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n        {\n            id: \"changeFontSize125\",\n            display: \"1.25x\",\n            configValue: 125,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setFontSize(\"125\");\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n        {\n            id: \"changeFontSize15\",\n            display: \"1.5x\",\n            configValue: 15,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setFontSize(\"15\");\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n        {\n            id: \"changeFontSize2\",\n            display: \"2x\",\n            configValue: 2,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setFontSize(\"2\");\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n        {\n            id: \"changeFontSize3\",\n            display: \"3x\",\n            configValue: 3,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setFontSize(\"3\");\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n        {\n            id: \"changeFontSize4\",\n            display: \"4x\",\n            configValue: 4,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setFontSize(\"4\");\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n            },\n        },\n    ],\n};\nconst commandsPageWidth = {\n    title: \"Page width...\",\n    configKey: \"pageWidth\",\n    list: [\n        {\n            id: \"setPageWidth100\",\n            display: \"100\",\n            configValue: \"100\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setPageWidth(\"100\");\n            },\n        },\n        {\n            id: \"setPageWidth125\",\n            display: \"125\",\n            configValue: \"125\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setPageWidth(\"125\");\n            },\n        },\n        {\n            id: \"setPageWidth150\",\n            display: \"150\",\n            configValue: \"150\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setPageWidth(\"150\");\n            },\n        },\n        {\n            id: \"setPageWidth200\",\n            display: \"200\",\n            configValue: \"200\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setPageWidth(\"200\");\n            },\n        },\n        {\n            id: \"setPageWidthMax\",\n            display: \"max\",\n            configValue: \"max\",\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setPageWidth(\"max\");\n            },\n        },\n    ],\n};\nconst commandsPractiseWords = {\n    title: \"Practice words...\",\n    list: [\n        {\n            id: \"practiseWordsMissed\",\n            display: \"missed\",\n            noIcon: true,\n            exec: () => {\n                _test_practise_words__WEBPACK_IMPORTED_MODULE_8__.init(true, false);\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart(false, false, undefined, true);\n            },\n        },\n        {\n            id: \"practiseWordsSlow\",\n            display: \"slow\",\n            noIcon: true,\n            exec: () => {\n                _test_practise_words__WEBPACK_IMPORTED_MODULE_8__.init(false, true);\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart(false, false, undefined, true);\n            },\n        },\n        {\n            id: \"practiseWordsBoth\",\n            display: \"both\",\n            noIcon: true,\n            exec: () => {\n                _test_practise_words__WEBPACK_IMPORTED_MODULE_8__.init(true, true);\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart(false, false, undefined, true);\n            },\n        },\n    ],\n};\nconst themeCommands = {\n    title: \"Theme...\",\n    configKey: \"theme\",\n    list: [],\n};\n_utils_misc__WEBPACK_IMPORTED_MODULE_1__.getThemesList().then((themes) => {\n    themes.forEach((theme) => {\n        themeCommands.list.push({\n            id: \"changeTheme\" + _utils_misc__WEBPACK_IMPORTED_MODULE_1__.capitalizeFirstLetterOfEachWord(theme.name),\n            display: theme.name.replace(/_/g, \" \"),\n            configValue: theme.name,\n            hover: () => {\n                // previewTheme(theme.name);\n                _controllers_theme_controller__WEBPACK_IMPORTED_MODULE_4__.preview(theme.name, false);\n            },\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setTheme(theme.name);\n            },\n        });\n    });\n});\nconst commandsChallenges = {\n    title: \"Load challenge...\",\n    list: [],\n};\n_utils_misc__WEBPACK_IMPORTED_MODULE_1__.getChallengeList().then((challenges) => {\n    challenges.forEach((challenge) => {\n        commandsChallenges.list.push({\n            id: \"loadChallenge\" + _utils_misc__WEBPACK_IMPORTED_MODULE_1__.capitalizeFirstLetterOfEachWord(challenge.name),\n            noIcon: true,\n            display: challenge.display,\n            exec: () => {\n                _controllers_challenge_controller__WEBPACK_IMPORTED_MODULE_16__.setup(challenge.name);\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart(false, true);\n            },\n        });\n    });\n});\n// export function showFavouriteThemesAtTheTop() {\nfunction updateThemeCommands() {\n    if (_config__WEBPACK_IMPORTED_MODULE_7__[\"default\"].favThemes.length > 0) {\n        themeCommands.list = [];\n        _config__WEBPACK_IMPORTED_MODULE_7__[\"default\"].favThemes.forEach((theme) => {\n            themeCommands.list.push({\n                id: \"changeTheme\" + _utils_misc__WEBPACK_IMPORTED_MODULE_1__.capitalizeFirstLetterOfEachWord(theme),\n                display: theme.replace(/_/g, \" \"),\n                hover: () => {\n                    // previewTheme(theme);\n                    _controllers_theme_controller__WEBPACK_IMPORTED_MODULE_4__.preview(theme, false);\n                },\n                exec: () => {\n                    _config__WEBPACK_IMPORTED_MODULE_7__.setTheme(theme);\n                },\n            });\n        });\n        _utils_misc__WEBPACK_IMPORTED_MODULE_1__.getThemesList().then((themes) => {\n            themes.forEach((theme) => {\n                if (_config__WEBPACK_IMPORTED_MODULE_7__[\"default\"].favThemes.includes(theme.name))\n                    return;\n                themeCommands.list.push({\n                    id: \"changeTheme\" + _utils_misc__WEBPACK_IMPORTED_MODULE_1__.capitalizeFirstLetterOfEachWord(theme.name),\n                    display: theme.name.replace(/_/g, \" \"),\n                    hover: () => {\n                        // previewTheme(theme.name);\n                        _controllers_theme_controller__WEBPACK_IMPORTED_MODULE_4__.preview(theme.name, false);\n                    },\n                    exec: () => {\n                        _config__WEBPACK_IMPORTED_MODULE_7__.setTheme(theme.name);\n                    },\n                });\n            });\n        });\n    }\n}\nconst commandsCopyWordsToClipboard = {\n    title: \"Are you sure...\",\n    list: [\n        {\n            id: \"copyNo\",\n            display: \"Nevermind\",\n        },\n        {\n            id: \"copyYes\",\n            display: \"Yes, I am sure\",\n            exec: () => {\n                const words = _utils_misc__WEBPACK_IMPORTED_MODULE_1__.getWords();\n                navigator.clipboard.writeText(words).then(() => {\n                    _notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Copied to clipboard\", 1);\n                }, () => {\n                    _notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Failed to copy!\", -1);\n                });\n            },\n        },\n    ],\n};\nconst commandsMonkeyPowerLevel = {\n    title: \"Power mode...\",\n    configKey: \"monkeyPowerLevel\",\n    list: [\n        {\n            id: \"monkeyPowerLevelOff\",\n            display: \"off\",\n            configValue: \"off\",\n            exec: () => _config__WEBPACK_IMPORTED_MODULE_7__.setMonkeyPowerLevel(\"off\"),\n        },\n        {\n            id: \"monkeyPowerLevel1\",\n            display: \"mellow\",\n            configValue: \"1\",\n            exec: () => _config__WEBPACK_IMPORTED_MODULE_7__.setMonkeyPowerLevel(\"1\"),\n        },\n        {\n            id: \"monkeyPowerLevel2\",\n            display: \"high\",\n            configValue: \"2\",\n            exec: () => _config__WEBPACK_IMPORTED_MODULE_7__.setMonkeyPowerLevel(\"2\"),\n        },\n        {\n            id: \"monkeyPowerLevel3\",\n            display: \"ultra\",\n            configValue: \"3\",\n            exec: () => _config__WEBPACK_IMPORTED_MODULE_7__.setMonkeyPowerLevel(\"3\"),\n        },\n        {\n            id: \"monkeyPowerLevel4\",\n            display: \"over 9000\",\n            configValue: \"4\",\n            exec: () => _config__WEBPACK_IMPORTED_MODULE_7__.setMonkeyPowerLevel(\"4\"),\n        },\n    ],\n};\nconst defaultCommands = {\n    title: \"\",\n    list: [\n        {\n            id: \"changePunctuation\",\n            display: \"Punctuation...\",\n            icon: \"!?\",\n            subgroup: commandsPunctuation,\n        },\n        {\n            id: \"changeMode\",\n            display: \"Mode...\",\n            icon: \"fa-bars\",\n            subgroup: commandsMode,\n        },\n        {\n            id: \"changeTimeConfig\",\n            display: \"Time...\",\n            icon: \"fa-clock\",\n            subgroup: commandsTimeConfig,\n        },\n        {\n            id: \"changeWordCount\",\n            display: \"Words...\",\n            alias: \"words\",\n            icon: \"fa-font\",\n            subgroup: commandsWordCount,\n        },\n        {\n            id: \"changeQuoteLength\",\n            display: \"Quote length...\",\n            icon: \"fa-quote-right\",\n            alias: \"quotes\",\n            subgroup: commandsQuoteLengthConfig,\n        },\n        {\n            visible: false,\n            id: \"changeTags\",\n            display: \"Tags...\",\n            icon: \"fa-tag\",\n            subgroup: commandsTags,\n            beforeSubgroup: () => {\n                updateTagCommands();\n            },\n            // exec: (): void => {\n            //   updateTagCommands();\n            //   current.push();\n            //   Commandline.show();\n            // },\n        },\n        {\n            visible: false,\n            id: \"applyPreset\",\n            display: \"Presets...\",\n            icon: \"fa-sliders-h\",\n            subgroup: commandsPresets,\n            beforeSubgroup: () => {\n                updatePresetCommands();\n            },\n            // exec: (): void => {\n            //   updatePresetCommands();\n            //   current.push(commandsPresets);\n            //   Commandline.show();\n            // },\n        },\n        {\n            id: \"changeConfidenceMode\",\n            display: \"Confidence mode...\",\n            icon: \"fa-backspace\",\n            subgroup: commandsConfidenceMode,\n        },\n        {\n            id: \"changeStopOnError\",\n            display: \"Stop on error...\",\n            icon: \"fa-hand-paper\",\n            subgroup: commandsStopOnError,\n        },\n        {\n            id: \"changeNumbers\",\n            display: \"Numbers...\",\n            icon: \"15\",\n            subgroup: commandsNumbers,\n        },\n        {\n            id: \"changeSmoothCaret\",\n            display: \"Smooth caret...\",\n            icon: \"fa-i-cursor\",\n            subgroup: commandsSmoothCaret,\n        },\n        {\n            id: \"changeQuickTab\",\n            display: \"Quick tab...\",\n            icon: \"fa-redo-alt\",\n            subgroup: commandsQuickTab,\n        },\n        {\n            id: \"changeRepeatQuotes\",\n            display: \"Repeat quotes...\",\n            icon: \"fa-sync-alt\",\n            subgroup: commandsRepeatQuotes,\n        },\n        {\n            id: \"changeLiveWpm\",\n            display: \"Live WPM...\",\n            icon: \"fa-tachometer-alt\",\n            subgroup: commandsLiveWpm,\n        },\n        {\n            id: \"changeLiveAcc\",\n            display: \"Live accuracy...\",\n            icon: \"fa-percentage\",\n            subgroup: commandsLiveAcc,\n        },\n        {\n            id: \"changeLiveBurst\",\n            display: \"Live burst...\",\n            icon: \"fa-fire-alt\",\n            subgroup: commandsLiveBurst,\n        },\n        {\n            id: \"changeShowTimer\",\n            display: \"Timer/progress...\",\n            icon: \"fa-clock\",\n            subgroup: commandsShowTimer,\n        },\n        {\n            id: \"changeKeyTips\",\n            display: \"Key tips...\",\n            icon: \"fa-question\",\n            subgroup: commandsKeyTips,\n        },\n        {\n            id: \"changeFreedomMode\",\n            display: \"Freedom mode...\",\n            subgroup: commandsFreedomMode,\n        },\n        {\n            id: \"changeStrictSpace\",\n            display: \"Strict space...\",\n            icon: \"fa-minus\",\n            subgroup: commandsStrictSpace,\n        },\n        {\n            id: \"changeBlindMode\",\n            display: \"Blind mode...\",\n            icon: \"fa-eye-slash\",\n            subgroup: commandsBlindMode,\n        },\n        {\n            id: \"changeShowWordsHistory\",\n            display: \"Always show words history...\",\n            icon: \"fa-align-left\",\n            subgroup: commandsShowWordsHistory,\n        },\n        {\n            id: \"changeIndicateTypos\",\n            display: \"Indicate typos...\",\n            icon: \"fa-exclamation\",\n            subgroup: commandsIndicateTypos,\n        },\n        {\n            id: \"changeHideExtraLetters\",\n            display: \"Hide extra letters...\",\n            icon: \"fa-eye-slash\",\n            subgroup: commandsHideExtraLetters,\n        },\n        {\n            id: \"changeQuickEnd\",\n            display: \"Quick end...\",\n            icon: \"fa-step-forward\",\n            subgroup: commandsQuickEnd,\n        },\n        {\n            id: \"singleListCommandLine\",\n            display: \"Single list command line...\",\n            icon: \"fa-list\",\n            subgroup: commandsSingleListCommandLine,\n        },\n        {\n            id: \"capsLockWarning\",\n            display: \"Caps lock warning...\",\n            icon: \"fa-exclamation-triangle\",\n            subgroup: commandsCapsLockWarning,\n        },\n        {\n            id: \"changeMinWpm\",\n            display: \"Minimum wpm...\",\n            alias: \"minimum\",\n            icon: \"fa-bomb\",\n            subgroup: commandsMinWpm,\n        },\n        {\n            id: \"changeMinAcc\",\n            display: \"Minimum accuracy...\",\n            alias: \"minimum\",\n            icon: \"fa-bomb\",\n            subgroup: commandsMinAcc,\n        },\n        {\n            id: \"changeMinBurst\",\n            display: \"Minimum burst...\",\n            alias: \"minimum\",\n            icon: \"fa-bomb\",\n            subgroup: commandsMinBurst,\n        },\n        {\n            id: \"changeOppositeShiftMode\",\n            display: \"Change opposite shift mode...\",\n            icon: \"fa-exchange-alt\",\n            subgroup: commandsOppositeShiftMode,\n        },\n        {\n            id: \"changeSoundOnClick\",\n            display: \"Sound on click...\",\n            icon: \"fa-volume-up\",\n            subgroup: commandsSoundOnClick,\n        },\n        {\n            id: \"changeSoundOnError\",\n            display: \"Sound on error...\",\n            icon: \"fa-volume-mute\",\n            subgroup: commandsSoundOnError,\n        },\n        {\n            id: \"changeSoundVolume\",\n            display: \"Sound volume...\",\n            icon: \"fa-volume-down\",\n            subgroup: commandsSoundVolume,\n        },\n        {\n            id: \"changeFlipTestColors\",\n            display: \"Flip test colors...\",\n            icon: \"fa-adjust\",\n            subgroup: commandsFlipTestColors,\n        },\n        {\n            id: \"changeSmoothLineScroll\",\n            display: \"Smooth line scroll...\",\n            icon: \"fa-align-left\",\n            subgroup: commandsSmoothLineScroll,\n        },\n        {\n            id: \"changeAlwaysShowDecimal\",\n            display: \"Always show decimal places...\",\n            icon: \"00\",\n            subgroup: commandsAlwaysShowDecimal,\n        },\n        {\n            id: \"changeAlwaysShowCPM\",\n            display: \"Always show CPM...\",\n            icon: \"fa-tachometer-alt\",\n            subgroup: commandsAlwaysShowCPM,\n        },\n        {\n            id: \"changeStartGraphsAtZero\",\n            display: \"Start graphs at zero...\",\n            icon: \"fa-chart-line\",\n            subgroup: commandsStartGraphsAtZero,\n        },\n        {\n            id: \"changeSwapEscAndTab\",\n            display: \"Swap esc and tab...\",\n            icon: \"fa-exchange-alt\",\n            subgroup: commandsSwapEscAndTab,\n        },\n        {\n            id: \"changeLazyMode\",\n            display: \"Lazy mode...\",\n            icon: \"fa-couch\",\n            subgroup: commandsLazyMode,\n        },\n        {\n            id: \"changeShowAllLines\",\n            display: \"Show all lines...\",\n            icon: \"fa-align-left\",\n            subgroup: commandsShowAllLines,\n        },\n        {\n            id: \"changeColorfulMode\",\n            display: \"Colorful mode...\",\n            icon: \"fa-fill-drip\",\n            subgroup: commandsColorfulMode,\n        },\n        {\n            id: \"changeOutOfFocusWarning\",\n            display: \"Out of focus warning...\",\n            icon: \"fa-exclamation\",\n            subgroup: commandsOutOfFocusWarning,\n        },\n        {\n            id: \"setEnableAds\",\n            display: \"Enable ads...\",\n            icon: \"fa-ad\",\n            subgroup: commandsEnableAds,\n        },\n        {\n            id: \"changeTheme\",\n            display: \"Theme...\",\n            icon: \"fa-palette\",\n            subgroup: themeCommands,\n        },\n        {\n            id: \"setCustomTheme\",\n            display: \"Custom theme...\",\n            icon: \"fa-palette\",\n            subgroup: customThemeCommands,\n        },\n        {\n            id: \"setCustomThemeId\",\n            display: \"Custom themes...\",\n            icon: \"fa-palette\",\n            subgroup: customThemeListCommands,\n            beforeSubgroup: () => updateCustomThemeListCommands(),\n            available: () => {\n                return _firebase__WEBPACK_IMPORTED_MODULE_21__.Auth.currentUser !== null;\n            },\n        },\n        {\n            id: \"changeRandomTheme\",\n            display: \"Random theme...\",\n            icon: \"fa-random\",\n            subgroup: commandsRandomTheme,\n        },\n        {\n            id: \"randomizeTheme\",\n            display: \"Next random theme\",\n            icon: \"fa-random\",\n            exec: () => _controllers_theme_controller__WEBPACK_IMPORTED_MODULE_4__.randomizeTheme(),\n        },\n        {\n            id: \"changeDifficulty\",\n            display: \"Difficulty...\",\n            icon: \"fa-star\",\n            subgroup: commandsDifficulty,\n        },\n        {\n            id: \"changeCaretStyle\",\n            display: \"Caret style...\",\n            icon: \"fa-i-cursor\",\n            subgroup: commandsCaretStyle,\n        },\n        {\n            id: \"changePaceCaret\",\n            display: \"Pace caret mode...\",\n            icon: \"fa-i-cursor\",\n            subgroup: commandsPaceCaret,\n        },\n        {\n            id: \"changePaceCaretStyle\",\n            display: \"Pace caret style...\",\n            icon: \"fa-i-cursor\",\n            subgroup: commandsPaceCaretStyle,\n        },\n        {\n            id: \"changeRepeatedPace\",\n            display: \"Repeated pace...\",\n            icon: \"fa-i-cursor\",\n            subgroup: commandsRepeatedPace,\n        },\n        {\n            id: \"changeTimerStyle\",\n            display: \"Timer/progress style...\",\n            icon: \"fa-clock\",\n            subgroup: commandsTimerStyle,\n        },\n        {\n            id: \"changeTimerColor\",\n            display: \"Timer/progress color...\",\n            icon: \"fa-clock\",\n            subgroup: commandsTimerColor,\n        },\n        {\n            id: \"changeTimerOpacity\",\n            display: \"Timer/progress opacity...\",\n            icon: \"fa-clock\",\n            subgroup: commandsTimerOpacity,\n        },\n        {\n            id: \"changeHighlightMode\",\n            display: \"Highlight mode...\",\n            icon: \"fa-highlighter\",\n            subgroup: commandsHighlightMode,\n        },\n        {\n            id: \"changeShowAvg\",\n            display: \"Show average...\",\n            icon: \"fa-tachometer-alt\",\n            subgroup: commandsShowAvg,\n        },\n        {\n            id: \"changeCustomBackground\",\n            display: \"Custom background...\",\n            icon: \"fa-image\",\n            defaultValue: \"\",\n            input: true,\n            exec: (input) => {\n                if (!input)\n                    return;\n                _config__WEBPACK_IMPORTED_MODULE_7__.setCustomBackground(input);\n            },\n        },\n        {\n            id: \"changeLanguage\",\n            display: \"Language...\",\n            icon: \"fa-language\",\n            subgroup: commandsLanguages,\n        },\n        {\n            id: \"changeBritishEnglish\",\n            display: \"British english...\",\n            icon: \"fa-language\",\n            subgroup: commandsBritishEnglish,\n        },\n        {\n            id: \"changeFunbox\",\n            display: \"Funbox...\",\n            alias: \"fun box\",\n            icon: \"fa-gamepad\",\n            subgroup: commandsFunbox,\n        },\n        {\n            id: \"changeLayout\",\n            display: \"Layout emulator...\",\n            icon: \"fa-keyboard\",\n            subgroup: commandsLayouts,\n        },\n        {\n            id: \"toggleKeymap\",\n            display: \"Keymap mode...\",\n            icon: \"fa-keyboard\",\n            alias: \"keyboard\",\n            subgroup: commandsKeymapMode,\n        },\n        {\n            id: \"changeKeymapStyle\",\n            display: \"Keymap style...\",\n            alias: \"keyboard\",\n            icon: \"fa-keyboard\",\n            subgroup: commandsKeymapStyle,\n        },\n        {\n            id: \"changeKeymapLegendStyle\",\n            display: \"Keymap legend style...\",\n            alias: \"keyboard\",\n            icon: \"fa-keyboard\",\n            subgroup: commandsKeymapLegendStyle,\n        },\n        {\n            id: \"changeKeymapLayout\",\n            display: \"Keymap layout...\",\n            alias: \"keyboard\",\n            icon: \"fa-keyboard\",\n            subgroup: commandsKeymapLayouts,\n        },\n        {\n            id: \"changeCustomLayoutfluid\",\n            display: \"Custom layoutfluid...\",\n            defaultValue: \"qwerty dvorak colemak\",\n            input: true,\n            icon: \"fa-tint\",\n            exec: (input) => {\n                if (input === undefined)\n                    return;\n                _config__WEBPACK_IMPORTED_MODULE_7__.setCustomLayoutfluid(input);\n                if (_config__WEBPACK_IMPORTED_MODULE_7__[\"default\"].funbox === \"layoutfluid\")\n                    _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart();\n                // UpdateConfig.setLayout(\n                //   Config.customLayoutfluid\n                //     ? Config.customLayoutfluid.split(\"_\")[0]\n                //     : \"qwerty\"\n                // );\n                // UpdateConfig.setKeymapLayout(\n                //   Config.customLayoutfluid\n                //     ? Config.customLayoutfluid.split(\"_\")[0]\n                //     : \"qwerty\"\n                // );\n            },\n        },\n        {\n            id: \"changeFontSize\",\n            display: \"Font size...\",\n            icon: \"fa-font\",\n            subgroup: commandsFontSize,\n        },\n        {\n            id: \"changeFontFamily\",\n            display: \"Font family...\",\n            icon: \"fa-font\",\n            subgroup: commandsFonts,\n        },\n        {\n            id: \"changePageWidth\",\n            display: \"Page width...\",\n            icon: \"fa-arrows-alt-h\",\n            subgroup: commandsPageWidth,\n        },\n        {\n            id: \"viewTypingPage\",\n            display: \"View Typing Page\",\n            alias: \"start begin type test\",\n            icon: \"fa-keyboard\",\n            exec: () => {\n                $(\"#top #menu .icon-button.view-start\").trigger(\"click\");\n            },\n        },\n        {\n            id: \"viewLeaderboards\",\n            display: \"View Leaderboards Page\",\n            icon: \"fa-crown\",\n            exec: () => {\n                $(\"#top #menu .icon-button.view-leaderboards\").trigger(\"click\");\n            },\n        },\n        {\n            id: \"viewAbout\",\n            display: \"View About Page\",\n            icon: \"fa-info\",\n            exec: () => {\n                $(\"#top #menu .icon-button.view-about\").trigger(\"click\");\n            },\n        },\n        {\n            id: \"viewSettings\",\n            display: \"View Settings Page\",\n            icon: \"fa-cog\",\n            exec: () => {\n                $(\"#top #menu .icon-button.view-settings\").trigger(\"click\");\n            },\n        },\n        {\n            id: \"viewAccount\",\n            display: \"View Account Page\",\n            icon: \"fa-user\",\n            alias: \"stats\",\n            exec: () => {\n                $(\"#top #menu .icon-button.view-account\").hasClass(\"hidden\")\n                    ? $(\"#top #menu .icon-button.view-login\").trigger(\"click\")\n                    : $(\"#top #menu .icon-button.view-account\").trigger(\"click\");\n            },\n        },\n        {\n            id: \"toggleFullscreen\",\n            display: \"Toggle Fullscreen\",\n            icon: \"fa-expand\",\n            exec: () => {\n                _utils_misc__WEBPACK_IMPORTED_MODULE_1__.toggleFullscreen();\n            },\n        },\n        {\n            id: \"bailOut\",\n            display: \"Bail out...\",\n            icon: \"fa-running\",\n            subgroup: {\n                title: \"Are you sure...\",\n                list: [\n                    {\n                        id: \"bailOutNo\",\n                        display: \"Nevermind\",\n                        available: () => {\n                            return canBailOut();\n                        },\n                    },\n                    {\n                        id: \"bailOutForSure\",\n                        display: \"Yes, I am sure\",\n                        exec: () => {\n                            _test_test_input__WEBPACK_IMPORTED_MODULE_18__.setBailout(true);\n                            _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.finish();\n                        },\n                        available: () => {\n                            return canBailOut();\n                        },\n                    },\n                ],\n            },\n            visible: false,\n            available: () => {\n                return canBailOut();\n            },\n        },\n        {\n            id: \"loadChallenge\",\n            display: \"Load challenge...\",\n            icon: \"fa-award\",\n            subgroup: commandsChallenges,\n        },\n        {\n            id: \"joinDiscord\",\n            display: \"Join the Discord server\",\n            icon: \"fa-users\",\n            exec: () => {\n                window.open(\"https://discord.gg/monkeytype\");\n            },\n        },\n        {\n            id: \"repeatTest\",\n            display: \"Repeat test\",\n            icon: \"fa-sync-alt\",\n            exec: () => {\n                _test_test_logic__WEBPACK_IMPORTED_MODULE_10__.restart(true);\n            },\n            available: () => {\n                return _test_test_ui__WEBPACK_IMPORTED_MODULE_9__.resultVisible;\n            },\n        },\n        {\n            id: \"practiseWords\",\n            display: \"Practice words...\",\n            icon: \"fa-exclamation-triangle\",\n            subgroup: commandsPractiseWords,\n            available: () => {\n                return _test_test_ui__WEBPACK_IMPORTED_MODULE_9__.resultVisible;\n            },\n        },\n        {\n            id: \"toggleWordHistory\",\n            display: \"Toggle word history\",\n            icon: \"fa-align-left\",\n            exec: () => {\n                _test_test_ui__WEBPACK_IMPORTED_MODULE_9__.toggleResultWords();\n            },\n            available: () => {\n                return _test_test_ui__WEBPACK_IMPORTED_MODULE_9__.resultVisible;\n            },\n        },\n        {\n            id: \"saveScreenshot\",\n            display: \"Save screenshot\",\n            icon: \"fa-image\",\n            alias: \"ss picture\",\n            exec: () => {\n                setTimeout(() => {\n                    _test_test_ui__WEBPACK_IMPORTED_MODULE_9__.screenshot();\n                }, 500);\n            },\n            available: () => {\n                return _test_test_ui__WEBPACK_IMPORTED_MODULE_9__.resultVisible;\n            },\n        },\n        {\n            id: \"changeCustomModeText\",\n            display: \"Change custom text\",\n            icon: \"fa-align-left\",\n            exec: () => {\n                _popups_custom_text_popup__WEBPACK_IMPORTED_MODULE_5__.show();\n            },\n        },\n        {\n            id: \"toggleMonkey\",\n            display: \"Toggle Monkey\",\n            icon: \"fa-egg\",\n            visible: false,\n            exec: () => {\n                _config__WEBPACK_IMPORTED_MODULE_7__.setMonkey(!_config__WEBPACK_IMPORTED_MODULE_7__[\"default\"].monkey);\n            },\n        },\n        {\n            id: \"copyWordsToClipboard\",\n            display: \"Copy words to clipboard\",\n            icon: \"fa-copy\",\n            subgroup: true,\n            exec: () => {\n                current.push(commandsCopyWordsToClipboard);\n            },\n        },\n        {\n            id: \"importSettingsJSON\",\n            display: \"Import settings JSON\",\n            icon: \"fa-cog\",\n            input: true,\n            exec: (input) => {\n                if (!input)\n                    return;\n                try {\n                    _config__WEBPACK_IMPORTED_MODULE_7__.apply(JSON.parse(input));\n                    _config__WEBPACK_IMPORTED_MODULE_7__.saveFullConfigToLocalStorage();\n                    _pages_settings__WEBPACK_IMPORTED_MODULE_15__.update();\n                    _notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Done\", 1);\n                }\n                catch (e) {\n                    _notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"An error occured while importing settings: \" + e, -1);\n                }\n            },\n        },\n        {\n            id: \"exportSettingsJSON\",\n            display: \"Export settings JSON\",\n            icon: \"fa-cog\",\n            input: true,\n            defaultValue: \"\",\n        },\n        {\n            id: \"monkeyPower\",\n            display: \"Power mode...\",\n            alias: \"powermode\",\n            icon: \"fa-egg\",\n            visible: false,\n            subgroup: commandsMonkeyPowerLevel,\n        },\n        {\n            id: \"clearSwCache\",\n            display: \"Clear SW cache\",\n            icon: \"fa-cog\",\n            exec: () => __awaiter(void 0, void 0, void 0, function* () {\n                const clist = yield caches.keys();\n                for (const name of clist) {\n                    yield caches.delete(name);\n                }\n                window.location.reload();\n            }),\n        },\n        {\n            id: \"getSwCache\",\n            display: \"Get SW cache\",\n            icon: \"fa-cog\",\n            exec: () => __awaiter(void 0, void 0, void 0, function* () {\n                alert(yield caches.keys());\n            }),\n        },\n    ],\n};\ncurrent = [defaultCommands];\nfunction setCurrent(val) {\n    current = val;\n}\nfunction pushCurrent(val) {\n    current.push(val);\n}\nconst listsObject = {\n    commandsChallenges,\n    commandsLanguages,\n    commandsDifficulty,\n    commandsLazyMode,\n    commandsPaceCaret,\n    commandsShowAvg,\n    commandsMinWpm,\n    commandsMinAcc,\n    commandsMinBurst,\n    commandsFunbox,\n    commandsConfidenceMode,\n    commandsStopOnError,\n    commandsLayouts,\n    commandsOppositeShiftMode,\n    commandsTags,\n};\nfunction getList(list) {\n    return listsObject[list];\n}\n_observables_config_event__WEBPACK_IMPORTED_MODULE_20__.subscribe((eventKey, eventValue) => {\n    var _a;\n    if (eventKey === \"saveToLocalStorage\") {\n        defaultCommands.list.filter((command) => command.id == \"exportSettingsJSON\")[0].defaultValue = eventValue;\n    }\n    if (eventKey === \"customBackground\") {\n        defaultCommands.list.filter((command) => command.id == \"changeCustomBackground\")[0].defaultValue = eventValue;\n    }\n    if (eventKey === \"customLayoutFluid\") {\n        defaultCommands.list.filter((command) => command.id == \"changeCustomLayoutfluid\")[0].defaultValue = (_a = eventValue) === null || _a === void 0 ? void 0 : _a.replace(/#/g, \" \");\n    }\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/elements/commandline-lists.ts?");

/***/ }),

/***/ "./src/scripts/elements/commandline.ts":
/*!*********************************************!*\
  !*** ./src/scripts/elements/commandline.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isSingleListCommandLineActive\": () => (/* binding */ isSingleListCommandLineActive),\n/* harmony export */   \"show\": () => (/* binding */ show)\n/* harmony export */ });\n/* harmony import */ var _controllers_theme_controller__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/theme-controller */ \"./src/scripts/controllers/theme-controller.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _test_focus__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../test/focus */ \"./src/scripts/test/focus.ts\");\n/* harmony import */ var _commandline_lists__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./commandline-lists */ \"./src/scripts/elements/commandline-lists.ts\");\n/* harmony import */ var _test_test_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../test/test-ui */ \"./src/scripts/test/test-ui.ts\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../db */ \"./src/scripts/db.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../elements/notifications */ \"./src/scripts/elements/notifications.ts\");\n/* harmony import */ var _controllers_analytics_controller__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../controllers/analytics-controller */ \"./src/scripts/controllers/analytics-controller.ts\");\n/* harmony import */ var _states_page_transition__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../states/page-transition */ \"./src/scripts/states/page-transition.ts\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../firebase */ \"./src/scripts/firebase.ts\");\n\n\n\n\n\n\n\n\n\n\nlet commandLineMouseMode = false;\nfunction showInput(command, placeholder, defaultValue = \"\") {\n    $(\"#commandLineWrapper\").removeClass(\"hidden\");\n    $(\"#commandLine\").addClass(\"hidden\");\n    $(\"#commandInput\").removeClass(\"hidden\");\n    $(\"#commandInput input\").attr(\"placeholder\", placeholder);\n    $(\"#commandInput input\").val(defaultValue);\n    $(\"#commandInput input\").trigger(\"focus\");\n    $(\"#commandInput input\").attr(\"command\", \"\");\n    $(\"#commandInput input\").attr(\"command\", command);\n    if (defaultValue != \"\") {\n        $(\"#commandInput input\").select();\n    }\n}\nfunction isSingleListCommandLineActive() {\n    return $(\"#commandLine\").hasClass(\"allCommands\");\n}\nfunction showFound() {\n    $(\"#commandLine .suggestions\").empty();\n    let commandsHTML = \"\";\n    const list = _commandline_lists__WEBPACK_IMPORTED_MODULE_3__.current[_commandline_lists__WEBPACK_IMPORTED_MODULE_3__.current.length - 1];\n    $.each(list.list, (_index, obj) => {\n        var _a;\n        if (obj.found && (obj.available !== undefined ? obj.available() : true)) {\n            let icon = (_a = obj.icon) !== null && _a !== void 0 ? _a : \"fa-chevron-right\";\n            const faIcon = /^fa-/g.test(icon);\n            if (!faIcon) {\n                icon = `<div class=\"textIcon\">${icon}</div>`;\n            }\n            else {\n                icon = `<i class=\"fas fa-fw ${icon}\"></i>`;\n            }\n            if (list.configKey) {\n                if ((obj.configValueMode &&\n                    obj.configValueMode === \"include\" &&\n                    // todo figure this out without using any\n                    _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"][list.configKey].includes(obj.configValue)) ||\n                    _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"][list.configKey] === obj.configValue) {\n                    icon = `<i class=\"fas fa-fw fa-check\"></i>`;\n                }\n                else {\n                    icon = `<i class=\"fas fa-fw\"></i>`;\n                }\n            }\n            let iconHTML = `<div class=\"icon\">${icon}</div>`;\n            if (obj.noIcon && !isSingleListCommandLineActive()) {\n                iconHTML = \"\";\n            }\n            commandsHTML += `<div class=\"entry\" command=\"${obj.id}\">${iconHTML}<div>${obj.display}</div></div>`;\n        }\n    });\n    $(\"#commandLine .suggestions\").html(commandsHTML);\n    if ($(\"#commandLine .suggestions .entry\").length == 0) {\n        $(\"#commandLine .separator\").css({ height: 0, margin: 0 });\n    }\n    else {\n        $(\"#commandLine .separator\").css({\n            height: \"1px\",\n            \"margin-bottom\": \".5rem\",\n        });\n    }\n    const entries = $(\"#commandLine .suggestions .entry\");\n    if (entries.length > 0) {\n        $(entries[0]).addClass(\"activeKeyboard\");\n        try {\n            $.each(list.list, (_index, obj) => {\n                if (obj.found) {\n                    if ((!/theme/gi.test(obj.id) || obj.id === \"toggleCustomTheme\") &&\n                        !_controllers_theme_controller__WEBPACK_IMPORTED_MODULE_0__.randomTheme) {\n                        _controllers_theme_controller__WEBPACK_IMPORTED_MODULE_0__.clearPreview();\n                    }\n                    if (!/font/gi.test(obj.id)) {\n                        _config__WEBPACK_IMPORTED_MODULE_1__.previewFontFamily(_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].fontFamily);\n                    }\n                    if (obj.hover)\n                        obj.hover();\n                    return false;\n                }\n                else {\n                    return true;\n                }\n            });\n        }\n        catch (e) { }\n    }\n    $(\"#commandLine .listTitle\").remove();\n}\nfunction updateSuggested() {\n    const inputVal = $(\"#commandLine input\").val()\n        .toLowerCase()\n        .split(\" \")\n        .filter((s, i) => s || i == 0); //remove empty entries after first\n    const list = _commandline_lists__WEBPACK_IMPORTED_MODULE_3__.current[_commandline_lists__WEBPACK_IMPORTED_MODULE_3__.current.length - 1];\n    if (inputVal[0] === \"\" &&\n        _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].singleListCommandLine === \"on\" &&\n        _commandline_lists__WEBPACK_IMPORTED_MODULE_3__.current.length === 1) {\n        $.each(list.list, (_index, obj) => {\n            obj.found = false;\n        });\n        showFound();\n        return;\n    }\n    //ignore the preceeding \">\"s in the command line input\n    if (inputVal[0] && inputVal[0][0] == \">\") {\n        inputVal[0] = inputVal[0].replace(/^>+/, \"\");\n    }\n    if (inputVal[0] == \"\" && inputVal.length == 1) {\n        $.each(list.list, (_index, obj) => {\n            if (obj.visible !== false)\n                obj.found = true;\n        });\n    }\n    else {\n        $.each(list.list, (_index, obj) => {\n            let foundcount = 0;\n            $.each(inputVal, (_index2, obj2) => {\n                if (obj2 == \"\")\n                    return;\n                const escaped = obj2.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\");\n                const re = new RegExp(\"\\\\b\" + escaped, \"g\");\n                const res = obj.display.toLowerCase().match(re);\n                const res2 = obj.alias !== undefined ? obj.alias.toLowerCase().match(re) : null;\n                if ((res != null && res.length > 0) ||\n                    (res2 != null && res2.length > 0)) {\n                    foundcount++;\n                }\n                else {\n                    foundcount--;\n                }\n            });\n            if (foundcount > inputVal.length - 1) {\n                obj.found = true;\n            }\n            else {\n                obj.found = false;\n            }\n        });\n    }\n    showFound();\n}\nlet show = () => {\n    if (!$(\".page.pageLoading\").hasClass(\"hidden\"))\n        return;\n    _test_focus__WEBPACK_IMPORTED_MODULE_2__.set(false);\n    $(\"#commandLine\").removeClass(\"hidden\");\n    $(\"#commandInput\").addClass(\"hidden\");\n    if ($(\"#commandLineWrapper\").hasClass(\"hidden\")) {\n        $(\"#commandLineWrapper\")\n            .stop(true, true)\n            .css(\"opacity\", 0)\n            .removeClass(\"hidden\")\n            .animate({\n            opacity: 1,\n        }, 100);\n    }\n    $(\"#commandLine input\").val(\"\");\n    _commandline_lists__WEBPACK_IMPORTED_MODULE_3__.updateThemeCommands();\n    updateSuggested();\n    $(\"#commandLine input\").trigger(\"focus\");\n};\nfunction hide() {\n    _config__WEBPACK_IMPORTED_MODULE_1__.previewFontFamily(_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].fontFamily);\n    // applyCustomThemeColors();\n    if (!_controllers_theme_controller__WEBPACK_IMPORTED_MODULE_0__.randomTheme) {\n        _controllers_theme_controller__WEBPACK_IMPORTED_MODULE_0__.clearPreview();\n    }\n    $(\"#commandLineWrapper\")\n        .stop(true, true)\n        .css(\"opacity\", 1)\n        .animate({\n        opacity: 0,\n    }, 100, () => {\n        $(\"#commandLineWrapper\").addClass(\"hidden\");\n        $(\"#commandLine\").removeClass(\"allCommands\");\n        _test_test_ui__WEBPACK_IMPORTED_MODULE_4__.focusWords();\n    });\n    _test_test_ui__WEBPACK_IMPORTED_MODULE_4__.focusWords();\n}\nfunction trigger(command) {\n    let subgroup = false;\n    let input = false;\n    const list = _commandline_lists__WEBPACK_IMPORTED_MODULE_3__.current[_commandline_lists__WEBPACK_IMPORTED_MODULE_3__.current.length - 1];\n    let sticky = false;\n    $.each(list.list, (_index, obj) => {\n        var _a;\n        if (obj.id == command) {\n            if (obj.input) {\n                input = true;\n                const escaped = (_a = obj.display.split(\"</i>\")[1]) !== null && _a !== void 0 ? _a : obj.display;\n                showInput(obj.id, escaped, obj.defaultValue);\n            }\n            else if (obj.subgroup) {\n                subgroup = true;\n                if (obj.beforeSubgroup) {\n                    obj.beforeSubgroup();\n                }\n                _commandline_lists__WEBPACK_IMPORTED_MODULE_3__.current.push(obj.subgroup);\n                show();\n            }\n            else {\n                if (obj.exec)\n                    obj.exec();\n                if (obj.sticky === true) {\n                    sticky = true;\n                }\n            }\n        }\n    });\n    if (!subgroup && !input && !sticky) {\n        _controllers_analytics_controller__WEBPACK_IMPORTED_MODULE_7__.log(\"usedCommandLine\", { command });\n        hide();\n    }\n}\n//todo rewrite this mess\nfunction addChildCommands(unifiedCommands, commandItem, parentCommandDisplay = \"\", parentCommand) {\n    var _a, _b;\n    let commandItemDisplay = commandItem.display.replace(/\\s?\\.\\.\\.$/g, \"\");\n    let icon = `<i class=\"fas fa-fw\"></i>`;\n    if (commandItem.configValue !== undefined &&\n        _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"][parentCommand === null || parentCommand === void 0 ? void 0 : parentCommand.configKey] ===\n            commandItem.configValue) {\n        icon = `<i class=\"fas fa-fw fa-check\"></i>`;\n    }\n    if (commandItem.noIcon) {\n        icon = \"\";\n    }\n    if (parentCommandDisplay) {\n        commandItemDisplay =\n            parentCommandDisplay + \" > \" + icon + commandItemDisplay;\n    }\n    if (commandItem.subgroup) {\n        const command = commandItem;\n        if (command.beforeSubgroup)\n            command.beforeSubgroup();\n        try {\n            (_b = ((_a = commandItem) === null || _a === void 0 ? void 0 : _a.subgroup).list) === null || _b === void 0 ? void 0 : _b.forEach((cmd) => {\n                commandItem.configKey = commandItem\n                    .subgroup.configKey;\n                addChildCommands(unifiedCommands, cmd, commandItemDisplay, commandItem);\n            });\n            // commandItem.exec();\n            // const currentCommandsIndex = CommandlineLists.current.length - 1;\n            // CommandlineLists.current[currentCommandsIndex].list.forEach((cmd) => {\n            //   if (cmd.alias === undefined) cmd.alias = commandItem.alias;\n            //   addChildCommands(unifiedCommands, cmd, commandItemDisplay);\n            // });\n            // CommandlineLists.current.pop();\n        }\n        catch (e) { }\n    }\n    else {\n        const tempCommandItem = Object.assign({}, commandItem);\n        if (parentCommand) {\n            tempCommandItem.icon = parentCommand.icon;\n        }\n        if (parentCommandDisplay)\n            tempCommandItem.display = commandItemDisplay;\n        unifiedCommands.push(tempCommandItem);\n    }\n}\nfunction generateSingleListOfCommands() {\n    const allCommands = [];\n    const oldShowCommandLine = show;\n    show = () => {\n        //\n    };\n    _commandline_lists__WEBPACK_IMPORTED_MODULE_3__.defaultCommands.list.forEach((c) => addChildCommands(allCommands, c));\n    show = oldShowCommandLine;\n    return {\n        title: \"All Commands\",\n        list: allCommands,\n    };\n}\nfunction useSingleListCommandLine(sshow = true) {\n    const allCommands = generateSingleListOfCommands();\n    // if (Config.singleListCommandLine == \"manual\") {\n    // CommandlineLists.pushCurrent(allCommands);\n    // } else if (Config.singleListCommandLine == \"on\") {\n    _commandline_lists__WEBPACK_IMPORTED_MODULE_3__.setCurrent([allCommands]);\n    // }\n    if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].singleListCommandLine != \"manual\") {\n        $(\"#commandLine\").addClass(\"allCommands\");\n    }\n    if (sshow)\n        show();\n}\nfunction restoreOldCommandLine(sshow = true) {\n    if (isSingleListCommandLineActive()) {\n        $(\"#commandLine\").removeClass(\"allCommands\");\n        _commandline_lists__WEBPACK_IMPORTED_MODULE_3__.setCurrent(_commandline_lists__WEBPACK_IMPORTED_MODULE_3__.current.filter((l) => l.title != \"All Commands\"));\n        if (_commandline_lists__WEBPACK_IMPORTED_MODULE_3__.current.length < 1) {\n            _commandline_lists__WEBPACK_IMPORTED_MODULE_3__.setCurrent([_commandline_lists__WEBPACK_IMPORTED_MODULE_3__.defaultCommands]);\n        }\n    }\n    if (sshow)\n        show();\n}\n$(\"#commandLine input\").keyup((e) => {\n    commandLineMouseMode = false;\n    $(\"#commandLineWrapper #commandLine .suggestions .entry\").removeClass(\"activeMouse\");\n    if (e.key === \"ArrowUp\" ||\n        e.key === \"ArrowDown\" ||\n        e.key === \"Enter\" ||\n        e.key === \"Tab\" ||\n        e.code == \"AltLeft\" ||\n        (e.key.length > 1 && e.key !== \"Backspace\" && e.key !== \"Delete\")) {\n        return;\n    }\n    updateSuggested();\n});\n$(document).ready(() => {\n    $(document).on(\"keydown\", (event) => {\n        if (_states_page_transition__WEBPACK_IMPORTED_MODULE_8__.get())\n            return event.preventDefault();\n        // opens command line if escape, ctrl/cmd + shift + p, or tab is pressed if the setting swapEscAndTab is enabled\n        if (event.key === \"Escape\" ||\n            (event.key &&\n                event.key.toLowerCase() === \"p\" &&\n                (event.metaKey || event.ctrlKey) &&\n                event.shiftKey) ||\n            (event.key === \"Tab\" && _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].swapEscAndTab)) {\n            event.preventDefault();\n            const popups = document.querySelectorAll(\".popupWrapper\");\n            let popupVisible = false;\n            for (const popup of popups) {\n                if (!popup.classList.contains(\"hidden\") === true) {\n                    popupVisible = true;\n                    break;\n                }\n            }\n            if (popupVisible)\n                return;\n            if (!$(\"#commandLineWrapper\").hasClass(\"hidden\")) {\n                if (_commandline_lists__WEBPACK_IMPORTED_MODULE_3__.current.length > 1) {\n                    _commandline_lists__WEBPACK_IMPORTED_MODULE_3__.current.pop();\n                    $(\"#commandLine\").removeClass(\"allCommands\");\n                    show();\n                }\n                else {\n                    hide();\n                }\n                _config__WEBPACK_IMPORTED_MODULE_1__.setFontFamily(_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].fontFamily, true);\n            }\n            else if (event.key === \"Tab\" || !_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].swapEscAndTab) {\n                if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].singleListCommandLine == \"on\") {\n                    useSingleListCommandLine(false);\n                }\n                else {\n                    _commandline_lists__WEBPACK_IMPORTED_MODULE_3__.setCurrent([_commandline_lists__WEBPACK_IMPORTED_MODULE_3__.defaultCommands]);\n                }\n                show();\n            }\n        }\n    });\n});\n$(\"#commandInput input\").on(\"keydown\", (e) => {\n    if (e.key === \"Enter\") {\n        //enter\n        e.preventDefault();\n        const command = $(\"#commandInput input\").attr(\"command\");\n        const value = $(\"#commandInput input\").val();\n        const list = _commandline_lists__WEBPACK_IMPORTED_MODULE_3__.current[_commandline_lists__WEBPACK_IMPORTED_MODULE_3__.current.length - 1];\n        $.each(list.list, (_index, obj) => {\n            if (obj.id == command) {\n                if (obj.exec)\n                    obj.exec(value);\n                if (obj.subgroup !== null && obj.subgroup !== undefined) {\n                    //TODO: what is this for?\n                    // subgroup = obj.subgroup;\n                }\n            }\n        });\n        _controllers_analytics_controller__WEBPACK_IMPORTED_MODULE_7__.log(\"usedCommandLine\", { command: command !== null && command !== void 0 ? command : \"\" });\n        hide();\n    }\n    return;\n});\n$(document).on(\"mousemove\", () => {\n    if (!commandLineMouseMode)\n        commandLineMouseMode = true;\n});\n$(document).on(\"mouseenter\", \"#commandLineWrapper #commandLine .suggestions .entry\", (e) => {\n    if (!commandLineMouseMode)\n        return;\n    $(e.target).addClass(\"activeMouse\");\n});\n$(document).on(\"mouseleave\", \"#commandLineWrapper #commandLine .suggestions .entry\", (e) => {\n    if (!commandLineMouseMode)\n        return;\n    $(e.target).removeClass(\"activeMouse\");\n});\n$(\"#commandLineWrapper #commandLine .suggestions\").on(\"mouseover\", (e) => {\n    if (!commandLineMouseMode)\n        return;\n    // console.log(\"clearing keyboard active\");\n    $(\"#commandLineWrapper #commandLine .suggestions .entry\").removeClass(\"activeKeyboard\");\n    const hoverId = $(e.target).attr(\"command\");\n    try {\n        const list = _commandline_lists__WEBPACK_IMPORTED_MODULE_3__.current[_commandline_lists__WEBPACK_IMPORTED_MODULE_3__.current.length - 1];\n        $.each(list.list, (_index, obj) => {\n            if (obj.id == hoverId) {\n                if ((!/theme/gi.test(obj.id) || obj.id === \"toggleCustomTheme\") &&\n                    !_controllers_theme_controller__WEBPACK_IMPORTED_MODULE_0__.randomTheme) {\n                    _controllers_theme_controller__WEBPACK_IMPORTED_MODULE_0__.clearPreview();\n                }\n                if (!/font/gi.test(obj.id)) {\n                    _config__WEBPACK_IMPORTED_MODULE_1__.previewFontFamily(_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].fontFamily);\n                }\n                if (obj.hover)\n                    obj.hover();\n            }\n        });\n    }\n    catch (e) { }\n});\n$(document).on(\"click\", \"#commandLineWrapper #commandLine .suggestions .entry\", (e) => {\n    $(\".suggestions .entry\").removeClass(\"activeKeyboard\");\n    trigger($(e.currentTarget).attr(\"command\"));\n});\n$(\"#commandLineWrapper\").on(\"click\", (e) => {\n    if ($(e.target).attr(\"id\") === \"commandLineWrapper\") {\n        hide();\n        _config__WEBPACK_IMPORTED_MODULE_1__.setFontFamily(_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].fontFamily, true);\n        // if (Config.customTheme === true) {\n        //   applyCustomThemeColors();\n        // } else {\n        //   setTheme(Config.theme, true);\n        // }\n    }\n});\n//might come back to it later\n// function shiftCommand(){\n//   let activeEntries = $(\"#commandLineWrapper #commandLine .suggestions .entry.activeKeyboard, #commandLineWrapper #commandLine .suggestions .entry.activeMouse\");\n//   activeEntries.each((_index, activeEntry) => {\n//     let commandId = activeEntry.getAttribute('command');\n//     let foundCommand = null;\n//     CommandlineLists.defaultCommands.list.forEach(command => {\n//       if(foundCommand === null && command.id === commandId){\n//         foundCommand = command;\n//       }\n//     })\n//     if(foundCommand.shift){\n//       $(activeEntry).find('div').text(foundCommand.shift.display);\n//     }\n//   })\n// }\n// let shiftedCommands = false;\n// $(document).on(\"keydown\", (e) => {\n//   if (e.key === \"Shift\") {\n//     if(shiftedCommands === false){\n//       shiftedCommands = true;\n//       shiftCommand();\n//     }\n//   }\n// });\n// $(document).keyup((e) => {\n//   if (e.key === \"Shift\") {\n//     shiftedCommands = false;\n//   }\n// });\n$(document).on(\"keydown\", (e) => {\n    var _a, _b;\n    // if (isPreviewingTheme) {\n    // console.log(\"applying theme\");\n    // applyCustomThemeColors();\n    // previewTheme(Config.theme, false);\n    // }\n    if (!$(\"#commandLineWrapper\").hasClass(\"hidden\")) {\n        $(\"#commandLine input\").trigger(\"focus\");\n        if (e.key == \">\" && _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].singleListCommandLine == \"manual\") {\n            if (!isSingleListCommandLineActive()) {\n                useSingleListCommandLine(false);\n                return;\n            }\n            else if ($(\"#commandLine input\").val() == \">\") {\n                //so that it will ignore succeeding \">\" when input is already \">\"\n                e.preventDefault();\n                return;\n            }\n        }\n        if (e.key === \"Backspace\" || e.key === \"Delete\") {\n            setTimeout(() => {\n                const inputVal = $(\"#commandLine input\").val();\n                if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].singleListCommandLine == \"manual\" &&\n                    isSingleListCommandLineActive() &&\n                    inputVal[0] !== \">\") {\n                    restoreOldCommandLine(false);\n                }\n            }, 1);\n        }\n        if (e.key === \"Enter\") {\n            //enter\n            e.preventDefault();\n            const command = $(\".suggestions .entry.activeKeyboard\").attr(\"command\");\n            trigger(command);\n            return;\n        }\n        if (e.key === \"ArrowUp\" || e.key === \"ArrowDown\" || e.key === \"Tab\") {\n            e.preventDefault();\n            $(\"#commandLineWrapper #commandLine .suggestions .entry\").unbind(\"mouseenter mouseleave\");\n            const entries = $(\".suggestions .entry\");\n            let activenum = -1;\n            let hoverId;\n            $.each(entries, (index, obj) => {\n                if ($(obj).hasClass(\"activeKeyboard\"))\n                    activenum = index;\n            });\n            if (e.key === \"ArrowUp\" || (e.key === \"Tab\" && e.shiftKey)) {\n                entries.removeClass(\"activeKeyboard\");\n                if (activenum == 0) {\n                    $(entries[entries.length - 1]).addClass(\"activeKeyboard\");\n                    hoverId = $(entries[entries.length - 1]).attr(\"command\");\n                }\n                else {\n                    $(entries[--activenum]).addClass(\"activeKeyboard\");\n                    hoverId = $(entries[activenum]).attr(\"command\");\n                }\n            }\n            if (e.key === \"ArrowDown\" || (e.key === \"Tab\" && !e.shiftKey)) {\n                entries.removeClass(\"activeKeyboard\");\n                if (activenum + 1 == entries.length) {\n                    $(entries[0]).addClass(\"activeKeyboard\");\n                    hoverId = $(entries[0]).attr(\"command\");\n                }\n                else {\n                    $(entries[++activenum]).addClass(\"activeKeyboard\");\n                    hoverId = $(entries[activenum]).attr(\"command\");\n                }\n            }\n            try {\n                const scroll = Math.abs(((_a = $(\".suggestions\").offset()) === null || _a === void 0 ? void 0 : _a.top) -\n                    ((_b = $(\".entry.activeKeyboard\").offset()) === null || _b === void 0 ? void 0 : _b.top) -\n                    $(\".suggestions\").scrollTop()) -\n                    $(\".suggestions\").outerHeight() / 2 +\n                    $($(\".entry\")[0]).outerHeight();\n                $(\".suggestions\").scrollTop(scroll);\n            }\n            catch (e) {\n                if (e instanceof Error) {\n                    console.log(\"could not scroll suggestions: \" + e.message);\n                }\n            }\n            // console.log(`scrolling to ${scroll}`);\n            try {\n                const list = _commandline_lists__WEBPACK_IMPORTED_MODULE_3__.current[_commandline_lists__WEBPACK_IMPORTED_MODULE_3__.current.length - 1];\n                $.each(list.list, (_index, obj) => {\n                    if (obj.id == hoverId) {\n                        if ((!/theme/gi.test(obj.id) || obj.id === \"toggleCustomTheme\") &&\n                            !_controllers_theme_controller__WEBPACK_IMPORTED_MODULE_0__.randomTheme) {\n                            _controllers_theme_controller__WEBPACK_IMPORTED_MODULE_0__.clearPreview();\n                        }\n                        if (!/font/gi.test(obj.id)) {\n                            _config__WEBPACK_IMPORTED_MODULE_1__.previewFontFamily(_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].fontFamily);\n                        }\n                        if (obj.hover)\n                            obj.hover();\n                    }\n                });\n            }\n            catch (e) { }\n            return false;\n        }\n    }\n    return;\n});\n$(document).on(\"click\", \"#commandLineMobileButton\", () => {\n    if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].singleListCommandLine == \"on\") {\n        useSingleListCommandLine(false);\n    }\n    else {\n        _commandline_lists__WEBPACK_IMPORTED_MODULE_3__.setCurrent([_commandline_lists__WEBPACK_IMPORTED_MODULE_3__.defaultCommands]);\n    }\n    show();\n});\n$(document).on(\"click\", \"#keymap .r5 .key-space\", () => {\n    _commandline_lists__WEBPACK_IMPORTED_MODULE_3__.setCurrent([_commandline_lists__WEBPACK_IMPORTED_MODULE_3__.commandsKeymapLayouts]);\n    show();\n});\n$(document).on(\"click\", \"#testModesNotice .text-button\", (event) => {\n    const commands = _commandline_lists__WEBPACK_IMPORTED_MODULE_3__.getList($(event.currentTarget).attr(\"commands\"));\n    if (commands !== undefined) {\n        if ($(event.currentTarget).attr(\"commands\") === \"commandsTags\") {\n            _commandline_lists__WEBPACK_IMPORTED_MODULE_3__.updateTagCommands();\n        }\n        _commandline_lists__WEBPACK_IMPORTED_MODULE_3__.pushCurrent(commands);\n        show();\n    }\n});\n$(document).on(\"click\", \"#bottom .leftright .right .current-theme\", (e) => {\n    if (e.shiftKey) {\n        if (!_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].customTheme) {\n            if (_firebase__WEBPACK_IMPORTED_MODULE_9__.Auth.currentUser !== null) {\n                if (_db__WEBPACK_IMPORTED_MODULE_5__.getSnapshot().customThemes.length < 1) {\n                    _elements_notifications__WEBPACK_IMPORTED_MODULE_6__.add(\"No custom themes!\", 0);\n                    _config__WEBPACK_IMPORTED_MODULE_1__.setCustomTheme(false);\n                    // UpdateConfig.setCustomThemeId(\"\");\n                    return;\n                }\n                // if (!DB.getCustomThemeById(Config.customThemeId)) {\n                //   // Turn on the first custom theme\n                //   const firstCustomThemeId = DB.getSnapshot().customThemes[0]._id;\n                //   UpdateConfig.setCustomThemeId(firstCustomThemeId);\n                // }\n            }\n            _config__WEBPACK_IMPORTED_MODULE_1__.setCustomTheme(true);\n        }\n        else\n            _config__WEBPACK_IMPORTED_MODULE_1__.setCustomTheme(false);\n    }\n    else {\n        if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].customTheme)\n            _commandline_lists__WEBPACK_IMPORTED_MODULE_3__.updateCustomThemeListCommands();\n        _commandline_lists__WEBPACK_IMPORTED_MODULE_3__.pushCurrent(_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].customTheme\n            ? _commandline_lists__WEBPACK_IMPORTED_MODULE_3__.customThemeListCommands\n            : _commandline_lists__WEBPACK_IMPORTED_MODULE_3__.themeCommands);\n        show();\n    }\n});\n$(document.body).on(\"click\", \".pageAbout .aboutEnableAds\", () => {\n    _commandline_lists__WEBPACK_IMPORTED_MODULE_3__.pushCurrent(_commandline_lists__WEBPACK_IMPORTED_MODULE_3__.commandsEnableAds);\n    show();\n});\n$(\".supportButtons .button.ads\").on(\"click\", () => {\n    _commandline_lists__WEBPACK_IMPORTED_MODULE_3__.pushCurrent(_commandline_lists__WEBPACK_IMPORTED_MODULE_3__.commandsEnableAds);\n    show();\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/elements/commandline.ts?");

/***/ }),

/***/ "./src/scripts/elements/custom-background-filter.ts":
/*!**********************************************************!*\
  !*** ./src/scripts/elements/custom-background-filter.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getCSS\": () => (/* binding */ getCSS),\n/* harmony export */   \"apply\": () => (/* binding */ apply),\n/* harmony export */   \"loadConfig\": () => (/* binding */ loadConfig)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _notifications__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./notifications */ \"./src/scripts/elements/notifications.ts\");\n/* harmony import */ var _observables_config_event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../observables/config-event */ \"./src/scripts/observables/config-event.ts\");\n\n\n\nconst filters = {\n    blur: {\n        value: 0,\n        default: 0,\n    },\n    brightness: {\n        value: 1,\n        default: 1,\n    },\n    saturate: {\n        value: 1,\n        default: 1,\n    },\n    opacity: {\n        value: 1,\n        default: 1,\n    },\n};\nfunction getCSS() {\n    let ret = \"\";\n    Object.keys(filters).forEach((filterKey) => {\n        const key = filterKey;\n        if (filters[key].value != filters[key].default) {\n            ret += `${filterKey}(${filters[key].value}${filterKey == \"blur\" ? \"rem\" : \"\"}) `;\n        }\n    });\n    return ret;\n}\nfunction apply() {\n    const filterCSS = getCSS();\n    const css = {\n        filter: filterCSS,\n        width: `calc(100% + ${filters.blur.value * 4}rem)`,\n        height: `calc(100% + ${filters.blur.value * 4}rem)`,\n        left: `-${filters.blur.value * 2}rem`,\n        top: `-${filters.blur.value * 2}rem`,\n        position: \"absolute\",\n    };\n    $(\".customBackground img\").css(css);\n}\nfunction syncSliders() {\n    $(\".section.customBackgroundFilter .blur input\").val(filters[\"blur\"].value);\n    $(\".section.customBackgroundFilter .brightness input\").val(filters[\"brightness\"].value);\n    $(\".section.customBackgroundFilter .saturate input\").val(filters[\"saturate\"].value);\n    $(\".section.customBackgroundFilter .opacity input\").val(filters[\"opacity\"].value);\n}\nfunction updateNumbers() {\n    $(\".section.customBackgroundFilter .blur .value\").html(filters.blur.value.toFixed(1));\n    $(\".section.customBackgroundFilter .brightness .value\").html(filters.brightness.value.toFixed(1));\n    $(\".section.customBackgroundFilter .saturate .value\").html(filters.saturate.value.toFixed(1));\n    $(\".section.customBackgroundFilter .opacity .value\").html(filters.opacity.value.toFixed(1));\n}\nfunction loadConfig(config) {\n    filters.blur.value = config[0];\n    filters.brightness.value = config[1];\n    filters.saturate.value = config[2];\n    filters.opacity.value = config[3];\n    updateNumbers();\n    syncSliders();\n}\n$(\".section.customBackgroundFilter .blur input\").on(\"input\", () => {\n    filters[\"blur\"].value = parseFloat($(\".section.customBackgroundFilter .blur input\").val());\n    updateNumbers();\n    apply();\n});\n$(\".section.customBackgroundFilter .brightness input\").on(\"input\", () => {\n    filters[\"brightness\"].value = parseFloat($(\".section.customBackgroundFilter .brightness input\").val());\n    updateNumbers();\n    apply();\n});\n$(\".section.customBackgroundFilter .saturate input\").on(\"input\", () => {\n    filters[\"saturate\"].value = parseFloat($(\".section.customBackgroundFilter .saturate input\").val());\n    updateNumbers();\n    apply();\n});\n$(\".section.customBackgroundFilter .opacity input\").on(\"input\", () => {\n    filters[\"opacity\"].value = parseFloat($(\".section.customBackgroundFilter .opacity input\").val());\n    updateNumbers();\n    apply();\n});\n$(\".section.customBackgroundFilter  .save.button\").on(\"click\", () => {\n    const arr = Object.keys(filters).map((filterKey) => filters[filterKey].value);\n    _config__WEBPACK_IMPORTED_MODULE_0__.setCustomBackgroundFilter(arr, false);\n    _notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Custom background filters saved\", 1);\n});\n_observables_config_event__WEBPACK_IMPORTED_MODULE_2__.subscribe((eventKey, eventValue) => {\n    if (eventKey === \"customBackgroundFilter\") {\n        loadConfig(eventValue.map((ev) => parseFloat(ev)));\n        apply();\n    }\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/elements/custom-background-filter.ts?");

/***/ }),

/***/ "./src/scripts/elements/keymap.ts":
/*!****************************************!*\
  !*** ./src/scripts/elements/keymap.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"highlightKey\": () => (/* binding */ highlightKey),\n/* harmony export */   \"flashKey\": () => (/* binding */ flashKey),\n/* harmony export */   \"hide\": () => (/* binding */ hide),\n/* harmony export */   \"show\": () => (/* binding */ show),\n/* harmony export */   \"refresh\": () => (/* binding */ refresh)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _theme_colors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./theme-colors */ \"./src/scripts/elements/theme-colors.ts\");\n/* harmony import */ var _states_slow_timer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../states/slow-timer */ \"./src/scripts/states/slow-timer.ts\");\n/* harmony import */ var _observables_config_event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../observables/config-event */ \"./src/scripts/observables/config-event.ts\");\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\nfunction highlightKey(currentKey) {\n    if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode === \"zen\")\n        return;\n    if (currentKey === \"\")\n        currentKey = \" \";\n    try {\n        if ($(\".active-key\") != undefined) {\n            $(\".active-key\").removeClass(\"active-key\");\n        }\n        let highlightKey;\n        if (currentKey == \" \") {\n            highlightKey = \"#keymap .key-space, #keymap .key-split-space\";\n        }\n        else if (currentKey == '\"') {\n            highlightKey = `#keymap .keymap-key[data-key*='${currentKey}']`;\n        }\n        else {\n            highlightKey = `#keymap .keymap-key[data-key*=\"${currentKey}\"]`;\n        }\n        console.log(\"highlighting\", highlightKey);\n        $(highlightKey).addClass(\"active-key\");\n    }\n    catch (e) {\n        if (e instanceof Error) {\n            console.log(\"could not update highlighted keymap key: \" + e.message);\n        }\n    }\n}\nfunction flashKey(key, correct) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (key == undefined)\n            return;\n        if (key == \" \") {\n            key = \"#keymap .key-space, #keymap .key-split-space\";\n        }\n        else if (key == '\"') {\n            key = `#keymap .keymap-key[data-key*='${key}']`;\n        }\n        else {\n            key = `#keymap .keymap-key[data-key*=\"${key}\"]`;\n        }\n        const themecolors = yield _theme_colors__WEBPACK_IMPORTED_MODULE_1__.getAll();\n        try {\n            if (correct || _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].blindMode) {\n                $(key)\n                    .stop(true, true)\n                    .css({\n                    color: themecolors.bg,\n                    backgroundColor: themecolors.main,\n                    borderColor: themecolors.main,\n                })\n                    .animate({\n                    color: themecolors.sub,\n                    backgroundColor: \"transparent\",\n                    borderColor: themecolors.sub,\n                }, _states_slow_timer__WEBPACK_IMPORTED_MODULE_2__.get() ? 0 : 500, \"easeOutExpo\");\n            }\n            else {\n                $(key)\n                    .stop(true, true)\n                    .css({\n                    color: themecolors.bg,\n                    backgroundColor: themecolors.error,\n                    borderColor: themecolors.error,\n                })\n                    .animate({\n                    color: themecolors.sub,\n                    backgroundColor: \"transparent\",\n                    borderColor: themecolors.sub,\n                }, _states_slow_timer__WEBPACK_IMPORTED_MODULE_2__.get() ? 0 : 500, \"easeOutExpo\");\n            }\n        }\n        catch (e) { }\n    });\n}\nfunction hide() {\n    $(\"#keymap\").addClass(\"hidden\");\n}\nfunction show() {\n    $(\"#keymap\").removeClass(\"hidden\");\n}\nfunction refresh(layoutName = _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].layout) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!layoutName)\n            return;\n        try {\n            const layouts = yield _utils_misc__WEBPACK_IMPORTED_MODULE_4__.getLayoutsList();\n            let lts = layouts[layoutName]; //layout to show\n            let layoutString = layoutName;\n            if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keymapLayout === \"overrideSync\") {\n                if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].layout === \"default\") {\n                    lts = layouts[\"qwerty\"];\n                    layoutString = \"default\";\n                }\n                else {\n                    lts = layouts[_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].layout];\n                    layoutString = _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].layout;\n                }\n            }\n            else {\n                lts = layouts[_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keymapLayout];\n                layoutString = _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keymapLayout;\n            }\n            const showTopRow = lts.keymapShowTopRow;\n            const isMatrix = _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keymapStyle === \"matrix\" || _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keymapStyle === \"split_matrix\";\n            let keymapElement = \"\";\n            Object.keys(lts.keys).forEach((row, index) => {\n                const rowKeys = lts.keys[row];\n                let rowElement = \"\";\n                if (row === \"row1\" && !showTopRow) {\n                    return;\n                }\n                if ((row === \"row2\" || row === \"row3\" || row === \"row4\") && !isMatrix) {\n                    rowElement += \"<div></div>\";\n                }\n                if (row === \"row4\" && lts.type !== \"iso\" && !isMatrix) {\n                    rowElement += \"<div></div>\";\n                }\n                if (row === \"row5\") {\n                    let layoutDisplay = layoutString.replace(/_/g, \" \");\n                    if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keymapLegendStyle === \"blank\") {\n                        layoutDisplay = \"\";\n                    }\n                    rowElement += \"<div></div>\";\n                    rowElement += `<div class=\"keymap-key key-space\">\n          <div class=\"letter\">${layoutDisplay}</div>\n        </div>`;\n                    rowElement += `<div class=\"keymap-split-spacer\"></div>`;\n                    rowElement += `<div class=\"keymap-key key-split-space\">\n          <div class=\"letter\"></div>\n        </div>`;\n                }\n                else {\n                    for (let i = 0; i < rowKeys.length; i++) {\n                        if (row === \"row2\" && i === 12)\n                            continue;\n                        if ((_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keymapStyle === \"matrix\" ||\n                            _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keymapStyle === \"split_matrix\") &&\n                            i >= 10) {\n                            continue;\n                        }\n                        const key = rowKeys[i];\n                        const bump = row === \"row3\" && (i === 3 || i === 6) ? true : false;\n                        let keyDisplay = key[0];\n                        if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keymapLegendStyle === \"blank\") {\n                            keyDisplay = \"\";\n                        }\n                        else if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keymapLegendStyle === \"uppercase\") {\n                            keyDisplay = keyDisplay.toUpperCase();\n                        }\n                        const keyElement = `<div class=\"keymap-key\" data-key=\"${key.replace('\"', \"&quot;\")}\">\n              <span class=\"letter\">${keyDisplay}</span>\n              ${bump ? \"<div class='bump'></div>\" : \"\"}\n          </div>`;\n                        let splitSpacer = \"\";\n                        if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keymapStyle === \"split\" ||\n                            _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keymapStyle === \"split_matrix\" ||\n                            _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keymapStyle === \"alice\") {\n                            if (row === \"row4\" &&\n                                (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keymapStyle === \"split\" ||\n                                    _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keymapStyle === \"alice\") &&\n                                lts.type === \"iso\") {\n                                if (i === 6) {\n                                    splitSpacer += `<div class=\"keymap-split-spacer\"></div>`;\n                                }\n                            }\n                            else {\n                                if (i === 5) {\n                                    splitSpacer += `<div class=\"keymap-split-spacer\"></div>`;\n                                }\n                            }\n                        }\n                        if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keymapStyle === \"alice\" && row === \"row4\") {\n                            if ((lts.type === \"iso\" && i === 6) ||\n                                (lts.type !== \"iso\" && i === 5)) {\n                                splitSpacer += `<div class=\"extra-key\"><span class=\"letter\"></span></div>`;\n                            }\n                        }\n                        rowElement += splitSpacer + keyElement;\n                    }\n                }\n                keymapElement += `<div class=\"row r${index + 1}\">${rowElement}</div>`;\n            });\n            $(\"#keymap\").html(keymapElement);\n            $(\"#keymap\").removeClass(\"staggered\");\n            $(\"#keymap\").removeClass(\"matrix\");\n            $(\"#keymap\").removeClass(\"split\");\n            $(\"#keymap\").removeClass(\"split_matrix\");\n            $(\"#keymap\").removeClass(\"alice\");\n            $(\"#keymap\").addClass(_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keymapStyle);\n        }\n        catch (e) {\n            if (e instanceof Error) {\n                console.log(\"something went wrong when changing layout, resettings: \" + e.message);\n                // UpdateConfig.setKeymapLayout(\"qwerty\", true);\n            }\n        }\n    });\n}\n_observables_config_event__WEBPACK_IMPORTED_MODULE_3__.subscribe((eventKey) => {\n    if (eventKey === \"layout\" && _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keymapLayout === \"overrideSync\") {\n        refresh(_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keymapLayout);\n    }\n    if (eventKey === \"keymapLayout\" || eventKey === \"keymapStyle\")\n        refresh();\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/elements/keymap.ts?");

/***/ }),

/***/ "./src/scripts/elements/last-10-average.ts":
/*!*************************************************!*\
  !*** ./src/scripts/elements/last-10-average.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"update\": () => (/* binding */ update),\n/* harmony export */   \"get\": () => (/* binding */ get)\n/* harmony export */ });\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../db */ \"./src/scripts/db.ts\");\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _test_test_words__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../test/test-words */ \"./src/scripts/test/test-words.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\nlet value = 0;\nfunction update() {\n    return __awaiter(this, void 0, void 0, function* () {\n        const mode2 = _utils_misc__WEBPACK_IMPORTED_MODULE_1__.getMode2(_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"], _test_test_words__WEBPACK_IMPORTED_MODULE_3__.randomQuote);\n        let wpm = yield _db__WEBPACK_IMPORTED_MODULE_0__.getUserAverageWpm10(_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].mode, mode2, _config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].punctuation, _config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].language, _config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].difficulty, _config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].lazyMode);\n        wpm = _utils_misc__WEBPACK_IMPORTED_MODULE_1__.roundTo2(wpm);\n        if (!_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].alwaysShowDecimalPlaces)\n            wpm = Math.round(wpm);\n        value = wpm;\n    });\n}\nfunction get() {\n    return value;\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/elements/last-10-average.ts?");

/***/ }),

/***/ "./src/scripts/elements/leaderboards.ts":
/*!**********************************************!*\
  !*** ./src/scripts/elements/leaderboards.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"hide\": () => (/* binding */ hide),\n/* harmony export */   \"show\": () => (/* binding */ show)\n/* harmony export */ });\n/* harmony import */ var _ape__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ape */ \"./src/scripts/ape/index.ts\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../db */ \"./src/scripts/db.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _notifications__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./notifications */ \"./src/scripts/elements/notifications.ts\");\n/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! date-fns */ \"./node_modules/date-fns/esm/format/index.js\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../firebase */ \"./src/scripts/firebase.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\n\nconst currentLeaderboard = \"time_15\";\nlet currentData = {\n    15: [],\n    60: [],\n};\nlet currentRank = {\n    15: {},\n    60: {},\n};\nconst requesting = {\n    15: false,\n    60: false,\n};\nconst leaderboardSingleLimit = 50;\nlet updateTimer;\nfunction clearTable(lb) {\n    if (lb === 15) {\n        $(\"#leaderboardsWrapper table.left tbody\").empty();\n        $(\"#leaderboardsWrapper table.left tfoot\").empty();\n    }\n    else if (lb === 60) {\n        $(\"#leaderboardsWrapper table.right tbody\").empty();\n        $(\"#leaderboardsWrapper table.right tfoot\").empty();\n    }\n}\nfunction reset() {\n    currentData = {\n        15: [],\n        60: [],\n    };\n    currentRank = {\n        15: {},\n        60: {},\n    };\n}\nfunction stopTimer() {\n    clearInterval(updateTimer);\n    updateTimer = undefined;\n    $(\"#leaderboards .subTitle\").text(\"Next update in: --:--\");\n}\nfunction updateTimerElement() {\n    const date = new Date();\n    const minutesToNextUpdate = 14 - (date.getMinutes() % 15);\n    const secondsToNextUpdate = 60 - date.getSeconds();\n    const totalSeconds = minutesToNextUpdate * 60 + secondsToNextUpdate;\n    $(\"#leaderboards .subTitle\").text(\"Next update in: \" + _utils_misc__WEBPACK_IMPORTED_MODULE_3__.secondsToString(totalSeconds, true));\n}\nfunction startTimer() {\n    updateTimerElement();\n    updateTimer = setInterval(() => {\n        updateTimerElement();\n    }, 1000);\n}\nfunction showLoader(lb) {\n    if (lb === 15) {\n        $(`#leaderboardsWrapper .leftTableLoader`).removeClass(\"hidden\");\n    }\n    else if (lb === 60) {\n        $(`#leaderboardsWrapper .rightTableLoader`).removeClass(\"hidden\");\n    }\n}\nfunction hideLoader(lb) {\n    if (lb === 15) {\n        $(`#leaderboardsWrapper .leftTableLoader`).addClass(\"hidden\");\n    }\n    else if (lb === 60) {\n        $(`#leaderboardsWrapper .rightTableLoader`).addClass(\"hidden\");\n    }\n}\nfunction updateFooter(lb) {\n    let side;\n    if (lb === 15) {\n        side = \"left\";\n    }\n    else {\n        side = \"right\";\n    }\n    $(`#leaderboardsWrapper table.${side} tfoot`).html(`\n    <tr>\n      <td><br><br></td>\n      <td colspan=\"4\" style=\"text-align:center;\">Not qualified</>\n      <td><br><br></td>\n    </tr>\n    `);\n    let toppercent;\n    if (currentRank[lb]) {\n        let num = _utils_misc__WEBPACK_IMPORTED_MODULE_3__.roundTo2((currentRank[lb][\"rank\"] / currentRank[lb].count) * 100);\n        if (num == 0) {\n            num = 0.01;\n        }\n        toppercent = `Top ${num}%`;\n    }\n    if (currentRank[lb]) {\n        const entry = currentRank[lb];\n        const date = new Date(entry.timestamp);\n        $(`#leaderboardsWrapper table.${side} tfoot`).html(`\n    <tr>\n    <td>${entry.rank}</td>\n    <td><span class=\"top\">You</span><br><span class=\"sub\">${toppercent}</span></td>\n    <td class=\"alignRight\">${(_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].alwaysShowCPM\n            ? entry.wpm * 5\n            : entry.wpm).toFixed(2)}<br><div class=\"sub\">${entry.acc.toFixed(2)}%</div></td>\n    <td class=\"alignRight\">${(_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].alwaysShowCPM\n            ? entry.raw * 5\n            : entry.raw).toFixed(2)}<br><div class=\"sub\">${!entry.consistency || entry.consistency === \"-\"\n            ? \"-\"\n            : entry.consistency.toFixed(2) + \"%\"}</div></td>\n    <td class=\"alignRight\">time<br><div class=\"sub\">${lb}</div></td>\n    <td class=\"alignRight\">${(0,date_fns__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(date, \"dd MMM yyyy\")}<br>\n    <div class='sub'>${(0,date_fns__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(date, \"HH:mm\")}</div></td>\n  </tr>\n  `);\n    }\n}\nfunction checkLbMemory(lb) {\n    var _a, _b, _c, _d, _e;\n    let side;\n    if (lb === 15) {\n        side = \"left\";\n    }\n    else {\n        side = \"right\";\n    }\n    const memory = (_e = (_d = (_c = (_b = (_a = _db__WEBPACK_IMPORTED_MODULE_1__.getSnapshot()) === null || _a === void 0 ? void 0 : _a.lbMemory) === null || _b === void 0 ? void 0 : _b.time) === null || _c === void 0 ? void 0 : _c[lb]) === null || _d === void 0 ? void 0 : _d[\"english\"]) !== null && _e !== void 0 ? _e : 0;\n    if (currentRank[lb]) {\n        const difference = memory - currentRank[lb].rank;\n        if (difference > 0) {\n            _db__WEBPACK_IMPORTED_MODULE_1__.updateLbMemory(\"time\", lb, \"english\", currentRank[lb].rank, true);\n            if (memory !== 0) {\n                $(`#leaderboardsWrapper table.${side} tfoot tr td .top`).append(` (<i class=\"fas fa-fw fa-angle-up\"></i>${Math.abs(difference)} since you last checked)`);\n            }\n        }\n        else if (difference < 0) {\n            _db__WEBPACK_IMPORTED_MODULE_1__.updateLbMemory(\"time\", lb, \"english\", currentRank[lb].rank, true);\n            if (memory !== 0) {\n                $(`#leaderboardsWrapper table.${side} tfoot tr td .top`).append(` (<i class=\"fas fa-fw fa-angle-down\"></i>${Math.abs(difference)} since you last checked)`);\n            }\n        }\n        else {\n            if (memory !== 0) {\n                $(`#leaderboardsWrapper table.${side} tfoot tr td .top`).append(` ( = since you last checked)`);\n            }\n        }\n    }\n}\nfunction fillTable(lb, prepend) {\n    var _a;\n    if (!currentData[lb]) {\n        return;\n    }\n    let side;\n    if (lb === 15) {\n        side = \"left\";\n    }\n    else {\n        side = \"right\";\n    }\n    const loggedInUserName = (_a = _db__WEBPACK_IMPORTED_MODULE_1__.getSnapshot()) === null || _a === void 0 ? void 0 : _a.name;\n    let a = currentData[lb].length - leaderboardSingleLimit;\n    let b = currentData[lb].length;\n    if (a < 0)\n        a = 0;\n    if (prepend) {\n        a = 0;\n        b = prepend;\n    }\n    let html = \"\";\n    for (let i = a; i < b; i++) {\n        const entry = currentData[lb][i];\n        if (!entry) {\n            break;\n        }\n        if (entry.hidden)\n            return;\n        let meClassString = \"\";\n        if (entry.name == loggedInUserName) {\n            meClassString = ' class=\"me\"';\n        }\n        const date = new Date(entry.timestamp);\n        html += `\n    <tr ${meClassString}>\n    <td>${entry.rank === 1 ? '<i class=\"fas fa-fw fa-crown\"></i>' : entry.rank}</td>\n    <td>${entry.name}</td>\n    <td class=\"alignRight\">${(_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].alwaysShowCPM\n            ? entry.wpm * 5\n            : entry.wpm).toFixed(2)}<br><div class=\"sub\">${entry.acc.toFixed(2)}%</div></td>\n    <td class=\"alignRight\">${(_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].alwaysShowCPM\n            ? entry.raw * 5\n            : entry.raw).toFixed(2)}<br><div class=\"sub\">${!entry.consistency || entry.consistency === \"-\"\n            ? \"-\"\n            : entry.consistency.toFixed(2) + \"%\"}</div></td>\n    <td class=\"alignRight\">time<br><div class=\"sub\">${lb}</div></td>\n    <td class=\"alignRight\">${(0,date_fns__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(date, \"dd MMM yyyy\")}<br>\n    <div class='sub'>${(0,date_fns__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(date, \"HH:mm\")}</div></td>\n  </tr>\n  `;\n    }\n    if (!prepend) {\n        $(`#leaderboardsWrapper table.${side} tbody`).append(html);\n    }\n    else {\n        $(`#leaderboardsWrapper table.${side} tbody`).prepend(html);\n    }\n}\nfunction hide() {\n    $(\"#leaderboardsWrapper\")\n        .stop(true, true)\n        .css(\"opacity\", 1)\n        .animate({\n        opacity: 0,\n    }, 100, () => {\n        clearTable(15);\n        clearTable(60);\n        reset();\n        stopTimer();\n        $(\"#leaderboardsWrapper\").addClass(\"hidden\");\n    });\n}\nfunction update() {\n    return __awaiter(this, void 0, void 0, function* () {\n        $(\"#leaderboardsWrapper .buttons .button\").removeClass(\"active\");\n        $(`#leaderboardsWrapper .buttons .button[board=${currentLeaderboard}]`).addClass(\"active\");\n        showLoader(15);\n        showLoader(60);\n        const leaderboardRequests = [\n            _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].leaderboards.get(\"english\", \"time\", \"15\", 0),\n            _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].leaderboards.get(\"english\", \"time\", \"60\", 0),\n        ];\n        if (_firebase__WEBPACK_IMPORTED_MODULE_5__.Auth.currentUser) {\n            leaderboardRequests.push(_ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].leaderboards.getRank(\"english\", \"time\", \"15\"), _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].leaderboards.getRank(\"english\", \"time\", \"60\"));\n        }\n        const responses = yield Promise.all(leaderboardRequests);\n        const failedResponse = responses.find((response) => response.status !== 200);\n        if (failedResponse) {\n            return _notifications__WEBPACK_IMPORTED_MODULE_4__.add(\"Failed to load leaderboards: \" + failedResponse.message, -1);\n        }\n        const [lb15Data, lb60Data, lb15Rank, lb60Rank] = responses.map((response) => response.data);\n        currentData[15] = lb15Data;\n        currentData[60] = lb60Data;\n        currentRank[15] = lb15Rank;\n        currentRank[60] = lb60Rank;\n        const leaderboardKeys = [15, 60];\n        leaderboardKeys.forEach((leaderboardTime) => {\n            hideLoader(leaderboardTime);\n            clearTable(leaderboardTime);\n            updateFooter(leaderboardTime);\n            checkLbMemory(leaderboardTime);\n            fillTable(leaderboardTime);\n        });\n        $(\"#leaderboardsWrapper .leftTableWrapper\").removeClass(\"invisible\");\n        $(\"#leaderboardsWrapper .rightTableWrapper\").removeClass(\"invisible\");\n    });\n}\nfunction requestMore(lb, prepend = false) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (prepend && currentData[lb][0].rank === 1)\n            return;\n        if (requesting[lb])\n            return;\n        requesting[lb] = true;\n        showLoader(lb);\n        let skipVal = currentData[lb][currentData[lb].length - 1].rank;\n        if (prepend) {\n            skipVal = currentData[lb][0].rank - leaderboardSingleLimit;\n        }\n        let limitVal;\n        if (skipVal < 0) {\n            limitVal = Math.abs(skipVal) - 1;\n            skipVal = 0;\n        }\n        const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].leaderboards.get(\"english\", \"time\", lb, skipVal, limitVal);\n        const data = response.data;\n        if (response.status !== 200 || data.length === 0) {\n            hideLoader(lb);\n            return;\n        }\n        if (prepend) {\n            currentData[lb].unshift(...data);\n        }\n        else {\n            currentData[lb].push(...data);\n        }\n        if (prepend && !limitVal) {\n            limitVal = leaderboardSingleLimit - 1;\n        }\n        fillTable(lb, limitVal);\n        hideLoader(lb);\n        requesting[lb] = false;\n    });\n}\nfunction requestNew(lb, skip) {\n    return __awaiter(this, void 0, void 0, function* () {\n        showLoader(lb);\n        const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].leaderboards.get(\"english\", \"time\", lb, skip);\n        const data = response.data;\n        clearTable(lb);\n        currentData[lb] = [];\n        if (response.status !== 200 || data.length === 0) {\n            hideLoader(lb);\n            return;\n        }\n        currentData[lb] = data;\n        fillTable(lb);\n        hideLoader(lb);\n    });\n}\nfunction show() {\n    if ($(\"#leaderboardsWrapper\").hasClass(\"hidden\")) {\n        if (_firebase__WEBPACK_IMPORTED_MODULE_5__.Auth.currentUser) {\n            $(\"#leaderboardsWrapper #leaderboards .rightTableJumpToMe\").removeClass(\"disabled\");\n            $(\"#leaderboardsWrapper #leaderboards .leftTableJumpToMe\").removeClass(\"disabled\");\n        }\n        else {\n            $(\"#leaderboardsWrapper #leaderboards .rightTableJumpToMe\").addClass(\"disabled\");\n            $(\"#leaderboardsWrapper #leaderboards .leftTableJumpToMe\").addClass(\"disabled\");\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].alwaysShowCPM) {\n            $(\"#leaderboards table thead tr td:nth-child(3)\").html('cpm<br><div class=\"sub\">accuracy</div>');\n        }\n        else {\n            $(\"#leaderboards table thead tr td:nth-child(3)\").html('wpm<br><div class=\"sub\">accuracy</div>');\n        }\n        $(\"#leaderboardsWrapper\")\n            .stop(true, true)\n            .css(\"opacity\", 0)\n            .removeClass(\"hidden\")\n            .animate({\n            opacity: 1,\n        }, 125, () => {\n            update();\n            startTimer();\n        });\n    }\n}\n$(\"#leaderboardsWrapper\").on(\"click\", (e) => {\n    if ($(e.target).attr(\"id\") === \"leaderboardsWrapper\") {\n        hide();\n    }\n});\n// $(\"#leaderboardsWrapper .buttons .button\").on(\"click\",(e) => {\n//   currentLeaderboard = $(e.target).attr(\"board\");\n//   update();\n// });\nlet leftScrollEnabled = true;\n$(\"#leaderboardsWrapper #leaderboards .leftTableWrapper\").scroll((e) => {\n    if (!leftScrollEnabled)\n        return;\n    const elem = $(e.currentTarget);\n    if (Math.round(elem.scrollTop()) <= 50) {\n        requestMore(15, true);\n    }\n});\n$(\"#leaderboardsWrapper #leaderboards .leftTableWrapper\").scroll((e) => {\n    if (!leftScrollEnabled)\n        return;\n    const elem = $(e.currentTarget);\n    if (Math.round(elem[0].scrollHeight - elem.scrollTop()) <=\n        Math.round(elem.outerHeight()) + 50) {\n        requestMore(15);\n    }\n});\nlet rightScrollEnabled = true;\n$(\"#leaderboardsWrapper #leaderboards .rightTableWrapper\").scroll((e) => {\n    if (!rightScrollEnabled)\n        return;\n    const elem = $(e.currentTarget);\n    if (Math.round(elem.scrollTop()) <= 50) {\n        requestMore(60, true);\n    }\n});\n$(\"#leaderboardsWrapper #leaderboards .rightTableWrapper\").scroll((e) => {\n    const elem = $(e.currentTarget);\n    if (Math.round(elem[0].scrollHeight - elem.scrollTop()) <=\n        Math.round(elem.outerHeight() + 50)) {\n        requestMore(60);\n    }\n});\n$(\"#leaderboardsWrapper #leaderboards .leftTableJumpToTop\").on(\"click\", () => __awaiter(void 0, void 0, void 0, function* () {\n    leftScrollEnabled = false;\n    $(\"#leaderboardsWrapper #leaderboards .leftTableWrapper\").scrollTop(0);\n    yield requestNew(15, 0);\n    leftScrollEnabled = true;\n}));\n$(\"#leaderboardsWrapper #leaderboards .leftTableJumpToMe\").on(\"click\", () => __awaiter(void 0, void 0, void 0, function* () {\n    if (currentRank[15].rank === undefined)\n        return;\n    leftScrollEnabled = false;\n    yield requestNew(15, currentRank[15].rank - leaderboardSingleLimit / 2);\n    const rowHeight = $(\"#leaderboardsWrapper #leaderboards .leftTableWrapper table tbody td\").outerHeight();\n    $(\"#leaderboardsWrapper #leaderboards .leftTableWrapper\").animate({\n        scrollTop: rowHeight *\n            Math.min(currentRank[15].rank, leaderboardSingleLimit / 2) -\n            $(\"#leaderboardsWrapper #leaderboards .leftTableWrapper\").outerHeight() /\n                2.25,\n    }, 0, () => {\n        leftScrollEnabled = true;\n    });\n}));\n$(\"#leaderboardsWrapper #leaderboards .rightTableJumpToTop\").on(\"click\", () => __awaiter(void 0, void 0, void 0, function* () {\n    rightScrollEnabled = false;\n    $(\"#leaderboardsWrapper #leaderboards .rightTableWrapper\").scrollTop(0);\n    yield requestNew(60, 0);\n    rightScrollEnabled = true;\n}));\n$(\"#leaderboardsWrapper #leaderboards .rightTableJumpToMe\").on(\"click\", () => __awaiter(void 0, void 0, void 0, function* () {\n    if (currentRank[60].rank === undefined)\n        return;\n    leftScrollEnabled = false;\n    yield requestNew(60, currentRank[60].rank - leaderboardSingleLimit / 2);\n    const rowHeight = $(\"#leaderboardsWrapper #leaderboards .rightTableWrapper table tbody td\").outerHeight();\n    $(\"#leaderboardsWrapper #leaderboards .rightTableWrapper\").animate({\n        scrollTop: rowHeight *\n            Math.min(currentRank[60].rank, leaderboardSingleLimit / 2) -\n            $(\"#leaderboardsWrapper #leaderboards .rightTableWrapper\").outerHeight() /\n                2.25,\n    }, 0, () => {\n        leftScrollEnabled = true;\n    });\n}));\n$(document).on(\"click\", \"#top #menu .icon-button\", (e) => {\n    if ($(e.currentTarget).hasClass(\"leaderboards\")) {\n        show();\n    }\n    return false;\n});\n$(document).on(\"keydown\", (event) => {\n    if (event.key === \"Escape\" && !$(\"#leaderboardsWrapper\").hasClass(\"hidden\")) {\n        hide();\n        event.preventDefault();\n    }\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/elements/leaderboards.ts?");

/***/ }),

/***/ "./src/scripts/elements/loader.ts":
/*!****************************************!*\
  !*** ./src/scripts/elements/loader.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"show\": () => (/* binding */ show),\n/* harmony export */   \"hide\": () => (/* binding */ hide)\n/* harmony export */ });\nfunction show() {\n    $(\"#backgroundLoader\").stop(true, true).fadeIn(125);\n}\nfunction hide() {\n    $(\"#backgroundLoader\").stop(true, true).fadeOut(125);\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/elements/loader.ts?");

/***/ }),

/***/ "./src/scripts/elements/modes-notice.ts":
/*!**********************************************!*\
  !*** ./src/scripts/elements/modes-notice.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"update\": () => (/* binding */ update)\n/* harmony export */ });\n/* harmony import */ var _test_pace_caret__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../test/pace-caret */ \"./src/scripts/test/pace-caret.ts\");\n/* harmony import */ var _test_test_state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../test/test-state */ \"./src/scripts/test/test-state.ts\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../db */ \"./src/scripts/db.ts\");\n/* harmony import */ var _elements_last_10_average__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../elements/last-10-average */ \"./src/scripts/elements/last-10-average.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _test_test_words__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../test/test-words */ \"./src/scripts/test/test-words.ts\");\n/* harmony import */ var _observables_config_event__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../observables/config-event */ \"./src/scripts/observables/config-event.ts\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../firebase */ \"./src/scripts/firebase.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\n\n\n_observables_config_event__WEBPACK_IMPORTED_MODULE_6__.subscribe((eventKey) => {\n    if ([\n        \"difficulty\",\n        \"blindMode\",\n        \"stopOnError\",\n        \"paceCaret\",\n        \"minWpm\",\n        \"minAcc\",\n        \"minBurst\",\n        \"confidenceMode\",\n        \"layout\",\n        \"showAvg\",\n    ].includes(eventKey)) {\n        update();\n    }\n});\nfunction update() {\n    var _a;\n    return __awaiter(this, void 0, void 0, function* () {\n        let anim = false;\n        if ($(\".pageTest #testModesNotice\").text() === \"\")\n            anim = true;\n        $(\".pageTest #testModesNotice\").empty();\n        if (_test_test_state__WEBPACK_IMPORTED_MODULE_1__.isRepeated && _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode !== \"quote\") {\n            $(\".pageTest #testModesNotice\").append(`<div class=\"text-button restart\" style=\"color:var(--error-color);\"><i class=\"fas fa-sync-alt\"></i>repeated</div>`);\n        }\n        if (_test_test_words__WEBPACK_IMPORTED_MODULE_5__.hasTab) {\n            $(\".pageTest #testModesNotice\").append(`<div class=\"text-button\"><i class=\"fas fa-long-arrow-alt-right\"></i>shift + tab to restart</div>`);\n        }\n        if (_test_test_state__WEBPACK_IMPORTED_MODULE_1__.activeChallenge) {\n            $(\".pageTest #testModesNotice\").append(`<div class=\"text-button\" commands=\"commandsChallenges\"><i class=\"fas fa-award\"></i>${_test_test_state__WEBPACK_IMPORTED_MODULE_1__.activeChallenge.display}</div>`);\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode === \"zen\") {\n            $(\".pageTest #testModesNotice\").append(`<div class=\"text-button\"><i class=\"fas fa-poll\"></i>shift + enter to finish zen </div>`);\n        }\n        $(\".pageTest #testModesNotice\").append(`<div class=\"text-button\" commands=\"commandsLanguages\"><i class=\"fas fa-globe-americas\"></i>${_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].language.replace(/_/g, \" \")}</div>`);\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].difficulty === \"expert\") {\n            $(\".pageTest #testModesNotice\").append(`<div class=\"text-button\" commands=\"commandsDifficulty\"><i class=\"fas fa-star-half-alt\"></i>expert</div>`);\n        }\n        else if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].difficulty === \"master\") {\n            $(\".pageTest #testModesNotice\").append(`<div class=\"text-button\" commands=\"commandsDifficulty\"><i class=\"fas fa-star\"></i>master</div>`);\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].blindMode) {\n            $(\".pageTest #testModesNotice\").append(`<div class=\"text-button blind\"><i class=\"fas fa-eye-slash\"></i>blind</div>`);\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].lazyMode) {\n            $(\".pageTest #testModesNotice\").append(`<div class=\"text-button\" commands=\"commandsLazyMode\"><i class=\"fas fa-couch\"></i>lazy</div>`);\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].paceCaret !== \"off\" ||\n            (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].repeatedPace && _test_test_state__WEBPACK_IMPORTED_MODULE_1__.isPaceRepeat)) {\n            let speed = \"\";\n            try {\n                speed = ` (${Math.round(_test_pace_caret__WEBPACK_IMPORTED_MODULE_0__.settings.wpm)} wpm)`;\n            }\n            catch (_b) { }\n            $(\".pageTest #testModesNotice\").append(`<div class=\"text-button\" commands=\"commandsPaceCaret\"><i class=\"fas fa-tachometer-alt\"></i>${_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].paceCaret === \"average\"\n                ? \"average\"\n                : _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].paceCaret === \"pb\"\n                    ? \"pb\"\n                    : \"custom\"} pace${speed}</div>`);\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].showAvg) {\n            const val = _elements_last_10_average__WEBPACK_IMPORTED_MODULE_3__.get();\n            if (_firebase__WEBPACK_IMPORTED_MODULE_7__.Auth.currentUser && val > 0) {\n                $(\".pageTest #testModesNotice\").append(`<div class=\"text-button\" commands=\"commandsShowAvg\"><i class=\"fas fa-tachometer-alt\"></i>avg: ${val}wpm</div>`);\n            }\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].minWpm !== \"off\") {\n            $(\".pageTest #testModesNotice\").append(`<div class=\"text-button\" commands=\"commandsMinWpm\"><i class=\"fas fa-bomb\"></i>min ${_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].minWpmCustomSpeed} wpm</div>`);\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].minAcc !== \"off\") {\n            $(\".pageTest #testModesNotice\").append(`<div class=\"text-button\" commands=\"commandsMinAcc\"><i class=\"fas fa-bomb\"></i>min ${_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].minAccCustom}% acc</div>`);\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].minBurst !== \"off\") {\n            $(\".pageTest #testModesNotice\").append(`<div class=\"text-button\" commands=\"commandsMinBurst\"><i class=\"fas fa-bomb\"></i>min ${_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].minBurstCustomSpeed} burst ${_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].minBurst === \"flex\" ? \"(flex)\" : \"\"}</div>`);\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].funbox !== \"none\") {\n            $(\".pageTest #testModesNotice\").append(`<div class=\"text-button\" commands=\"commandsFunbox\"><i class=\"fas fa-gamepad\"></i>${_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].funbox.replace(/_/g, \" \")}</div>`);\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].confidenceMode === \"on\") {\n            $(\".pageTest #testModesNotice\").append(`<div class=\"text-button\" commands=\"commandsConfidenceMode\"><i class=\"fas fa-backspace\"></i>confidence</div>`);\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].confidenceMode === \"max\") {\n            $(\".pageTest #testModesNotice\").append(`<div class=\"text-button\" commands=\"commandsConfidenceMode\"><i class=\"fas fa-backspace\"></i>max confidence</div>`);\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].stopOnError != \"off\") {\n            $(\".pageTest #testModesNotice\").append(`<div class=\"text-button\" commands=\"commandsStopOnError\"><i class=\"fas fa-hand-paper\"></i>stop on ${_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].stopOnError}</div>`);\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].layout !== \"default\") {\n            $(\".pageTest #testModesNotice\").append(`<div class=\"text-button\" commands=\"commandsLayouts\"><i class=\"fas fa-keyboard\"></i>emulating ${_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].layout.replace(/_/g, \" \")}</div>`);\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].oppositeShiftMode !== \"off\") {\n            $(\".pageTest #testModesNotice\").append(`<div class=\"text-button\" commands=\"commandsOppositeShiftMode\"><i class=\"fas fa-exchange-alt\"></i>opposite shift${_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].oppositeShiftMode === \"keymap\" ? \" (keymap)\" : \"\"}</div>`);\n        }\n        let tagsString = \"\";\n        try {\n            (_a = _db__WEBPACK_IMPORTED_MODULE_2__.getSnapshot().tags) === null || _a === void 0 ? void 0 : _a.forEach((tag) => {\n                if (tag.active === true) {\n                    tagsString += tag.name + \", \";\n                }\n            });\n            if (tagsString !== \"\") {\n                $(\".pageTest #testModesNotice\").append(`<div class=\"text-button\" commands=\"commandsTags\"><i class=\"fas fa-tag\"></i>${tagsString.substring(0, tagsString.length - 2)}</div>`);\n            }\n        }\n        catch (_c) { }\n        if (anim) {\n            $(\".pageTest #testModesNotice\")\n                .css(\"transition\", \"none\")\n                .css(\"opacity\", 0)\n                .animate({\n                opacity: 1,\n            }, 125, () => {\n                $(\".pageTest #testModesNotice\").css(\"transition\", \".125s\");\n            });\n        }\n    });\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/elements/modes-notice.ts?");

/***/ }),

/***/ "./src/scripts/elements/monkey-power.ts":
/*!**********************************************!*\
  !*** ./src/scripts/elements/monkey-power.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"init\": () => (/* binding */ init),\n/* harmony export */   \"reset\": () => (/* binding */ reset),\n/* harmony export */   \"addPower\": () => (/* binding */ addPower)\n/* harmony export */ });\n/* harmony import */ var _theme_colors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./theme-colors */ \"./src/scripts/elements/theme-colors.ts\");\n/* harmony import */ var _states_slow_timer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../states/slow-timer */ \"./src/scripts/states/slow-timer.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n/**\n * @typedef {{ x: number, y: number }} vec2\n * @typedef {vec2 & { prev: vec2, vel: vec2, alpha: number, color: string }} Particle\n * @typedef {{ particles: Particle[], caret: any, canvas: HTMLCanvasElement, context2d: CanvasRenderingContext2D, rendering: boolean, lastFrame: number, deltaTime: number, resetTimeOut: number }} CTX\n */\n/**\n * @type {CTX} ctx\n */\nconst ctx = {\n    particles: [],\n    rendering: false,\n};\nconst gravity = 1000;\nconst drag = 0.05;\nconst particleSize = 4;\nconst particleFade = 0.6;\nconst particleInitVel = 1500;\nconst particleBounceMod = 0.3;\nconst particleCreateCount = [6, 3];\nconst shakeAmount = 10;\nfunction createCanvas() {\n    const canvas = document.createElement(\"canvas\");\n    canvas.style.cssText =\n        \"position:fixed;top:0;left:0;pointer-events:none;z-index:999999\";\n    canvas.height = window.innerHeight;\n    canvas.width = window.innerWidth;\n    window.addEventListener(\"resize\", () => {\n        canvas.height = window.innerHeight;\n        canvas.width = window.innerWidth;\n    });\n    document.body.appendChild(canvas);\n    return canvas;\n}\n/**\n * @param {number} x\n * @param {number} y\n * @param {string} color\n * @returns {Particle}\n */\nfunction createParticle(x, y, color) {\n    return {\n        x,\n        y,\n        color,\n        alpha: 1,\n        prev: { x, y },\n        vel: {\n            x: particleInitVel - Math.random() * particleInitVel * 2,\n            y: particleInitVel - Math.random() * particleInitVel * 2,\n        },\n    };\n}\n/**\n * @param {Particle} particle\n */\nfunction updateParticle(particle) {\n    if (!ctx.canvas || !ctx.deltaTime)\n        return;\n    particle.prev.x = particle.x;\n    particle.prev.y = particle.y;\n    // Update pos\n    particle.x += particle.vel.x * ctx.deltaTime;\n    particle.y += particle.vel.y * ctx.deltaTime;\n    if (particle.x > ctx.canvas.width) {\n        particle.vel.x *= -particleBounceMod;\n        particle.x =\n            ctx.canvas.width - (particle.x - ctx.canvas.width) * particleBounceMod;\n    }\n    else if (particle.x < 0) {\n        particle.vel.x *= -particleBounceMod;\n        particle.x *= -particleBounceMod;\n    }\n    if (particle.y > ctx.canvas.height) {\n        particle.vel.y *= -particleBounceMod;\n        particle.y =\n            ctx.canvas.height - (particle.y - ctx.canvas.height) * particleBounceMod;\n    }\n    else if (particle.y < 0) {\n        particle.vel.y *= -1;\n        particle.y *= -1;\n    }\n    particle.vel.y += gravity * ctx.deltaTime;\n    particle.vel.x *= 1 - drag * ctx.deltaTime;\n    particle.alpha *= 1 - particleFade * ctx.deltaTime;\n}\nfunction init() {\n    ctx.caret = $(\"#caret\");\n    ctx.canvas = createCanvas();\n    ctx.context2d = ctx.canvas.getContext(\"2d\");\n}\nfunction render() {\n    if (!ctx.lastFrame || !ctx.context2d || !ctx.canvas)\n        return;\n    ctx.rendering = true;\n    const time = Date.now();\n    ctx.deltaTime = (time - ctx.lastFrame) / 1000;\n    ctx.lastFrame = time;\n    ctx.context2d.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n    const keep = [];\n    for (let i = 0; i < ctx.particles.length; i++) {\n        const particle = ctx.particles[i];\n        if (particle.alpha < 0.1)\n            continue;\n        updateParticle(particle);\n        ctx.context2d.globalAlpha = particle.alpha;\n        ctx.context2d.strokeStyle = particle.color;\n        ctx.context2d.lineWidth = particleSize;\n        ctx.context2d.beginPath();\n        ctx.context2d.moveTo(Math.round(particle.prev.x), Math.round(particle.prev.y));\n        ctx.context2d.lineTo(Math.round(particle.x), Math.round(particle.y));\n        ctx.context2d.stroke();\n        keep.push(particle);\n    }\n    ctx.particles = keep;\n    if (ctx.particles.length && !_states_slow_timer__WEBPACK_IMPORTED_MODULE_1__.get()) {\n        requestAnimationFrame(render);\n    }\n    else {\n        ctx.context2d.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n        ctx.rendering = false;\n    }\n}\nfunction reset(immediate = false) {\n    if (!ctx.resetTimeOut)\n        return;\n    delete ctx.resetTimeOut;\n    clearTimeout(ctx.resetTimeOut);\n    const body = $(document.body);\n    body.css(\"transition\", \"all .25s, transform 0.8s\");\n    body.css(\"transform\", `translate(0,0)`);\n    setTimeout(() => {\n        body.css(\"transition\", \"all .25s, transform .05s\");\n        $(\"html\").css(\"overflow\", \"inherit\");\n        $(\"html\").css(\"overflow-y\", \"scroll\");\n    }, immediate ? 0 : 1000);\n}\nfunction startRender() {\n    if (!ctx.rendering) {\n        ctx.lastFrame = Date.now();\n        render();\n    }\n}\nfunction randomColor() {\n    const r = Math.floor(Math.random() * 256).toString(16);\n    const g = Math.floor(Math.random() * 256).toString(16);\n    const b = Math.floor(Math.random() * 256).toString(16);\n    return `#${r}${g}${b}`;\n}\n/**\n * @param {boolean} good Good power or not?\n */\nfunction addPower(good = true, extra = false) {\n    var _a, _b, _c, _d, _e;\n    return __awaiter(this, void 0, void 0, function* () {\n        if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].monkeyPowerLevel === \"off\" || _states_slow_timer__WEBPACK_IMPORTED_MODULE_1__.get())\n            return;\n        // Shake\n        if ([\"3\", \"4\"].includes(_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].monkeyPowerLevel)) {\n            $(\"html\").css(\"overflow\", \"hidden\");\n            const shake = [\n                Math.round(shakeAmount - Math.random() * shakeAmount),\n                Math.round(shakeAmount - Math.random() * shakeAmount),\n            ];\n            $(document.body).css(\"transform\", `translate(${shake[0]}px, ${shake[1]}px)`);\n            if (ctx.resetTimeOut)\n                clearTimeout(ctx.resetTimeOut);\n            ctx.resetTimeOut = setTimeout(reset, 2000);\n        }\n        // Sparks\n        const offset = (_a = ctx.caret) === null || _a === void 0 ? void 0 : _a.offset();\n        const coords = [\n            (_b = offset === null || offset === void 0 ? void 0 : offset.left) !== null && _b !== void 0 ? _b : 0,\n            ((_c = offset === null || offset === void 0 ? void 0 : offset.top) !== null && _c !== void 0 ? _c : 0) + ((_e = (_d = ctx.caret) === null || _d === void 0 ? void 0 : _d.height()) !== null && _e !== void 0 ? _e : 0),\n        ];\n        for (let i = Math.round((particleCreateCount[0] + Math.random() * particleCreateCount[1]) *\n            (extra ? 2 : 1)); i > 0; i--) {\n            const color = [\"2\", \"4\"].includes(_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].monkeyPowerLevel)\n                ? randomColor()\n                : good\n                    ? yield _theme_colors__WEBPACK_IMPORTED_MODULE_0__.get(\"caret\")\n                    : yield _theme_colors__WEBPACK_IMPORTED_MODULE_0__.get(\"error\");\n            ctx.particles.push(createParticle(...coords, color));\n        }\n        startRender();\n    });\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/elements/monkey-power.ts?");

/***/ }),

/***/ "./src/scripts/elements/notifications.ts":
/*!***********************************************!*\
  !*** ./src/scripts/elements/notifications.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"add\": () => (/* binding */ add),\n/* harmony export */   \"addBanner\": () => (/* binding */ addBanner)\n/* harmony export */ });\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n\nlet id = 0;\nclass Notification {\n    constructor(type, message, level, duration, customTitle, customIcon, closeCallback = () => {\n        //\n    }) {\n        this.type = type;\n        this.message = message;\n        this.level = level;\n        if (type === \"banner\") {\n            this.duration = duration;\n        }\n        else {\n            if (duration == undefined) {\n                if (level === -1) {\n                    this.duration = 0;\n                }\n                else {\n                    this.duration = 3000;\n                }\n            }\n            else {\n                this.duration = duration * 1000;\n            }\n        }\n        this.customTitle = customTitle;\n        this.customIcon = customIcon;\n        this.id = id++;\n        this.closeCallback = closeCallback;\n    }\n    //level\n    //0 - notice\n    //1 - good\n    //-1 - bad\n    show() {\n        let cls = \"notice\";\n        let icon = `<i class=\"fas fa-fw fa-exclamation\"></i>`;\n        let title = \"Notice\";\n        if (this.level === 1) {\n            cls = \"good\";\n            icon = `<i class=\"fas fa-fw fa-check\"></i>`;\n            title = \"Success\";\n        }\n        else if (this.level === -1) {\n            cls = \"bad\";\n            icon = `<i class=\"fas fa-fw fa-times\"></i>`;\n            title = \"Error\";\n            console.error(this.message);\n        }\n        if (this.customTitle != undefined) {\n            title = this.customTitle;\n        }\n        if (this.type === \"banner\") {\n            icon = `<i class=\"fas fa-fw fa-bullhorn\"></i>`;\n        }\n        if (this.customIcon != undefined) {\n            icon = `<i class=\"fas fa-fw fa-${this.customIcon}\"></i>`;\n        }\n        if (this.type === \"notification\") {\n            // moveCurrentToHistory();\n            const oldHeight = $(\"#notificationCenter .history\").height();\n            $(\"#notificationCenter .history\").prepend(`\n          \n          <div class=\"notif ${cls}\" id=${this.id}>\n              <div class=\"icon\">${icon}</div>\n              <div class=\"message\"><div class=\"title\">${title}</div>${this.message}</div>\n          </div>     \n\n          `);\n            const newHeight = $(\"#notificationCenter .history\").height();\n            $(`#notificationCenter .notif[id='${this.id}']`).remove();\n            $(\"#notificationCenter .history\")\n                .css(\"margin-top\", 0)\n                .animate({\n                marginTop: newHeight - oldHeight,\n            }, 125, () => {\n                $(\"#notificationCenter .history\").css(\"margin-top\", 0);\n                $(\"#notificationCenter .history\").prepend(`\n          \n                  <div class=\"notif ${cls}\" id=${this.id}>\n                      <div class=\"icon\">${icon}</div>\n                      <div class=\"message\"><div class=\"title\">${title}</div>${this.message}</div>\n                  </div>     \n\n              `);\n                $(`#notificationCenter .notif[id='${this.id}']`)\n                    .css(\"opacity\", 0)\n                    .animate({\n                    opacity: 1,\n                }, 125, () => {\n                    $(`#notificationCenter .notif[id='${this.id}']`).css(\"opacity\", \"\");\n                });\n                $(`#notificationCenter .notif[id='${this.id}']`).on(\"click\", () => {\n                    this.hide();\n                    this.closeCallback();\n                });\n            });\n            $(`#notificationCenter .notif[id='${this.id}']`).hover(() => {\n                $(`#notificationCenter .notif[id='${this.id}']`).toggleClass(\"hover\");\n            });\n        }\n        else if (this.type === \"banner\") {\n            let leftside = `<div class=\"icon lefticon\">${icon}</div>`;\n            if (/^images\\/.*/.test(this.customIcon)) {\n                leftside = `<div class=\"image\" style=\"background-image: url(${this.customIcon})\"></div>`;\n            }\n            $(\"#bannerCenter\").prepend(`\n        <div class=\"banner ${cls}\" id=\"${this.id}\">\n        <div class=\"container\">\n          ${leftside}\n          <div class=\"text\">\n            ${this.message}\n          </div>\n          ${this.duration >= 0\n                ? `\n          <div class=\"closeButton\">\n            <i class=\"fas fa-fw fa-times\"></i>\n          </div>\n          `\n                : `<div class=\"righticon\">${icon}</div>`}\n        </div>\n      </div>\n      `);\n            const height = $(\"#bannerCenter\").height();\n            $(\"#centerContent\").css(\"padding-top\", height + _utils_misc__WEBPACK_IMPORTED_MODULE_0__.convertRemToPixels(2) + \"px\");\n            $(\"#notificationCenter\").css(\"margin-top\", height + \"px\");\n            if (this.duration >= 0) {\n                $(`#bannerCenter .banner[id='${this.id}'] .closeButton`).on(\"click\", () => {\n                    this.hide();\n                    this.closeCallback();\n                });\n            }\n        }\n        if (this.duration > 0) {\n            setTimeout(() => {\n                this.hide();\n            }, this.duration + 250);\n        }\n    }\n    hide() {\n        if (this.type === \"notification\") {\n            $(`#notificationCenter .notif[id='${this.id}']`)\n                .css(\"opacity\", 1)\n                .animate({\n                opacity: 0,\n            }, 125, () => {\n                $(`#notificationCenter .notif[id='${this.id}']`).animate({\n                    height: 0,\n                }, 125, () => {\n                    $(`#notificationCenter .notif[id='${this.id}']`).remove();\n                });\n            });\n        }\n        else if (this.type === \"banner\") {\n            $(`#bannerCenter .banner[id='${this.id}']`).remove();\n            const height = $(\"#bannerCenter\").height();\n            $(\"#centerContent\").css(\"padding-top\", height + _utils_misc__WEBPACK_IMPORTED_MODULE_0__.convertRemToPixels(2) + \"px\");\n            $(\"#notificationCenter\").css(\"margin-top\", height + \"px\");\n        }\n    }\n}\nfunction add(message, level = 0, duration, customTitle, customIcon, closeCallback) {\n    // notificationHistory.push(\n    new Notification(\"notification\", message, level, duration, customTitle, customIcon, closeCallback).show();\n    // );\n}\nfunction addBanner(message, level = -1, customIcon = \"bullhorn\", sticky = false, closeCallback) {\n    // notificationHistory.push(\n    new Notification(\"banner\", message, level, sticky ? -1 : 0, undefined, customIcon, closeCallback).show();\n    // );\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/elements/notifications.ts?");

/***/ }),

/***/ "./src/scripts/elements/psa.ts":
/*!*************************************!*\
  !*** ./src/scripts/elements/psa.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"show\": () => (/* binding */ show)\n/* harmony export */ });\n/* harmony import */ var _ape__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ape */ \"./src/scripts/ape/index.ts\");\n/* harmony import */ var _notifications__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./notifications */ \"./src/scripts/elements/notifications.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\nfunction clearMemory() {\n    window.localStorage.setItem(\"confirmedPSAs\", JSON.stringify([]));\n}\nfunction getMemory() {\n    var _a, _b;\n    return (_b = JSON.parse((_a = window.localStorage.getItem(\"confirmedPSAs\")) !== null && _a !== void 0 ? _a : \"[]\")) !== null && _b !== void 0 ? _b : [];\n}\nfunction setMemory(id) {\n    const list = getMemory();\n    list.push(id);\n    window.localStorage.setItem(\"confirmedPSAs\", JSON.stringify(list));\n}\nfunction getLatest() {\n    return __awaiter(this, void 0, void 0, function* () {\n        const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].psas.get();\n        if (response.message === \"Server is down for maintenance\") {\n            _notifications__WEBPACK_IMPORTED_MODULE_1__.addBanner(\"Server is currently under maintenance\", -1, \"bullhorn\", true);\n            return [];\n        }\n        return response.data;\n    });\n}\nfunction show() {\n    return __awaiter(this, void 0, void 0, function* () {\n        const latest = yield getLatest();\n        if (latest == null || latest.length == 0) {\n            clearMemory();\n            return;\n        }\n        const localmemory = getMemory();\n        latest.forEach((psa) => {\n            var _a;\n            if (localmemory.includes(psa._id) && ((_a = psa.sticky) !== null && _a !== void 0 ? _a : false) === false) {\n                return;\n            }\n            _notifications__WEBPACK_IMPORTED_MODULE_1__.addBanner(psa.message, psa.level, \"bullhorn\", psa.sticky, () => {\n                setMemory(psa._id);\n            });\n        });\n    });\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/elements/psa.ts?");

/***/ }),

/***/ "./src/scripts/elements/scroll-to-top.ts":
/*!***********************************************!*\
  !*** ./src/scripts/elements/scroll-to-top.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _states_active_page__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../states/active-page */ \"./src/scripts/states/active-page.ts\");\n\nlet visible = false;\n$(\".scrollToTopButton\").on(\"click\", () => {\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\n});\n$(window).scroll(() => {\n    const page = _states_active_page__WEBPACK_IMPORTED_MODULE_0__.get();\n    if (page == \"test\")\n        return;\n    if (page == \"about\" || page == \"settings\" || page == \"account\") {\n        const scroll = window.scrollY;\n        if (!visible && scroll > 100) {\n            $(\".scrollToTopButton\").removeClass(\"invisible\");\n            visible = true;\n        }\n        else if (visible && scroll < 100) {\n            $(\".scrollToTopButton\").addClass(\"invisible\");\n            visible = false;\n        }\n    }\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/elements/scroll-to-top.ts?");

/***/ }),

/***/ "./src/scripts/elements/theme-colors.ts":
/*!**********************************************!*\
  !*** ./src/scripts/elements/theme-colors.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"get\": () => (/* binding */ get),\n/* harmony export */   \"getAll\": () => (/* binding */ getAll),\n/* harmony export */   \"reset\": () => (/* binding */ reset),\n/* harmony export */   \"update\": () => (/* binding */ update)\n/* harmony export */ });\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nlet colors = {\n    bg: \"#323437\",\n    main: \"#e2b714\",\n    caret: \"#e2b714\",\n    sub: \"#646669\",\n    text: \"#d1d0c5\",\n    error: \"#ca4754\",\n    errorExtra: \"#7e2a33\",\n    colorfulError: \"#ca4754\",\n    colorfulErrorExtra: \"#7e2a33\",\n};\nfunction get(color) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!colors[color])\n            update();\n        return colors[color];\n    });\n}\nfunction getAll() {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!colors.bg)\n            update();\n        return colors;\n    });\n}\nfunction reset() {\n    colors = {\n        bg: \"\",\n        main: \"\",\n        caret: \"\",\n        sub: \"\",\n        text: \"\",\n        error: \"\",\n        errorExtra: \"\",\n        colorfulError: \"\",\n        colorfulErrorExtra: \"\",\n    };\n}\nfunction update() {\n    const st = getComputedStyle(document.body);\n    colors.bg = st.getPropertyValue(\"--bg-color\").replace(\" \", \"\");\n    colors.main = st.getPropertyValue(\"--main-color\").replace(\" \", \"\");\n    colors.caret = st.getPropertyValue(\"--caret-color\").replace(\" \", \"\");\n    colors.sub = st.getPropertyValue(\"--sub-color\").replace(\" \", \"\");\n    colors.text = st.getPropertyValue(\"--text-color\").replace(\" \", \"\");\n    colors.error = st.getPropertyValue(\"--error-color\").replace(\" \", \"\");\n    colors.errorExtra = st\n        .getPropertyValue(\"--error-extra-color\")\n        .replace(\" \", \"\");\n    colors.colorfulError = st\n        .getPropertyValue(\"--colorful-error-color\")\n        .replace(\" \", \"\");\n    colors.colorfulErrorExtra = st\n        .getPropertyValue(\"--colorful-error-extra-color\")\n        .replace(\" \", \"\");\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/elements/theme-colors.ts?");

/***/ }),

/***/ "./src/scripts/elements/version-check.ts":
/*!***********************************************!*\
  !*** ./src/scripts/elements/version-check.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"show\": () => (/* binding */ show)\n/* harmony export */ });\n/* harmony import */ var _notifications__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./notifications */ \"./src/scripts/elements/notifications.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n// import * as VersionPopup from \"./version-popup\";\nfunction setMemory(v) {\n    window.localStorage.setItem(\"lastSeenVersion\", v);\n}\nfunction getMemory() {\n    var _a;\n    return (_a = window.localStorage.getItem(\"lastSeenVersion\")) !== null && _a !== void 0 ? _a : \"\";\n}\nfunction show(version) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const memory = yield getMemory();\n        if (memory === \"\") {\n            setMemory(version);\n            return;\n        }\n        if (window.location.hostname === \"localhost\" ||\n            window.location.hostname === \"127.0.0.1\") {\n            caches.keys().then(function (names) {\n                for (const name of names)\n                    caches.delete(name);\n            });\n        }\n        if (memory === version)\n            return;\n        caches.keys().then(function (names) {\n            for (const name of names)\n                caches.delete(name);\n        });\n        _notifications__WEBPACK_IMPORTED_MODULE_0__.addBanner(`Version ${version} has been released. Click the version number in the bottom right to view the changelog.`, 1, \"code-branch\", false);\n        setMemory(version);\n    });\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/elements/version-check.ts?");

/***/ }),

/***/ "./src/scripts/firebase.ts":
/*!*********************************!*\
  !*** ./src/scripts/firebase.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Auth\": () => (/* binding */ Auth),\n/* harmony export */   \"Analytics\": () => (/* binding */ Analytics)\n/* harmony export */ });\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/app */ \"./node_modules/firebase/app/dist/index.esm.js\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/auth */ \"./node_modules/firebase/auth/dist/index.esm.js\");\n/* harmony import */ var _constants_firebase_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./constants/firebase-config */ \"./src/scripts/constants/firebase-config.ts\");\n/* harmony import */ var firebase_analytics__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/analytics */ \"./node_modules/firebase/analytics/dist/index.esm.js\");\n// Import the functions you need from the SDKs you need\n\n\n // eslint-disable-line require-path-exists/exists\n\n// Initialize Firebase\nlet app;\nlet Auth;\nlet Analytics;\ntry {\n    app = (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(_constants_firebase_config__WEBPACK_IMPORTED_MODULE_2__.firebaseConfig);\n    Auth = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_1__.getAuth)(app);\n    Analytics = (0,firebase_analytics__WEBPACK_IMPORTED_MODULE_3__.getAnalytics)(app);\n}\ncatch (e) {\n    $(\"body\").text(\"Failed to initialize Firebase. Are you sure you have the correct config in the firebase-config.ts file?\");\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/firebase.ts?");

/***/ }),

/***/ "./src/scripts/index.ts":
/*!******************************!*\
  !*** ./src/scripts/index.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _styles_index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../styles/index.scss */ \"./src/styles/index.scss\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./firebase */ \"./src/scripts/firebase.ts\");\n/* harmony import */ var chart_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! chart.js */ \"./node_modules/chart.js/dist/Chart.js\");\n/* harmony import */ var chart_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(chart_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var chartjs_plugin_trendline__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! chartjs-plugin-trendline */ \"./node_modules/chartjs-plugin-trendline/src/chartjs-plugin-trendline.js\");\n/* harmony import */ var chartjs_plugin_trendline__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(chartjs_plugin_trendline__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var chartjs_plugin_annotation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! chartjs-plugin-annotation */ \"./node_modules/chartjs-plugin-annotation/src/index.js\");\n/* harmony import */ var chartjs_plugin_annotation__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(chartjs_plugin_annotation__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./db */ \"./src/scripts/db.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _test_test_stats__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./test/test-stats */ \"./src/scripts/test/test-stats.ts\");\n/* harmony import */ var _test_replay__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./test/replay */ \"./src/scripts/test/replay.ts\");\n/* harmony import */ var _test_test_timer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./test/test-timer */ \"./src/scripts/test/test-timer.ts\");\n/* harmony import */ var _test_result__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./test/result */ \"./src/scripts/test/result.ts\");\n/* harmony import */ var _test_test_input__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./test/test-input */ \"./src/scripts/test/test-input.ts\");\n/* harmony import */ var _controllers_account_controller__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./controllers/account-controller */ \"./src/scripts/controllers/account-controller.ts\");\n/* harmony import */ var _states_glarses_mode__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./states/glarses-mode */ \"./src/scripts/states/glarses-mode.ts\");\n/* harmony import */ var _test_caps_warning__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./test/caps-warning */ \"./src/scripts/test/caps-warning.ts\");\n/* harmony import */ var _popups_support_popup__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./popups/support-popup */ \"./src/scripts/popups/support-popup.ts\");\n/* harmony import */ var _popups_contact_popup__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./popups/contact-popup */ \"./src/scripts/popups/contact-popup.ts\");\n/* harmony import */ var _popups_contact_popup__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_popups_contact_popup__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _popups_version_popup__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./popups/version-popup */ \"./src/scripts/popups/version-popup.ts\");\n/* harmony import */ var _popups_edit_preset_popup__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./popups/edit-preset-popup */ \"./src/scripts/popups/edit-preset-popup.ts\");\n/* harmony import */ var _popups_simple_popups__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./popups/simple-popups */ \"./src/scripts/popups/simple-popups.ts\");\n/* harmony import */ var _controllers_input_controller__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./controllers/input-controller */ \"./src/scripts/controllers/input-controller.ts\");\n/* harmony import */ var _ready__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./ready */ \"./src/scripts/ready.ts\");\n/* harmony import */ var _ui__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./ui */ \"./src/scripts/ui.ts\");\n/* harmony import */ var _pages_about__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./pages/about */ \"./src/scripts/pages/about.ts\");\n/* harmony import */ var _popups_pb_tables_popup__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./popups/pb-tables-popup */ \"./src/scripts/popups/pb-tables-popup.ts\");\n/* harmony import */ var _elements_scroll_to_top__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./elements/scroll-to-top */ \"./src/scripts/elements/scroll-to-top.ts\");\n/* harmony import */ var _popups_mobile_test_config_popup__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./popups/mobile-test-config-popup */ \"./src/scripts/popups/mobile-test-config-popup.ts\");\n/* harmony import */ var _popups_edit_tags_popup__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./popups/edit-tags-popup */ \"./src/scripts/popups/edit-tags-popup.ts\");\n/* harmony import */ var _pages_account__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./pages/account */ \"./src/scripts/pages/account.ts\");\n// this file should be concatenated at the top of the legacy js files\n\n\n// @ts-ignore\n\n// @ts-ignore\n\n// @ts-ignore\n\nchart_js__WEBPACK_IMPORTED_MODULE_2___default().plugins.register((chartjs_plugin_trendline__WEBPACK_IMPORTED_MODULE_3___default()));\nchart_js__WEBPACK_IMPORTED_MODULE_2___default().plugins.register((chartjs_plugin_annotation__WEBPACK_IMPORTED_MODULE_4___default()));\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst extendedGlobal = __webpack_require__.g;\nextendedGlobal.snapshot = _db__WEBPACK_IMPORTED_MODULE_5__.getSnapshot;\nextendedGlobal.config = _config__WEBPACK_IMPORTED_MODULE_6__[\"default\"];\nextendedGlobal.toggleFilterDebug = _pages_account__WEBPACK_IMPORTED_MODULE_28__.toggleFilterDebug;\nextendedGlobal.glarsesMode = _states_glarses_mode__WEBPACK_IMPORTED_MODULE_13__.enable;\nextendedGlobal.stats = _test_test_stats__WEBPACK_IMPORTED_MODULE_7__.getStats;\nextendedGlobal.replay = _test_replay__WEBPACK_IMPORTED_MODULE_8__.getReplayExport;\nextendedGlobal.enableTimerDebug = _test_test_timer__WEBPACK_IMPORTED_MODULE_9__.enableTimerDebug;\nextendedGlobal.getTimerStats = _test_test_timer__WEBPACK_IMPORTED_MODULE_9__.getTimerStats;\nextendedGlobal.toggleUnsmoothedRaw = _test_result__WEBPACK_IMPORTED_MODULE_10__.toggleUnsmoothedRaw;\nextendedGlobal.enableSpacingDebug = _test_test_input__WEBPACK_IMPORTED_MODULE_11__.enableSpacingDebug;\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/index.ts?");

/***/ }),

/***/ "./src/scripts/observables/config-event.ts":
/*!*************************************************!*\
  !*** ./src/scripts/observables/config-event.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"subscribe\": () => (/* binding */ subscribe),\n/* harmony export */   \"dispatch\": () => (/* binding */ dispatch)\n/* harmony export */ });\nconst subscribers = [];\nfunction subscribe(fn) {\n    subscribers.push(fn);\n}\nfunction dispatch(key, newValue, nosave, previousValue, fullConfig) {\n    subscribers.forEach((fn) => {\n        try {\n            fn(key, newValue, nosave, previousValue, fullConfig);\n        }\n        catch (e) {\n            console.error(\"Config event subscriber threw an error\");\n            console.error(e);\n        }\n    });\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/observables/config-event.ts?");

/***/ }),

/***/ "./src/scripts/observables/timer-event.ts":
/*!************************************************!*\
  !*** ./src/scripts/observables/timer-event.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"subscribe\": () => (/* binding */ subscribe),\n/* harmony export */   \"dispatch\": () => (/* binding */ dispatch)\n/* harmony export */ });\nconst subscribers = [];\nfunction subscribe(fn) {\n    subscribers.push(fn);\n}\nfunction dispatch(key, value, value2) {\n    subscribers.forEach((fn) => {\n        try {\n            fn(key, value, value2);\n        }\n        catch (e) {\n            console.error(\"Timer event subscriber threw an error\");\n            console.error(e);\n        }\n    });\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/observables/timer-event.ts?");

/***/ }),

/***/ "./src/scripts/pages/about.ts":
/*!************************************!*\
  !*** ./src/scripts/pages/about.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"reset\": () => (/* binding */ reset),\n/* harmony export */   \"fill\": () => (/* binding */ fill),\n/* harmony export */   \"page\": () => (/* binding */ page)\n/* harmony export */ });\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _page__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./page */ \"./src/scripts/pages/page.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\nfunction reset() {\n    $(\".pageAbout .contributors\").empty();\n    $(\".pageAbout .supporters\").empty();\n}\nfunction fill() {\n    return __awaiter(this, void 0, void 0, function* () {\n        const supporters = yield _utils_misc__WEBPACK_IMPORTED_MODULE_0__.getSupportersList();\n        const contributors = yield _utils_misc__WEBPACK_IMPORTED_MODULE_0__.getContributorsList();\n        supporters.forEach((supporter) => {\n            $(\".pageAbout .supporters\").append(`\n      <div>${supporter}</div>\n    `);\n        });\n        contributors.forEach((contributor) => {\n            $(\".pageAbout .contributors\").append(`\n      <div>${contributor}</div>\n    `);\n        });\n    });\n}\nconst page = new _page__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"about\", $(\".page.pageAbout\"), \"/about\", () => {\n    //\n}, () => __awaiter(void 0, void 0, void 0, function* () {\n    reset();\n}), () => {\n    fill();\n}, () => {\n    //\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/pages/about.ts?");

/***/ }),

/***/ "./src/scripts/pages/account.ts":
/*!**************************************!*\
  !*** ./src/scripts/pages/account.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"toggleFilterDebug\": () => (/* binding */ toggleFilterDebug),\n/* harmony export */   \"reset\": () => (/* binding */ reset),\n/* harmony export */   \"smoothHistory\": () => (/* binding */ smoothHistory),\n/* harmony export */   \"update\": () => (/* binding */ update),\n/* harmony export */   \"page\": () => (/* binding */ page)\n/* harmony export */ });\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../db */ \"./src/scripts/db.ts\");\n/* harmony import */ var _account_result_filters__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../account/result-filters */ \"./src/scripts/account/result-filters.ts\");\n/* harmony import */ var _elements_theme_colors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../elements/theme-colors */ \"./src/scripts/elements/theme-colors.ts\");\n/* harmony import */ var _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../controllers/chart-controller */ \"./src/scripts/controllers/chart-controller.js\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _account_mini_result_chart__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../account/mini-result-chart */ \"./src/scripts/account/mini-result-chart.ts\");\n/* harmony import */ var _account_all_time_stats__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../account/all-time-stats */ \"./src/scripts/account/all-time-stats.ts\");\n/* harmony import */ var _account_pb_tables__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../account/pb-tables */ \"./src/scripts/account/pb-tables.ts\");\n/* harmony import */ var _loading__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./loading */ \"./src/scripts/pages/loading.ts\");\n/* harmony import */ var _test_focus__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../test/focus */ \"./src/scripts/test/focus.ts\");\n/* harmony import */ var _account_sign_out_button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../account/sign-out-button */ \"./src/scripts/account/sign-out-button.ts\");\n/* harmony import */ var _test_today_tracker__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../test/today-tracker */ \"./src/scripts/test/today-tracker.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../elements/notifications */ \"./src/scripts/elements/notifications.ts\");\n/* harmony import */ var _page__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./page */ \"./src/scripts/pages/page.ts\");\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _states_active_page__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../states/active-page */ \"./src/scripts/states/active-page.ts\");\n/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! date-fns */ \"./node_modules/date-fns/esm/format/index.js\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlet filterDebug = false;\n//toggle filterdebug\nfunction toggleFilterDebug() {\n    filterDebug = !filterDebug;\n    if (filterDebug) {\n        console.log(\"filterDebug is on\");\n    }\n}\nlet filteredResults = [];\nlet visibleTableLines = 0;\nfunction loadMoreLines(lineIndex) {\n    var _a, _b;\n    if (filteredResults == [] || filteredResults.length == 0)\n        return;\n    let newVisibleLines;\n    if (lineIndex && lineIndex > visibleTableLines) {\n        newVisibleLines = Math.ceil(lineIndex / 10) * 10;\n    }\n    else {\n        newVisibleLines = visibleTableLines + 10;\n    }\n    for (let i = visibleTableLines; i < newVisibleLines; i++) {\n        const result = filteredResults[i];\n        if (!result)\n            continue;\n        let diff = result.difficulty;\n        if (diff == undefined) {\n            diff = \"normal\";\n        }\n        let raw;\n        try {\n            raw = _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].alwaysShowCPM\n                ? (result.rawWpm * 5).toFixed(2)\n                : result.rawWpm.toFixed(2);\n            if (raw == undefined) {\n                raw = \"-\";\n            }\n        }\n        catch (e) {\n            raw = \"-\";\n        }\n        let icons = `<span aria-label=\"${(_a = result.language) === null || _a === void 0 ? void 0 : _a.replace(\"_\", \" \")}\" data-balloon-pos=\"up\"><i class=\"fas fa-fw fa-globe-americas\"></i></span>`;\n        if (diff === \"normal\") {\n            icons += `<span aria-label=\"${result.difficulty}\" data-balloon-pos=\"up\"><i class=\"far fa-fw fa-star\"></i></span>`;\n        }\n        else if (diff === \"expert\") {\n            icons += `<span aria-label=\"${result.difficulty}\" data-balloon-pos=\"up\"><i class=\"fas fa-fw fa-star-half-alt\"></i></span>`;\n        }\n        else if (diff === \"master\") {\n            icons += `<span aria-label=\"${result.difficulty}\" data-balloon-pos=\"up\"><i class=\"fas fa-fw fa-star\"></i></span>`;\n        }\n        if (result.punctuation) {\n            icons += `<span aria-label=\"punctuation\" data-balloon-pos=\"up\" style=\"font-weight:900\">!?</span>`;\n        }\n        if (result.numbers) {\n            icons += `<span aria-label=\"numbers\" data-balloon-pos=\"up\" style=\"font-weight:900\">15</span>`;\n        }\n        if (result.blindMode) {\n            icons += `<span aria-label=\"blind mode\" data-balloon-pos=\"up\"><i class=\"fas fa-fw fa-eye-slash\"></i></span>`;\n        }\n        if (result.lazyMode) {\n            icons += `<span aria-label=\"lazy mode\" data-balloon-pos=\"up\"><i class=\"fas fa-fw fa-couch\"></i></span>`;\n        }\n        if (result.funbox !== \"none\" && result.funbox !== undefined) {\n            icons += `<span aria-label=\"${result.funbox.replace(/_/g, \" \")}\" data-balloon-pos=\"up\"><i class=\"fas fa-gamepad\"></i></span>`;\n        }\n        if (result.chartData === undefined) {\n            icons += `<span class=\"miniResultChartButton\" aria-label=\"No chart data found\" data-balloon-pos=\"up\"><i class=\"fas fa-chart-line\"></i></span>`;\n        }\n        else if (result.chartData === \"toolong\") {\n            icons += `<span class=\"miniResultChartButton\" aria-label=\"Chart history is not available for long tests\" data-balloon-pos=\"up\"><i class=\"fas fa-chart-line\"></i></span>`;\n        }\n        else {\n            icons += `<span class=\"miniResultChartButton\" aria-label=\"View graph\" data-balloon-pos=\"up\" filteredResultsId=\"${i}\" style=\"opacity: 1\"><i class=\"fas fa-chart-line\"></i></span>`;\n        }\n        let tagNames = \"\";\n        if (result.tags !== undefined && result.tags.length > 0) {\n            result.tags.forEach((tag) => {\n                var _a;\n                (_a = _db__WEBPACK_IMPORTED_MODULE_0__.getSnapshot().tags) === null || _a === void 0 ? void 0 : _a.forEach((snaptag) => {\n                    if (tag === snaptag._id) {\n                        tagNames += snaptag.name + \", \";\n                    }\n                });\n            });\n            tagNames = tagNames.substring(0, tagNames.length - 2);\n        }\n        let restags;\n        if (result.tags === undefined) {\n            restags = \"[]\";\n        }\n        else {\n            restags = JSON.stringify(result.tags);\n        }\n        let tagIcons = `<span id=\"resultEditTags\" resultId=\"${result._id}\" tags='${restags}' aria-label=\"no tags\" data-balloon-pos=\"up\" style=\"opacity: .25\"><i class=\"fas fa-fw fa-tag\"></i></span>`;\n        if (tagNames !== \"\") {\n            if (result.tags !== undefined && result.tags.length > 1) {\n                tagIcons = `<span id=\"resultEditTags\" resultId=\"${result._id}\" tags='${restags}' aria-label=\"${tagNames}\" data-balloon-pos=\"up\"><i class=\"fas fa-fw fa-tags\"></i></span>`;\n            }\n            else {\n                tagIcons = `<span id=\"resultEditTags\" resultId=\"${result._id}\" tags='${restags}' aria-label=\"${tagNames}\" data-balloon-pos=\"up\"><i class=\"fas fa-fw fa-tag\"></i></span>`;\n            }\n        }\n        let consistency = \"-\";\n        if (result.consistency) {\n            consistency = result.consistency.toFixed(2) + \"%\";\n        }\n        let pb = (_b = result.isPb) === null || _b === void 0 ? void 0 : _b.toString();\n        if (pb) {\n            pb = '<i class=\"fas fa-fw fa-crown\"></i>';\n        }\n        else {\n            pb = \"\";\n        }\n        let charStats = \"-\";\n        if (result.charStats) {\n            charStats = result.charStats.join(\"/\");\n        }\n        else {\n            charStats = result.correctChars + \"/\" + result.incorrectChars + \"/-/-\";\n        }\n        const date = new Date(result.timestamp);\n        $(\".pageAccount .history table tbody\").append(`\n    <tr class=\"resultRow\" id=\"result-${i}\">\n    <td>${pb}</td>\n    <td>${(_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].alwaysShowCPM ? result.wpm * 5 : result.wpm).toFixed(2)}</td>\n    <td>${raw}</td>\n    <td>${result.acc.toFixed(2)}%</td>\n    <td>${consistency}</td>\n    <td>${charStats}</td>\n    <td>${result.mode} ${result.mode2}</td>\n    <td class=\"infoIcons\">${icons}</td>\n    <td>${tagIcons}</td>\n    <td>${(0,date_fns__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(date, \"dd MMM yyyy\")}<br>\n    ${(0,date_fns__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(date, \"HH:mm\")}\n    </td>\n    </tr>`);\n    }\n    visibleTableLines = newVisibleLines;\n    if (visibleTableLines >= filteredResults.length) {\n        $(\".pageAccount .loadMoreButton\").addClass(\"hidden\");\n    }\n    else {\n        $(\".pageAccount .loadMoreButton\").removeClass(\"hidden\");\n    }\n}\nfunction reset() {\n    $(\".pageAccount .history table tbody\").empty();\n    _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_3__.accountActivity.data.datasets[0].data = [];\n    _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_3__.accountActivity.data.datasets[1].data = [];\n    _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_3__.accountHistory.data.datasets[0].data = [];\n    _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_3__.accountHistory.data.datasets[1].data = [];\n    _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_3__.accountActivity.update();\n    _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_3__.accountHistory.update();\n}\nlet totalSecondsFiltered = 0;\nlet chartData = [];\nlet accChartData = [];\nfunction smoothHistory(factor) {\n    const smoothedWpmData = _utils_misc__WEBPACK_IMPORTED_MODULE_14__.smooth(chartData.map((a) => a.y), factor);\n    const smoothedAccData = _utils_misc__WEBPACK_IMPORTED_MODULE_14__.smooth(accChartData.map((a) => a.y), factor);\n    const chartData2 = chartData.map((a, i) => {\n        const ret = Object.assign({}, a);\n        ret.y = smoothedWpmData[i];\n        return ret;\n    });\n    const accChartData2 = accChartData.map((a, i) => {\n        const ret = Object.assign({}, a);\n        ret.y = smoothedAccData[i];\n        return ret;\n    });\n    _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_3__.accountHistory.data.datasets[0].data = chartData2;\n    _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_3__.accountHistory.data.datasets[1].data = accChartData2;\n    _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_3__.accountHistory.update();\n}\nfunction applyHistorySmoothing() {\n    const smoothing = $(\".pageAccount .content .below .smoothing input\").val();\n    $(\".pageAccount .content .below .smoothing .value\").text(smoothing);\n    smoothHistory(parseInt(smoothing));\n}\nfunction update() {\n    function cont() {\n        var _a;\n        _loading__WEBPACK_IMPORTED_MODULE_8__.updateText(\"Displaying stats...\");\n        _loading__WEBPACK_IMPORTED_MODULE_8__.updateBar(100);\n        console.log(\"updating account page\");\n        _elements_theme_colors__WEBPACK_IMPORTED_MODULE_2__.update();\n        _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_3__.accountHistory.updateColors();\n        _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_3__.accountActivity.updateColors();\n        _account_all_time_stats__WEBPACK_IMPORTED_MODULE_6__.update();\n        _account_pb_tables__WEBPACK_IMPORTED_MODULE_7__.update();\n        chartData = [];\n        accChartData = [];\n        const wpmChartData = [];\n        visibleTableLines = 0;\n        let topWpm = 0;\n        let topMode = \"\";\n        let testRestarts = 0;\n        let totalWpm = 0;\n        let testCount = 0;\n        let last10 = 0;\n        let wpmLast10total = 0;\n        let topAcc = 0;\n        let totalAcc = 0;\n        let totalAcc10 = 0;\n        const rawWpm = {\n            total: 0,\n            count: 0,\n            last10Total: 0,\n            last10Count: 0,\n            max: 0,\n        };\n        // let totalSeconds = 0;\n        totalSecondsFiltered = 0;\n        let topCons = 0;\n        let totalCons = 0;\n        let totalCons10 = 0;\n        let consCount = 0;\n        const activityChartData = {};\n        filteredResults = [];\n        $(\".pageAccount .history table tbody\").empty();\n        (_a = _db__WEBPACK_IMPORTED_MODULE_0__.getSnapshot().results) === null || _a === void 0 ? void 0 : _a.forEach((result) => {\n            // totalSeconds += tt;\n            var _a, _b, _c, _d, _e;\n            //apply filters\n            try {\n                let resdiff = result.difficulty;\n                if (resdiff == undefined) {\n                    resdiff = \"normal\";\n                }\n                if (!_account_result_filters__WEBPACK_IMPORTED_MODULE_1__.getFilter(\"difficulty\", resdiff)) {\n                    if (filterDebug) {\n                        console.log(`skipping result due to difficulty filter`, result);\n                    }\n                    return;\n                }\n                if (!_account_result_filters__WEBPACK_IMPORTED_MODULE_1__.getFilter(\"mode\", result.mode)) {\n                    if (filterDebug) {\n                        console.log(`skipping result due to mode filter`, result);\n                    }\n                    return;\n                }\n                if (result.mode == \"time\") {\n                    let timefilter = \"custom\";\n                    if ([15, 30, 60, 120].includes(parseInt(result.mode2))) {\n                        timefilter = result.mode2;\n                    }\n                    if (!_account_result_filters__WEBPACK_IMPORTED_MODULE_1__.getFilter(\"time\", timefilter)) {\n                        if (filterDebug) {\n                            console.log(`skipping result due to time filter`, result);\n                        }\n                        return;\n                    }\n                }\n                else if (result.mode == \"words\") {\n                    let wordfilter = \"custom\";\n                    if ([10, 25, 50, 100, 200].includes(parseInt(result.mode2))) {\n                        wordfilter = result.mode2;\n                    }\n                    if (!_account_result_filters__WEBPACK_IMPORTED_MODULE_1__.getFilter(\"words\", wordfilter)) {\n                        if (filterDebug) {\n                            console.log(`skipping result due to word filter`, result);\n                        }\n                        return;\n                    }\n                }\n                if (result.quoteLength != null) {\n                    let filter = undefined;\n                    if (result.quoteLength === 0) {\n                        filter = \"short\";\n                    }\n                    else if (result.quoteLength === 1) {\n                        filter = \"medium\";\n                    }\n                    else if (result.quoteLength === 2) {\n                        filter = \"long\";\n                    }\n                    else if (result.quoteLength === 3) {\n                        filter = \"thicc\";\n                    }\n                    if (filter !== undefined &&\n                        !_account_result_filters__WEBPACK_IMPORTED_MODULE_1__.getFilter(\"quoteLength\", filter)) {\n                        if (filterDebug) {\n                            console.log(`skipping result due to quoteLength filter`, result);\n                        }\n                        return;\n                    }\n                }\n                let langFilter = _account_result_filters__WEBPACK_IMPORTED_MODULE_1__.getFilter(\"language\", (_a = result.language) !== null && _a !== void 0 ? _a : \"english\");\n                if (result.language === \"english_expanded\" &&\n                    _account_result_filters__WEBPACK_IMPORTED_MODULE_1__.getFilter(\"language\", \"english_1k\")) {\n                    langFilter = true;\n                }\n                if (!langFilter) {\n                    if (filterDebug) {\n                        console.log(`skipping result due to language filter`, result);\n                    }\n                    return;\n                }\n                let puncfilter = \"off\";\n                if (result.punctuation) {\n                    puncfilter = \"on\";\n                }\n                if (!_account_result_filters__WEBPACK_IMPORTED_MODULE_1__.getFilter(\"punctuation\", puncfilter)) {\n                    if (filterDebug) {\n                        console.log(`skipping result due to punctuation filter`, result);\n                    }\n                    return;\n                }\n                let numfilter = \"off\";\n                if (result.numbers) {\n                    numfilter = \"on\";\n                }\n                if (!_account_result_filters__WEBPACK_IMPORTED_MODULE_1__.getFilter(\"numbers\", numfilter)) {\n                    if (filterDebug) {\n                        console.log(`skipping result due to numbers filter`, result);\n                    }\n                    return;\n                }\n                if (result.funbox === \"none\" || result.funbox === undefined) {\n                    if (!_account_result_filters__WEBPACK_IMPORTED_MODULE_1__.getFilter(\"funbox\", \"none\")) {\n                        if (filterDebug) {\n                            console.log(`skipping result due to funbox filter`, result);\n                        }\n                        return;\n                    }\n                }\n                else {\n                    if (!_account_result_filters__WEBPACK_IMPORTED_MODULE_1__.getFilter(\"funbox\", result.funbox)) {\n                        if (filterDebug) {\n                            console.log(`skipping result due to funbox filter`, result);\n                        }\n                        return;\n                    }\n                }\n                let tagHide = true;\n                if (result.tags === undefined || result.tags.length === 0) {\n                    //no tags, show when no tag is enabled\n                    if (((_b = _db__WEBPACK_IMPORTED_MODULE_0__.getSnapshot().tags) === null || _b === void 0 ? void 0 : _b.length) || 0 > 0) {\n                        if (_account_result_filters__WEBPACK_IMPORTED_MODULE_1__.getFilter(\"tags\", \"none\"))\n                            tagHide = false;\n                    }\n                    else {\n                        tagHide = false;\n                    }\n                }\n                else {\n                    //tags exist\n                    const validTags = (_c = _db__WEBPACK_IMPORTED_MODULE_0__.getSnapshot().tags) === null || _c === void 0 ? void 0 : _c.map((t) => t._id);\n                    if (validTags === undefined)\n                        return;\n                    result.tags.forEach((tag) => {\n                        //check if i even need to check tags anymore\n                        if (!tagHide)\n                            return;\n                        //check if tag is valid\n                        if (validTags === null || validTags === void 0 ? void 0 : validTags.includes(tag)) {\n                            //tag valid, check if filter is on\n                            if (_account_result_filters__WEBPACK_IMPORTED_MODULE_1__.getFilter(\"tags\", tag))\n                                tagHide = false;\n                        }\n                        else {\n                            //tag not found in valid tags, meaning probably deleted\n                            if (_account_result_filters__WEBPACK_IMPORTED_MODULE_1__.getFilter(\"tags\", \"none\"))\n                                tagHide = false;\n                        }\n                    });\n                }\n                if (tagHide) {\n                    if (filterDebug) {\n                        console.log(`skipping result due to tag filter`, result);\n                    }\n                    return;\n                }\n                const timeSinceTest = Math.abs(result.timestamp - Date.now()) / 1000;\n                let datehide = true;\n                if (_account_result_filters__WEBPACK_IMPORTED_MODULE_1__.getFilter(\"date\", \"all\") ||\n                    (_account_result_filters__WEBPACK_IMPORTED_MODULE_1__.getFilter(\"date\", \"last_day\") &&\n                        timeSinceTest <= 86400) ||\n                    (_account_result_filters__WEBPACK_IMPORTED_MODULE_1__.getFilter(\"date\", \"last_week\") &&\n                        timeSinceTest <= 604800) ||\n                    (_account_result_filters__WEBPACK_IMPORTED_MODULE_1__.getFilter(\"date\", \"last_month\") &&\n                        timeSinceTest <= 2592000) ||\n                    (_account_result_filters__WEBPACK_IMPORTED_MODULE_1__.getFilter(\"date\", \"last_3months\") &&\n                        timeSinceTest <= 7776000)) {\n                    datehide = false;\n                }\n                if (datehide) {\n                    if (filterDebug) {\n                        console.log(`skipping result due to date filter`, result);\n                    }\n                    return;\n                }\n                filteredResults.push(result);\n            }\n            catch (e) {\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_12__.add(\"Something went wrong when filtering. Resetting filters.\", 0);\n                console.log(result);\n                console.error(e);\n                _account_result_filters__WEBPACK_IMPORTED_MODULE_1__.reset();\n                _account_result_filters__WEBPACK_IMPORTED_MODULE_1__.updateActive();\n                update();\n            }\n            //filters done\n            //=======================================\n            const resultDate = new Date(result.timestamp);\n            resultDate.setSeconds(0);\n            resultDate.setMinutes(0);\n            resultDate.setHours(0);\n            resultDate.setMilliseconds(0);\n            const resultTimestamp = resultDate.getTime();\n            if (Object.keys(activityChartData).includes(String(resultTimestamp))) {\n                activityChartData[resultTimestamp].amount++;\n                activityChartData[resultTimestamp].time +=\n                    result.testDuration +\n                        result.incompleteTestSeconds -\n                        ((_d = result.afkDuration) !== null && _d !== void 0 ? _d : 0);\n                activityChartData[resultTimestamp].totalWpm += result.wpm;\n            }\n            else {\n                activityChartData[resultTimestamp] = {\n                    amount: 1,\n                    time: result.testDuration +\n                        result.incompleteTestSeconds -\n                        ((_e = result.afkDuration) !== null && _e !== void 0 ? _e : 0),\n                    totalWpm: result.wpm,\n                };\n            }\n            let tt = 0;\n            if (result.testDuration == undefined &&\n                result.mode2 !== \"custom\" &&\n                result.mode2 !== \"zen\") {\n                //test finished before testDuration field was introduced - estimate\n                if (result.mode == \"time\") {\n                    tt = result.mode2;\n                }\n                else if (result.mode == \"words\") {\n                    tt = (result.mode2 / result.wpm) * 60;\n                }\n            }\n            else {\n                tt = parseFloat(result.testDuration); //legacy results could have a string here\n            }\n            if (result.incompleteTestSeconds != undefined) {\n                tt += result.incompleteTestSeconds;\n            }\n            else if (result.restartCount != undefined &&\n                result.restartCount > 0) {\n                tt += (tt / 4) * result.restartCount;\n            }\n            // if (result.incompleteTestSeconds != undefined) {\n            //   tt += result.incompleteTestSeconds;\n            // } else if (result.restartCount != undefined && result.restartCount > 0) {\n            //   tt += (tt / 4) * result.restartCount;\n            // }\n            totalSecondsFiltered += tt;\n            if (last10 < 10) {\n                last10++;\n                wpmLast10total += result.wpm;\n                totalAcc10 += result.acc;\n                result.consistency !== undefined\n                    ? (totalCons10 += result.consistency)\n                    : 0;\n            }\n            testCount++;\n            if (result.consistency !== undefined) {\n                consCount++;\n                totalCons += result.consistency;\n                if (result.consistency > topCons) {\n                    topCons = result.consistency;\n                }\n            }\n            if (result.rawWpm != null) {\n                if (rawWpm.last10Count < 10) {\n                    rawWpm.last10Count++;\n                    rawWpm.last10Total += result.rawWpm;\n                }\n                rawWpm.total += result.rawWpm;\n                rawWpm.count++;\n                if (result.rawWpm > rawWpm.max) {\n                    rawWpm.max = result.rawWpm;\n                }\n            }\n            if (result.acc > topAcc) {\n                topAcc = result.acc;\n            }\n            totalAcc += result.acc;\n            if (result.restartCount != undefined) {\n                testRestarts += result.restartCount;\n            }\n            chartData.push({\n                x: result.timestamp,\n                y: _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].alwaysShowCPM ? _utils_misc__WEBPACK_IMPORTED_MODULE_14__.roundTo2(result.wpm * 5) : result.wpm,\n                wpm: _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].alwaysShowCPM\n                    ? _utils_misc__WEBPACK_IMPORTED_MODULE_14__.roundTo2(result.wpm * 5)\n                    : result.wpm,\n                acc: result.acc,\n                mode: result.mode,\n                mode2: result.mode2,\n                punctuation: result.punctuation,\n                language: result.language,\n                timestamp: result.timestamp,\n                difficulty: result.difficulty,\n                raw: _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].alwaysShowCPM\n                    ? _utils_misc__WEBPACK_IMPORTED_MODULE_14__.roundTo2(result.rawWpm * 5)\n                    : result.rawWpm,\n            });\n            wpmChartData.push(result.wpm);\n            accChartData.push({\n                x: result.timestamp,\n                y: 100 - result.acc,\n                errorRate: 100 - result.acc,\n            });\n            if (result.wpm > topWpm) {\n                const puncsctring = result.punctuation ? \",<br>with punctuation\" : \"\";\n                const numbsctring = result.numbers\n                    ? \",<br> \" + (result.punctuation ? \"&\" : \"\") + \"with numbers\"\n                    : \"\";\n                topWpm = result.wpm;\n                if (result.mode == \"custom\")\n                    topMode = result.mode;\n                else {\n                    topMode =\n                        result.mode + \" \" + result.mode2 + puncsctring + numbsctring;\n                }\n            }\n            totalWpm += result.wpm;\n        });\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].alwaysShowCPM) {\n            $(\".pageAccount .group.history table thead tr td:nth-child(2)\").text(\"cpm\");\n        }\n        else {\n            $(\".pageAccount .group.history table thead tr td:nth-child(2)\").text(\"wpm\");\n        }\n        loadMoreLines();\n        const activityChartData_amount = [];\n        const activityChartData_time = [];\n        const activityChartData_avgWpm = [];\n        // let lastTimestamp = 0;\n        Object.keys(activityChartData).forEach((date) => {\n            const dateInt = parseInt(date);\n            activityChartData_amount.push({\n                x: dateInt,\n                y: activityChartData[dateInt].amount,\n            });\n            activityChartData_time.push({\n                x: dateInt,\n                y: _utils_misc__WEBPACK_IMPORTED_MODULE_14__.roundTo2(activityChartData[dateInt].time),\n                amount: activityChartData[dateInt].amount,\n            });\n            activityChartData_avgWpm.push({\n                x: dateInt,\n                y: _utils_misc__WEBPACK_IMPORTED_MODULE_14__.roundTo2((_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].alwaysShowCPM\n                    ? activityChartData[dateInt].totalWpm * 5\n                    : activityChartData[dateInt].totalWpm) /\n                    activityChartData[dateInt].amount),\n            });\n            // lastTimestamp = date;\n        });\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].alwaysShowCPM) {\n            _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_3__.accountActivity.options.scales.yAxes[1].scaleLabel.labelString =\n                \"Average Cpm\";\n        }\n        else {\n            _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_3__.accountActivity.options.scales.yAxes[1].scaleLabel.labelString =\n                \"Average Wpm\";\n        }\n        _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_3__.accountActivity.data.datasets[0].data =\n            activityChartData_time;\n        _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_3__.accountActivity.data.datasets[1].data =\n            activityChartData_avgWpm;\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].alwaysShowCPM) {\n            _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_3__.accountHistory.options.scales.yAxes[0].scaleLabel.labelString =\n                \"Characters per Minute\";\n        }\n        else {\n            _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_3__.accountHistory.options.scales.yAxes[0].scaleLabel.labelString =\n                \"Words per Minute\";\n        }\n        _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_3__.accountHistory.data.datasets[0].data = chartData;\n        _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_3__.accountHistory.data.datasets[1].data = accChartData;\n        const wpms = chartData.map((r) => r.y);\n        const minWpmChartVal = Math.min(...wpms);\n        const maxWpmChartVal = Math.max(...wpms);\n        // let accuracies = accChartData.map((r) => r.y);\n        _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_3__.accountHistory.options.scales.yAxes[0].ticks.max =\n            Math.floor(maxWpmChartVal) + (10 - (Math.floor(maxWpmChartVal) % 10));\n        if (!_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].startGraphsAtZero) {\n            _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_3__.accountHistory.options.scales.yAxes[0].ticks.min =\n                Math.floor(minWpmChartVal);\n        }\n        else {\n            _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_3__.accountHistory.options.scales.yAxes[0].ticks.min = 0;\n        }\n        if (chartData == [] || chartData.length == 0) {\n            $(\".pageAccount .group.noDataError\").removeClass(\"hidden\");\n            $(\".pageAccount .group.chart\").addClass(\"hidden\");\n            $(\".pageAccount .group.dailyActivityChart\").addClass(\"hidden\");\n            $(\".pageAccount .group.history\").addClass(\"hidden\");\n            $(\".pageAccount .triplegroup.stats\").addClass(\"hidden\");\n        }\n        else {\n            $(\".pageAccount .group.noDataError\").addClass(\"hidden\");\n            $(\".pageAccount .group.chart\").removeClass(\"hidden\");\n            $(\".pageAccount .group.dailyActivityChart\").removeClass(\"hidden\");\n            $(\".pageAccount .group.history\").removeClass(\"hidden\");\n            $(\".pageAccount .triplegroup.stats\").removeClass(\"hidden\");\n        }\n        $(\".pageAccount .timeTotalFiltered .val\").text(_utils_misc__WEBPACK_IMPORTED_MODULE_14__.secondsToString(Math.round(totalSecondsFiltered), true, true));\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].alwaysShowCPM) {\n            $(\".pageAccount .highestWpm .title\").text(\"highest cpm\");\n            $(\".pageAccount .highestWpm .val\").text(_utils_misc__WEBPACK_IMPORTED_MODULE_14__.roundTo2(topWpm * 5));\n        }\n        else {\n            $(\".pageAccount .highestWpm .title\").text(\"highest wpm\");\n            $(\".pageAccount .highestWpm .val\").text(_utils_misc__WEBPACK_IMPORTED_MODULE_14__.roundTo2(topWpm));\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].alwaysShowCPM) {\n            $(\".pageAccount .averageWpm .title\").text(\"average cpm\");\n            $(\".pageAccount .averageWpm .val\").text(Math.round((totalWpm * 5) / testCount));\n        }\n        else {\n            $(\".pageAccount .averageWpm .title\").text(\"average wpm\");\n            $(\".pageAccount .averageWpm .val\").text(Math.round(totalWpm / testCount));\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].alwaysShowCPM) {\n            $(\".pageAccount .averageWpm10 .title\").text(\"average cpm (last 10 tests)\");\n            $(\".pageAccount .averageWpm10 .val\").text(Math.round((wpmLast10total * 5) / last10));\n        }\n        else {\n            $(\".pageAccount .averageWpm10 .title\").text(\"average wpm (last 10 tests)\");\n            $(\".pageAccount .averageWpm10 .val\").text(Math.round(wpmLast10total / last10));\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].alwaysShowCPM) {\n            $(\".pageAccount .highestRaw .title\").text(\"highest raw cpm\");\n            $(\".pageAccount .highestRaw .val\").text(_utils_misc__WEBPACK_IMPORTED_MODULE_14__.roundTo2(rawWpm.max * 5));\n        }\n        else {\n            $(\".pageAccount .highestRaw .title\").text(\"highest raw wpm\");\n            $(\".pageAccount .highestRaw .val\").text(_utils_misc__WEBPACK_IMPORTED_MODULE_14__.roundTo2(rawWpm.max));\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].alwaysShowCPM) {\n            $(\".pageAccount .averageRaw .title\").text(\"average raw cpm\");\n            $(\".pageAccount .averageRaw .val\").text(Math.round((rawWpm.total * 5) / rawWpm.count));\n        }\n        else {\n            $(\".pageAccount .averageRaw .title\").text(\"average raw wpm\");\n            $(\".pageAccount .averageRaw .val\").text(Math.round(rawWpm.total / rawWpm.count));\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].alwaysShowCPM) {\n            $(\".pageAccount .averageRaw10 .title\").text(\"average raw cpm (last 10 tests)\");\n            $(\".pageAccount .averageRaw10 .val\").text(Math.round((rawWpm.last10Total * 5) / rawWpm.last10Count));\n        }\n        else {\n            $(\".pageAccount .averageRaw10 .title\").text(\"average raw wpm (last 10 tests)\");\n            $(\".pageAccount .averageRaw10 .val\").text(Math.round(rawWpm.last10Total / rawWpm.last10Count));\n        }\n        $(\".pageAccount .highestWpm .mode\").html(topMode);\n        $(\".pageAccount .testsTaken .val\").text(testCount);\n        $(\".pageAccount .highestAcc .val\").text(topAcc + \"%\");\n        $(\".pageAccount .avgAcc .val\").text(Math.round(totalAcc / testCount) + \"%\");\n        $(\".pageAccount .avgAcc10 .val\").text(Math.round(totalAcc10 / last10) + \"%\");\n        if (totalCons == 0 || totalCons == undefined) {\n            $(\".pageAccount .avgCons .val\").text(\"-\");\n            $(\".pageAccount .avgCons10 .val\").text(\"-\");\n        }\n        else {\n            $(\".pageAccount .highestCons .val\").text(topCons + \"%\");\n            $(\".pageAccount .avgCons .val\").text(Math.round(totalCons / consCount) + \"%\");\n            $(\".pageAccount .avgCons10 .val\").text(Math.round(totalCons10 / Math.min(last10, consCount)) + \"%\");\n        }\n        $(\".pageAccount .testsStarted .val\").text(`${testCount + testRestarts}`);\n        $(\".pageAccount .testsCompleted .val\").text(`${testCount}(${Math.floor((testCount / (testCount + testRestarts)) * 100)}%)`);\n        $(\".pageAccount .testsCompleted .avgres\").text(`\n      ${(testRestarts / testCount).toFixed(1)} restarts per completed test\n    `);\n        if (_controllers_chart_controller__WEBPACK_IMPORTED_MODULE_3__.accountHistory.data.datasets[0].data.length > 0) {\n            _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_3__.accountHistory.options.plugins.trendlineLinear = true;\n        }\n        else {\n            _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_3__.accountHistory.options.plugins.trendlineLinear = false;\n        }\n        if (_controllers_chart_controller__WEBPACK_IMPORTED_MODULE_3__.accountActivity.data.datasets[0].data.length > 0) {\n            _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_3__.accountActivity.options.plugins.trendlineLinear = true;\n        }\n        else {\n            _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_3__.accountActivity.options.plugins.trendlineLinear = false;\n        }\n        const wpmPoints = filteredResults.map((r) => r.wpm).reverse();\n        const trend = _utils_misc__WEBPACK_IMPORTED_MODULE_14__.findLineByLeastSquares(wpmPoints);\n        const wpmChange = trend[1][1] - trend[0][1];\n        const wpmChangePerHour = wpmChange * (3600 / totalSecondsFiltered);\n        const plus = wpmChangePerHour > 0 ? \"+\" : \"\";\n        $(\".pageAccount .group.chart .below .text\").text(`Speed change per hour spent typing: ${plus +\n            _utils_misc__WEBPACK_IMPORTED_MODULE_14__.roundTo2(_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].alwaysShowCPM ? wpmChangePerHour * 5 : wpmChangePerHour)} ${_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].alwaysShowCPM ? \"cpm\" : \"wpm\"}.`);\n        applyHistorySmoothing();\n        _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_3__.accountActivity.update();\n        _loading__WEBPACK_IMPORTED_MODULE_8__.updateBar(100, true);\n        setTimeout(() => {\n            if (_states_active_page__WEBPACK_IMPORTED_MODULE_15__.get() == \"account\")\n                _account_sign_out_button__WEBPACK_IMPORTED_MODULE_10__.show();\n        }, 125);\n        _test_focus__WEBPACK_IMPORTED_MODULE_9__.set(false);\n        _utils_misc__WEBPACK_IMPORTED_MODULE_14__.swapElements($(\".pageAccount .preloader\"), $(\".pageAccount .content\"), 250);\n    }\n    if (_db__WEBPACK_IMPORTED_MODULE_0__.getSnapshot() === null) {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_12__.add(`Missing account data. Please refresh.`, -1);\n        $(\".pageAccount .preloader\").html(\"Missing account data. Please refresh.\");\n    }\n    else if (_db__WEBPACK_IMPORTED_MODULE_0__.getSnapshot().results === undefined) {\n        _loading__WEBPACK_IMPORTED_MODULE_8__.updateBar(45, true);\n        _db__WEBPACK_IMPORTED_MODULE_0__.getUserResults().then((d) => {\n            _test_today_tracker__WEBPACK_IMPORTED_MODULE_11__.addAllFromToday();\n            if (d) {\n                _account_result_filters__WEBPACK_IMPORTED_MODULE_1__.updateActive();\n                update();\n            }\n        });\n    }\n    else {\n        console.log(\"using db snap\");\n        try {\n            cont();\n        }\n        catch (e) {\n            console.error(e);\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_12__.add(`Something went wrong: ${e}`, -1);\n        }\n    }\n}\nfunction sortAndRefreshHistory(keyString, headerClass, forceDescending = null) {\n    // Removes styling from previous sorting requests:\n    $(\"td\").removeClass(\"header-sorted\");\n    $(\"td\").children(\"i\").remove();\n    $(headerClass).addClass(\"header-sorted\");\n    if (filteredResults.length < 2)\n        return;\n    const key = keyString;\n    // This allows to reverse the sorting order when clicking multiple times on the table header\n    let descending = true;\n    if (forceDescending !== null) {\n        if (forceDescending == true) {\n            $(headerClass).append('<i class=\"fas fa-sort-down\" aria-hidden=\"true\"></i>');\n        }\n        else {\n            descending = false;\n            $(headerClass).append('<i class=\"fas fa-sort-up\" aria-hidden=\"true\"></i>');\n        }\n    }\n    else if (parseInt(filteredResults[0][key]) <=\n        parseInt(filteredResults[filteredResults.length - 1][key])) {\n        descending = true;\n        $(headerClass).append('<i class=\"fas fa-sort-down\" aria-hidden=\"true\"></i>');\n    }\n    else {\n        descending = false;\n        $(headerClass).append('<i class=\"fas fa-sort-up\", aria-hidden=\"true\"></i>');\n    }\n    const temp = [];\n    const parsedIndexes = [];\n    while (temp.length < filteredResults.length) {\n        let lowest = Number.MAX_VALUE;\n        let highest = -1;\n        let idx = -1;\n        for (let i = 0; i < filteredResults.length; i++) {\n            //find the lowest wpm with index not already parsed\n            if (!descending) {\n                if (filteredResults[i][key] <= lowest &&\n                    !parsedIndexes.includes(i)) {\n                    lowest = filteredResults[i][key];\n                    idx = i;\n                }\n            }\n            else {\n                if (filteredResults[i][key] >= highest &&\n                    !parsedIndexes.includes(i)) {\n                    highest = filteredResults[i][key];\n                    idx = i;\n                }\n            }\n        }\n        temp.push(filteredResults[idx]);\n        parsedIndexes.push(idx);\n    }\n    filteredResults = temp;\n    $(\".pageAccount .history table tbody\").empty();\n    visibleTableLines = 0;\n    loadMoreLines();\n}\n$(\".pageAccount .toggleAccuracyOnChart\").on(\"click\", () => {\n    _config__WEBPACK_IMPORTED_MODULE_4__.setChartAccuracy(!_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].chartAccuracy);\n});\n$(\".pageAccount .toggleChartStyle\").on(\"click\", () => {\n    if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].chartStyle == \"line\") {\n        _config__WEBPACK_IMPORTED_MODULE_4__.setChartStyle(\"scatter\");\n    }\n    else {\n        _config__WEBPACK_IMPORTED_MODULE_4__.setChartStyle(\"line\");\n    }\n});\n$(\".pageAccount .loadMoreButton\").on(\"click\", () => {\n    loadMoreLines();\n});\n$(\".pageAccount #accountHistoryChart\").on(\"click\", () => {\n    var _a, _b, _c;\n    const index = _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_3__.accountHistoryActiveIndex;\n    loadMoreLines(index);\n    if (!window)\n        return;\n    const windowHeight = (_a = $(window).height()) !== null && _a !== void 0 ? _a : 0;\n    const offset = (_c = (_b = $(`#result-${index}`).offset()) === null || _b === void 0 ? void 0 : _b.top) !== null && _c !== void 0 ? _c : 0;\n    const scrollTo = offset - windowHeight / 2;\n    $([document.documentElement, document.body]).animate({\n        scrollTop: scrollTo,\n    }, 500);\n    $(\".resultRow\").removeClass(\"active\");\n    $(`#result-${index}`).addClass(\"active\");\n});\n$(document).on(\"click\", \".pageAccount .miniResultChartButton\", (event) => {\n    var _a;\n    console.log(\"updating\");\n    const filteredId = $(event.currentTarget).attr(\"filteredResultsId\");\n    if (filteredId === undefined)\n        return;\n    _account_mini_result_chart__WEBPACK_IMPORTED_MODULE_5__.updateData(filteredResults[parseInt(filteredId)].chartData);\n    _account_mini_result_chart__WEBPACK_IMPORTED_MODULE_5__.show();\n    _account_mini_result_chart__WEBPACK_IMPORTED_MODULE_5__.updatePosition(event.pageX - ((_a = $(\".pageAccount .miniResultChartWrapper\").outerWidth()) !== null && _a !== void 0 ? _a : 0), event.pageY + 30);\n});\n$(document).on(\"click\", \".history-wpm-header\", () => {\n    sortAndRefreshHistory(\"wpm\", \".history-wpm-header\");\n});\n$(document).on(\"click\", \".history-raw-header\", () => {\n    sortAndRefreshHistory(\"rawWpm\", \".history-raw-header\");\n});\n$(document).on(\"click\", \".history-acc-header\", () => {\n    sortAndRefreshHistory(\"acc\", \".history-acc-header\");\n});\n$(document).on(\"click\", \".history-correct-chars-header\", () => {\n    sortAndRefreshHistory(\"correctChars\", \".history-correct-chars-header\");\n});\n$(document).on(\"click\", \".history-incorrect-chars-header\", () => {\n    sortAndRefreshHistory(\"incorrectChars\", \".history-incorrect-chars-header\");\n});\n$(document).on(\"click\", \".history-consistency-header\", () => {\n    sortAndRefreshHistory(\"consistency\", \".history-consistency-header\");\n});\n$(document).on(\"click\", \".history-date-header\", () => {\n    sortAndRefreshHistory(\"timestamp\", \".history-date-header\");\n});\n// Resets sorting to by date' when applying filers (normal or advanced)\n$(document).on(\"click\", \".buttonsAndTitle .buttons .button\", () => {\n    // We want to 'force' descending sort:\n    sortAndRefreshHistory(\"timestamp\", \".history-date-header\", true);\n});\n$(\".pageAccount .topFilters .button, .pageAccount .filterButtons .button \").click(() => {\n    setTimeout(() => {\n        update();\n    }, 0);\n});\n$(\".pageAccount .content .below .smoothing input\").on(\"input\", () => {\n    applyHistorySmoothing();\n});\n$(\".pageAccount .content .group.aboveHistory .exportCSV\").on(\"click\", () => {\n    _utils_misc__WEBPACK_IMPORTED_MODULE_14__.downloadResultsCSV(filteredResults);\n});\nconst page = new _page__WEBPACK_IMPORTED_MODULE_13__[\"default\"](\"account\", $(\".page.pageAccount\"), \"/account\", () => {\n    _account_sign_out_button__WEBPACK_IMPORTED_MODULE_10__.hide();\n}, () => __awaiter(void 0, void 0, void 0, function* () {\n    reset();\n}), () => {\n    update();\n    // SignOutButton.show();\n}, () => {\n    //\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/pages/account.ts?");

/***/ }),

/***/ "./src/scripts/pages/loading.ts":
/*!**************************************!*\
  !*** ./src/scripts/pages/loading.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"updateBar\": () => (/* binding */ updateBar),\n/* harmony export */   \"updateText\": () => (/* binding */ updateText),\n/* harmony export */   \"showBar\": () => (/* binding */ showBar),\n/* harmony export */   \"page\": () => (/* binding */ page)\n/* harmony export */ });\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _page__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./page */ \"./src/scripts/pages/page.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\nfunction updateBar(percentage, fast) {\n    const speed = fast ? 100 : 1000;\n    $(\".pageLoading .fill, .pageAccount .fill\")\n        .stop(true, true)\n        .animate({\n        width: percentage + \"%\",\n    }, speed);\n}\nfunction updateText(text) {\n    $(\".pageLoading .text, .pageAccount .text\").text(text);\n}\nfunction showBar() {\n    return new Promise((resolve) => {\n        _utils_misc__WEBPACK_IMPORTED_MODULE_0__.swapElements($(\".pageLoading .icon\"), $(\".pageLoading .barWrapper\"), 125, () => {\n            resolve();\n        });\n        _utils_misc__WEBPACK_IMPORTED_MODULE_0__.swapElements($(\".pageAccount .icon\"), $(\".pageAccount .barWrapper\"), 125, () => {\n            resolve();\n        });\n    });\n}\nconst page = new _page__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"loading\", $(\".page.pageLoading\"), \"/\", () => __awaiter(void 0, void 0, void 0, function* () {\n    //\n}), () => __awaiter(void 0, void 0, void 0, function* () {\n    //\n}), () => {\n    //\n}, () => {\n    //\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/pages/loading.ts?");

/***/ }),

/***/ "./src/scripts/pages/login.ts":
/*!************************************!*\
  !*** ./src/scripts/pages/login.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"page\": () => (/* binding */ page)\n/* harmony export */ });\n/* harmony import */ var _page__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./page */ \"./src/scripts/pages/page.ts\");\n\nconst page = new _page__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"login\", $(\".page.pageLogin\"), \"/login\", () => {\n    //\n}, () => {\n    //\n}, () => {\n    //\n}, () => {\n    //\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/pages/login.ts?");

/***/ }),

/***/ "./src/scripts/pages/page.ts":
/*!***********************************!*\
  !*** ./src/scripts/pages/page.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Page)\n/* harmony export */ });\nclass Page {\n    constructor(name, element, pathname, beforeHide, afterHide, beforeShow, afterShow) {\n        this.name = name;\n        this.element = element;\n        this.pathname = pathname;\n        this.beforeHide = beforeHide;\n        this.afterHide = afterHide;\n        this.beforeShow = beforeShow;\n        this.afterShow = afterShow;\n    }\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/pages/page.ts?");

/***/ }),

/***/ "./src/scripts/pages/settings.ts":
/*!***************************************!*\
  !*** ./src/scripts/pages/settings.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"groups\": () => (/* binding */ groups),\n/* harmony export */   \"reset\": () => (/* binding */ reset),\n/* harmony export */   \"fillSettingsPage\": () => (/* binding */ fillSettingsPage),\n/* harmony export */   \"hideAccountSection\": () => (/* binding */ hideAccountSection),\n/* harmony export */   \"updateDiscordSection\": () => (/* binding */ updateDiscordSection),\n/* harmony export */   \"updateAuthSections\": () => (/* binding */ updateAuthSections),\n/* harmony export */   \"showAccountSection\": () => (/* binding */ showAccountSection),\n/* harmony export */   \"update\": () => (/* binding */ update),\n/* harmony export */   \"setEventDisabled\": () => (/* binding */ setEventDisabled),\n/* harmony export */   \"page\": () => (/* binding */ page)\n/* harmony export */ });\n/* harmony import */ var _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../settings/settings-group */ \"./src/scripts/settings/settings-group.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _controllers_sound_controller__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controllers/sound-controller */ \"./src/scripts/controllers/sound-controller.ts\");\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../db */ \"./src/scripts/db.ts\");\n/* harmony import */ var _test_funbox__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../test/funbox */ \"./src/scripts/test/funbox.ts\");\n/* harmony import */ var _controllers_tag_controller__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../controllers/tag-controller */ \"./src/scripts/controllers/tag-controller.ts\");\n/* harmony import */ var _controllers_preset_controller__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../controllers/preset-controller */ \"./src/scripts/controllers/preset-controller.ts\");\n/* harmony import */ var _settings_theme_picker__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../settings/theme-picker */ \"./src/scripts/settings/theme-picker.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../elements/notifications */ \"./src/scripts/elements/notifications.ts\");\n/* harmony import */ var _popups_import_export_settings_popup__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../popups/import-export-settings-popup */ \"./src/scripts/popups/import-export-settings-popup.ts\");\n/* harmony import */ var _observables_config_event__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../observables/config-event */ \"./src/scripts/observables/config-event.ts\");\n/* harmony import */ var _states_active_page__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../states/active-page */ \"./src/scripts/states/active-page.ts\");\n/* harmony import */ var _popups_ape_keys_popup__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../popups/ape-keys-popup */ \"./src/scripts/popups/ape-keys-popup.ts\");\n/* harmony import */ var _page__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./page */ \"./src/scripts/pages/page.ts\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../firebase */ \"./src/scripts/firebase.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst groups = {};\nfunction initGroups() {\n    return __awaiter(this, void 0, void 0, function* () {\n        yield _config__WEBPACK_IMPORTED_MODULE_1__.loadPromise;\n        groups[\"smoothCaret\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"smoothCaret\", _config__WEBPACK_IMPORTED_MODULE_1__.setSmoothCaret, \"button\");\n        groups[\"difficulty\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"difficulty\", _config__WEBPACK_IMPORTED_MODULE_1__.setDifficulty, \"button\");\n        groups[\"quickTab\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"quickTab\", _config__WEBPACK_IMPORTED_MODULE_1__.setQuickTabMode, \"button\");\n        groups[\"showLiveWpm\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"showLiveWpm\", _config__WEBPACK_IMPORTED_MODULE_1__.setShowLiveWpm, \"button\", () => {\n            groups[\"keymapMode\"].updateInput();\n        });\n        groups[\"showLiveAcc\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"showLiveAcc\", _config__WEBPACK_IMPORTED_MODULE_1__.setShowLiveAcc, \"button\");\n        groups[\"showLiveBurst\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"showLiveBurst\", _config__WEBPACK_IMPORTED_MODULE_1__.setShowLiveBurst, \"button\");\n        groups[\"showTimerProgress\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"showTimerProgress\", _config__WEBPACK_IMPORTED_MODULE_1__.setShowTimerProgress, \"button\");\n        groups[\"showAvg\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"showAvg\", _config__WEBPACK_IMPORTED_MODULE_1__.setShowAvg, \"button\");\n        groups[\"keymapMode\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"keymapMode\", _config__WEBPACK_IMPORTED_MODULE_1__.setKeymapMode, \"button\", () => {\n            groups[\"showLiveWpm\"].updateInput();\n        }, () => {\n            if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].keymapMode === \"off\") {\n                $(\".pageSettings .section.keymapStyle\").addClass(\"hidden\");\n                $(\".pageSettings .section.keymapLayout\").addClass(\"hidden\");\n                $(\".pageSettings .section.keymapLegendStyle\").addClass(\"hidden\");\n            }\n            else {\n                $(\".pageSettings .section.keymapStyle\").removeClass(\"hidden\");\n                $(\".pageSettings .section.keymapLayout\").removeClass(\"hidden\");\n                $(\".pageSettings .section.keymapLegendStyle\").removeClass(\"hidden\");\n            }\n        });\n        groups[\"keymapMatrix\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"keymapStyle\", _config__WEBPACK_IMPORTED_MODULE_1__.setKeymapStyle, \"button\");\n        groups[\"keymapLayout\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"keymapLayout\", _config__WEBPACK_IMPORTED_MODULE_1__.setKeymapLayout, \"select\");\n        groups[\"keymapLegendStyle\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"keymapLegendStyle\", _config__WEBPACK_IMPORTED_MODULE_1__.setKeymapLegendStyle, \"button\");\n        groups[\"showKeyTips\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"showKeyTips\", _config__WEBPACK_IMPORTED_MODULE_1__.setKeyTips, \"button\", undefined, () => {\n            if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].showKeyTips) {\n                $(\".pageSettings .tip\").removeClass(\"hidden\");\n            }\n            else {\n                $(\".pageSettings .tip\").addClass(\"hidden\");\n            }\n        });\n        groups[\"freedomMode\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"freedomMode\", _config__WEBPACK_IMPORTED_MODULE_1__.setFreedomMode, \"button\", () => {\n            groups[\"confidenceMode\"].updateInput();\n        });\n        groups[\"strictSpace\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"strictSpace\", _config__WEBPACK_IMPORTED_MODULE_1__.setStrictSpace, \"button\");\n        groups[\"oppositeShiftMode\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"oppositeShiftMode\", _config__WEBPACK_IMPORTED_MODULE_1__.setOppositeShiftMode, \"button\");\n        groups[\"confidenceMode\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"confidenceMode\", _config__WEBPACK_IMPORTED_MODULE_1__.setConfidenceMode, \"button\", () => {\n            groups[\"freedomMode\"].updateInput();\n            groups[\"stopOnError\"].updateInput();\n        });\n        groups[\"indicateTypos\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"indicateTypos\", _config__WEBPACK_IMPORTED_MODULE_1__.setIndicateTypos, \"button\");\n        groups[\"hideExtraLetters\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"hideExtraLetters\", _config__WEBPACK_IMPORTED_MODULE_1__.setHideExtraLetters, \"button\");\n        groups[\"blindMode\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"blindMode\", _config__WEBPACK_IMPORTED_MODULE_1__.setBlindMode, \"button\");\n        groups[\"quickEnd\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"quickEnd\", _config__WEBPACK_IMPORTED_MODULE_1__.setQuickEnd, \"button\");\n        groups[\"repeatQuotes\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"repeatQuotes\", _config__WEBPACK_IMPORTED_MODULE_1__.setRepeatQuotes, \"button\");\n        groups[\"enableAds\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"enableAds\", _config__WEBPACK_IMPORTED_MODULE_1__.setEnableAds, \"button\");\n        groups[\"alwaysShowWordsHistory\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"alwaysShowWordsHistory\", _config__WEBPACK_IMPORTED_MODULE_1__.setAlwaysShowWordsHistory, \"button\");\n        groups[\"britishEnglish\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"britishEnglish\", _config__WEBPACK_IMPORTED_MODULE_1__.setBritishEnglish, \"button\");\n        groups[\"singleListCommandLine\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"singleListCommandLine\", _config__WEBPACK_IMPORTED_MODULE_1__.setSingleListCommandLine, \"button\");\n        groups[\"capsLockWarning\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"capsLockWarning\", _config__WEBPACK_IMPORTED_MODULE_1__.setCapsLockWarning, \"button\");\n        groups[\"flipTestColors\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"flipTestColors\", _config__WEBPACK_IMPORTED_MODULE_1__.setFlipTestColors, \"button\");\n        groups[\"swapEscAndTab\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"swapEscAndTab\", _config__WEBPACK_IMPORTED_MODULE_1__.setSwapEscAndTab, \"button\");\n        groups[\"showOutOfFocusWarning\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"showOutOfFocusWarning\", _config__WEBPACK_IMPORTED_MODULE_1__.setShowOutOfFocusWarning, \"button\");\n        groups[\"colorfulMode\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"colorfulMode\", _config__WEBPACK_IMPORTED_MODULE_1__.setColorfulMode, \"button\");\n        groups[\"startGraphsAtZero\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"startGraphsAtZero\", _config__WEBPACK_IMPORTED_MODULE_1__.setStartGraphsAtZero, \"button\");\n        groups[\"autoSwitchTheme\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"autoSwitchTheme\", _config__WEBPACK_IMPORTED_MODULE_1__.setAutoSwitchTheme, \"button\");\n        groups[\"randomTheme\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"randomTheme\", _config__WEBPACK_IMPORTED_MODULE_1__.setRandomTheme, \"button\");\n        groups[\"stopOnError\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"stopOnError\", _config__WEBPACK_IMPORTED_MODULE_1__.setStopOnError, \"button\", () => {\n            groups[\"confidenceMode\"].updateInput();\n        });\n        groups[\"soundVolume\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"soundVolume\", _config__WEBPACK_IMPORTED_MODULE_1__.setSoundVolume, \"button\");\n        groups[\"playSoundOnError\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"playSoundOnError\", _config__WEBPACK_IMPORTED_MODULE_1__.setPlaySoundOnError, \"button\", () => {\n            if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].playSoundOnError)\n                _controllers_sound_controller__WEBPACK_IMPORTED_MODULE_2__.playError();\n        });\n        groups[\"playSoundOnClick\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"playSoundOnClick\", _config__WEBPACK_IMPORTED_MODULE_1__.setPlaySoundOnClick, \"button\", () => {\n            if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].playSoundOnClick !== \"off\")\n                _controllers_sound_controller__WEBPACK_IMPORTED_MODULE_2__.playClick();\n        });\n        groups[\"showAllLines\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"showAllLines\", _config__WEBPACK_IMPORTED_MODULE_1__.setShowAllLines, \"button\");\n        groups[\"paceCaret\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"paceCaret\", _config__WEBPACK_IMPORTED_MODULE_1__.setPaceCaret, \"button\");\n        groups[\"repeatedPace\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"repeatedPace\", _config__WEBPACK_IMPORTED_MODULE_1__.setRepeatedPace, \"button\");\n        groups[\"minWpm\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"minWpm\", _config__WEBPACK_IMPORTED_MODULE_1__.setMinWpm, \"button\");\n        groups[\"minAcc\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"minAcc\", _config__WEBPACK_IMPORTED_MODULE_1__.setMinAcc, \"button\");\n        groups[\"minBurst\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"minBurst\", _config__WEBPACK_IMPORTED_MODULE_1__.setMinBurst, \"button\");\n        groups[\"smoothLineScroll\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"smoothLineScroll\", _config__WEBPACK_IMPORTED_MODULE_1__.setSmoothLineScroll, \"button\");\n        groups[\"lazyMode\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"lazyMode\", _config__WEBPACK_IMPORTED_MODULE_1__.setLazyMode, \"button\");\n        groups[\"layout\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"layout\", _config__WEBPACK_IMPORTED_MODULE_1__.setLayout, \"select\");\n        groups[\"language\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"language\", _config__WEBPACK_IMPORTED_MODULE_1__.setLanguage, \"select\");\n        groups[\"fontSize\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"fontSize\", _config__WEBPACK_IMPORTED_MODULE_1__.setFontSize, \"button\");\n        groups[\"pageWidth\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"pageWidth\", _config__WEBPACK_IMPORTED_MODULE_1__.setPageWidth, \"button\");\n        groups[\"caretStyle\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"caretStyle\", _config__WEBPACK_IMPORTED_MODULE_1__.setCaretStyle, \"button\");\n        groups[\"paceCaretStyle\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"paceCaretStyle\", _config__WEBPACK_IMPORTED_MODULE_1__.setPaceCaretStyle, \"button\");\n        groups[\"timerStyle\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"timerStyle\", _config__WEBPACK_IMPORTED_MODULE_1__.setTimerStyle, \"button\");\n        groups[\"highlightMode\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"highlightMode\", _config__WEBPACK_IMPORTED_MODULE_1__.setHighlightMode, \"button\");\n        groups[\"timerOpacity\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"timerOpacity\", _config__WEBPACK_IMPORTED_MODULE_1__.setTimerOpacity, \"button\");\n        groups[\"timerColor\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"timerColor\", _config__WEBPACK_IMPORTED_MODULE_1__.setTimerColor, \"button\");\n        groups[\"fontFamily\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"fontFamily\", _config__WEBPACK_IMPORTED_MODULE_1__.setFontFamily, \"button\", undefined, () => {\n            const customButton = $(\".pageSettings .section.fontFamily .buttons .custom\");\n            if ($(\".pageSettings .section.fontFamily .buttons .active\").length === 0) {\n                customButton.addClass(\"active\");\n                customButton.text(`Custom (${_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].fontFamily.replace(/_/g, \" \")})`);\n            }\n            else {\n                customButton.text(\"Custom\");\n            }\n        });\n        groups[\"alwaysShowDecimalPlaces\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"alwaysShowDecimalPlaces\", _config__WEBPACK_IMPORTED_MODULE_1__.setAlwaysShowDecimalPlaces, \"button\");\n        groups[\"alwaysShowCPM\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"alwaysShowCPM\", _config__WEBPACK_IMPORTED_MODULE_1__.setAlwaysShowCPM, \"button\");\n        groups[\"customBackgroundSize\"] = new _settings_settings_group__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"customBackgroundSize\", _config__WEBPACK_IMPORTED_MODULE_1__.setCustomBackgroundSize, \"button\");\n        // groups.customLayoutfluid = new SettingsGroup(\n        //   \"customLayoutfluid\",\n        //   UpdateConfig.setCustomLayoutfluid\n        // );\n    });\n}\nfunction reset() {\n    $(\".pageSettings .section.themes .favThemes.buttons\").empty();\n    $(\".pageSettings .section.themes .allThemes.buttons\").empty();\n    $(\".pageSettings .section.themes .allCustomThemes.buttons\").empty();\n    $(\".pageSettings .section.languageGroups .buttons\").empty();\n    $(\".pageSettings select\").empty().select2(\"destroy\");\n    $(\".pageSettings .section.funbox .buttons\").empty();\n    $(\".pageSettings .section.fontFamily .buttons\").empty();\n}\nlet groupsInitialized = false;\nfunction fillSettingsPage() {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].showKeyTips) {\n            $(\".pageSettings .tip\").removeClass(\"hidden\");\n        }\n        else {\n            $(\".pageSettings .tip\").addClass(\"hidden\");\n        }\n        // Language Selection Combobox\n        const languageEl = $(\".pageSettings .section.language select\").empty();\n        const languageGroups = yield _utils_misc__WEBPACK_IMPORTED_MODULE_3__.getLanguageGroups();\n        languageGroups.forEach((group) => {\n            let langComboBox = `<optgroup label=\"${group.name}\">`;\n            group.languages.forEach((language) => {\n                langComboBox += `<option value=\"${language}\">\n        ${language.replace(/_/g, \" \")}\n      </option>`;\n            });\n            langComboBox += `</optgroup>`;\n            languageEl.append(langComboBox);\n        });\n        languageEl.select2({\n            width: \"100%\",\n        });\n        const layoutEl = $(\".pageSettings .section.layout select\").empty();\n        layoutEl.append(`<option value='default'>off</option>`);\n        Object.keys(yield _utils_misc__WEBPACK_IMPORTED_MODULE_3__.getLayoutsList()).forEach((layout) => {\n            layoutEl.append(`<option value='${layout}'>${layout.replace(/_/g, \" \")}</option>`);\n        });\n        layoutEl.select2({\n            width: \"100%\",\n        });\n        const keymapEl = $(\".pageSettings .section.keymapLayout select\").empty();\n        keymapEl.append(`<option value='overrideSync'>emulator sync</option>`);\n        Object.keys(yield _utils_misc__WEBPACK_IMPORTED_MODULE_3__.getLayoutsList()).forEach((layout) => {\n            if (layout.toString() != \"default\") {\n                keymapEl.append(`<option value='${layout}'>${layout.replace(/_/g, \" \")}</option>`);\n            }\n        });\n        keymapEl.select2({\n            width: \"100%\",\n        });\n        const themeEl1 = $(\".pageSettings .section.autoSwitchThemeInputs select.light\").empty();\n        const themeEl2 = $(\".pageSettings .section.autoSwitchThemeInputs select.dark\").empty();\n        for (const theme of yield _utils_misc__WEBPACK_IMPORTED_MODULE_3__.getThemesList()) {\n            themeEl1.append(`<option value='${theme.name}'>${theme.name.replace(/_/g, \" \")}</option>`);\n            themeEl2.append(`<option value='${theme.name}'>${theme.name.replace(/_/g, \" \")}</option>`);\n        }\n        themeEl1.select2({\n            width: \"100%\",\n        });\n        themeEl2.select2({\n            width: \"100%\",\n        });\n        $(`.pageSettings .section.autoSwitchThemeInputs select.light`)\n            .val(_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].themeLight)\n            .trigger(\"change.select2\");\n        $(`.pageSettings .section.autoSwitchThemeInputs select.dark`)\n            .val(_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].themeDark)\n            .trigger(\"change.select2\");\n        const funboxEl = $(\".pageSettings .section.funbox .buttons\").empty();\n        funboxEl.append(`<div class=\"funbox button\" funbox='none'>none</div>`);\n        _utils_misc__WEBPACK_IMPORTED_MODULE_3__.getFunboxList().then((funboxModes) => {\n            funboxModes.forEach((funbox) => {\n                if (funbox.name === \"mirror\") {\n                    funboxEl.append(`<div class=\"funbox button\" funbox='${funbox.name}' aria-label=\"${funbox.info}\" data-balloon-pos=\"up\" data-balloon-length=\"fit\" type=\"${funbox.type}\" style=\"transform:scaleX(-1);\">${funbox.name.replace(/_/g, \" \")}</div>`);\n                }\n                else {\n                    funboxEl.append(`<div class=\"funbox button\" funbox='${funbox.name}' aria-label=\"${funbox.info}\" data-balloon-pos=\"up\" data-balloon-length=\"fit\" type=\"${funbox.type}\">${funbox.name.replace(/_/g, \" \")}</div>`);\n                }\n            });\n        });\n        let isCustomFont = true;\n        const fontsEl = $(\".pageSettings .section.fontFamily .buttons\").empty();\n        _utils_misc__WEBPACK_IMPORTED_MODULE_3__.getFontsList().then((fonts) => {\n            fonts.forEach((font) => {\n                if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].fontFamily === font.name)\n                    isCustomFont = false;\n                fontsEl.append(`<div class=\"button${_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].fontFamily === font.name ? \" active\" : \"\"}\" style=\"font-family:${font.display !== undefined ? font.display : font.name}\" fontFamily=\"${font.name.replace(/ /g, \"_\")}\" tabindex=\"0\"\n        onclick=\"this.blur();\">${font.display !== undefined ? font.display : font.name}</div>`);\n            });\n            fontsEl.append(isCustomFont\n                ? `<div class=\"button no-auto-handle custom active\" onclick=\"this.blur();\">Custom (${_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].fontFamily.replace(/_/g, \" \")})</div>`\n                : '<div class=\"button no-auto-handle custom\" onclick=\"this.blur();\">Custom</div>');\n        });\n        $(\".pageSettings .section.customBackgroundSize input\").val(_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].customBackground);\n        $(\".pageSettings .section.customLayoutfluid input\").val(_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].customLayoutfluid.replace(/#/g, \" \"));\n        setEventDisabled(true);\n        if (!groupsInitialized) {\n            yield initGroups();\n            groupsInitialized = true;\n        }\n        else {\n            Object.keys(groups).forEach((groupKey) => {\n                groups[groupKey].updateInput();\n            });\n        }\n        setEventDisabled(false);\n        yield _settings_theme_picker__WEBPACK_IMPORTED_MODULE_8__.refreshButtons();\n        yield _config__WEBPACK_IMPORTED_MODULE_1__.loadPromise;\n    });\n}\n// export let settingsFillPromise = fillSettingsPage();\nfunction hideAccountSection() {\n    $(`.sectionGroupTitle[group='account']`).addClass(\"hidden\");\n    $(`.settingsGroup.account`).addClass(\"hidden\");\n    $(`.pageSettings .section.needsAccount`).addClass(\"hidden\");\n}\nfunction updateDiscordSection() {\n    //no code and no discord\n    if (_firebase__WEBPACK_IMPORTED_MODULE_15__.Auth.currentUser == null) {\n        $(\".pageSettings .section.discordIntegration\").addClass(\"hidden\");\n    }\n    else {\n        if (_db__WEBPACK_IMPORTED_MODULE_4__.getSnapshot() == null)\n            return;\n        $(\".pageSettings .section.discordIntegration\").removeClass(\"hidden\");\n        if (_db__WEBPACK_IMPORTED_MODULE_4__.getSnapshot().discordId == undefined) {\n            //show button\n            $(\".pageSettings .section.discordIntegration .buttons\").removeClass(\"hidden\");\n            $(\".pageSettings .section.discordIntegration .info\").addClass(\"hidden\");\n        }\n        else {\n            $(\".pageSettings .section.discordIntegration .buttons\").addClass(\"hidden\");\n            $(\".pageSettings .section.discordIntegration .info\").removeClass(\"hidden\");\n        }\n    }\n}\nfunction updateAuthSections() {\n    $(\".pageSettings .section.passwordAuthSettings .button\").addClass(\"hidden\");\n    $(\".pageSettings .section.googleAuthSettings .button\").addClass(\"hidden\");\n    const user = _firebase__WEBPACK_IMPORTED_MODULE_15__.Auth.currentUser;\n    if (!user)\n        return;\n    const passwordProvider = user.providerData.find((provider) => provider.providerId === \"password\");\n    const googleProvider = user.providerData.find((provider) => provider.providerId === \"google.com\");\n    if (passwordProvider) {\n        $(\".pageSettings .section.passwordAuthSettings #emailPasswordAuth\").removeClass(\"hidden\");\n        $(\".pageSettings .section.passwordAuthSettings #passPasswordAuth\").removeClass(\"hidden\");\n    }\n    else {\n        $(\".pageSettings .section.passwordAuthSettings #addPasswordAuth\").removeClass(\"hidden\");\n    }\n    if (googleProvider) {\n        $(\".pageSettings .section.googleAuthSettings #removeGoogleAuth\").removeClass(\"hidden\");\n        if (passwordProvider) {\n            $(\".pageSettings .section.googleAuthSettings #removeGoogleAuth\").removeClass(\"disabled\");\n        }\n        else {\n            $(\".pageSettings .section.googleAuthSettings #removeGoogleAuth\").addClass(\"disabled\");\n        }\n    }\n    else {\n        $(\".pageSettings .section.googleAuthSettings #addGoogleAuth\").removeClass(\"hidden\");\n    }\n}\nfunction setActiveFunboxButton() {\n    $(`.pageSettings .section.funbox .button`).removeClass(\"active\");\n    $(`.pageSettings .section.funbox .button[funbox='${_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].funbox}']`).addClass(\"active\");\n}\nfunction refreshTagsSettingsSection() {\n    var _a;\n    if (_firebase__WEBPACK_IMPORTED_MODULE_15__.Auth.currentUser !== null && _db__WEBPACK_IMPORTED_MODULE_4__.getSnapshot() !== null) {\n        const tagsEl = $(\".pageSettings .section.tags .tagsList\").empty();\n        (_a = _db__WEBPACK_IMPORTED_MODULE_4__.getSnapshot().tags) === null || _a === void 0 ? void 0 : _a.forEach((tag) => {\n            // let tagPbString = \"No PB found\";\n            // if (tag.pb != undefined && tag.pb > 0) {\n            //   tagPbString = `PB: ${tag.pb}`;\n            // }\n            tagsEl.append(`\n\n      <div class=\"buttons tag\" id=\"${tag._id}\">\n        <div class=\"button tagButton ${tag.active ? \"active\" : \"\"}\" active=\"${tag.active}\">\n          <div class=\"title\">${tag.name}</div>\n        </div>\n        <div class=\"clearPbButton button\">\n          <i class=\"fas fa-crown fa-fw\"></i>\n        </div>\n        <div class=\"editButton button\">\n          <i class=\"fas fa-pen fa-fw\"></i>\n        </div>\n        <div class=\"removeButton button\">\n          <i class=\"fas fa-trash fa-fw\"></i>\n        </div>\n      </div>\n\n      `);\n        });\n        $(\".pageSettings .section.tags\").removeClass(\"hidden\");\n    }\n    else {\n        $(\".pageSettings .section.tags\").addClass(\"hidden\");\n    }\n}\nfunction refreshPresetsSettingsSection() {\n    var _a;\n    if (_firebase__WEBPACK_IMPORTED_MODULE_15__.Auth.currentUser !== null && _db__WEBPACK_IMPORTED_MODULE_4__.getSnapshot() !== null) {\n        const presetsEl = $(\".pageSettings .section.presets .presetsList\").empty();\n        (_a = _db__WEBPACK_IMPORTED_MODULE_4__.getSnapshot().presets) === null || _a === void 0 ? void 0 : _a.forEach((preset) => {\n            presetsEl.append(`\n      <div class=\"buttons preset\" id=\"${preset._id}\">\n        <div class=\"button presetButton\">\n          <div class=\"title\">${preset.name}</div>\n        </div>\n        <div class=\"editButton button\">\n          <i class=\"fas fa-pen fa-fw\"></i>\n        </div>\n        <div class=\"removeButton button\">\n          <i class=\"fas fa-trash fa-fw\"></i>\n        </div>\n      </div>\n      \n      `);\n        });\n        $(\".pageSettings .section.presets\").removeClass(\"hidden\");\n    }\n    else {\n        $(\".pageSettings .section.presets\").addClass(\"hidden\");\n    }\n}\nfunction showAccountSection() {\n    $(`.sectionGroupTitle[group='account']`).removeClass(\"hidden\");\n    $(`.settingsGroup.account`).removeClass(\"hidden\");\n    $(`.pageSettings .section.needsAccount`).removeClass(\"hidden\");\n    refreshTagsSettingsSection();\n    refreshPresetsSettingsSection();\n    updateDiscordSection();\n}\nfunction update() {\n    Object.keys(groups).forEach((group) => {\n        groups[group].updateInput();\n    });\n    refreshTagsSettingsSection();\n    refreshPresetsSettingsSection();\n    // LanguagePicker.setActiveGroup(); Shifted from grouped btns to combo-box\n    setActiveFunboxButton();\n    _settings_theme_picker__WEBPACK_IMPORTED_MODULE_8__.updateActiveTab(true);\n    _settings_theme_picker__WEBPACK_IMPORTED_MODULE_8__.setCustomInputs(true);\n    updateDiscordSection();\n    updateAuthSections();\n    // ThemePicker.updateActiveButton();\n    $(\".pageSettings .section.paceCaret input.customPaceCaretSpeed\").val(_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].paceCaretCustomSpeed);\n    $(\".pageSettings .section.minWpm input.customMinWpmSpeed\").val(_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].minWpmCustomSpeed);\n    $(\".pageSettings .section.minAcc input.customMinAcc\").val(_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].minAccCustom);\n    $(\".pageSettings .section.minBurst input.customMinBurst\").val(_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].minBurstCustomSpeed);\n    if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].autoSwitchTheme) {\n        $(\".pageSettings .section.autoSwitchThemeInputs\").removeClass(\"hidden\");\n    }\n    else {\n        $(\".pageSettings .section.autoSwitchThemeInputs\").addClass(\"hidden\");\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].customBackground !== \"\") {\n        $(\".pageSettings .section.customBackgroundFilter\").removeClass(\"hidden\");\n    }\n    else {\n        $(\".pageSettings .section.customBackgroundFilter\").addClass(\"hidden\");\n    }\n}\nfunction toggleSettingsGroup(groupName) {\n    $(`.pageSettings .settingsGroup.${groupName}`)\n        .stop(true, true)\n        .slideToggle(250)\n        .toggleClass(\"slideup\");\n    if ($(`.pageSettings .settingsGroup.${groupName}`).hasClass(\"slideup\")) {\n        $(`.pageSettings .sectionGroupTitle[group=${groupName}] .fas`)\n            .stop(true, true)\n            .animate({\n            deg: -90,\n        }, {\n            duration: 250,\n            step: function (now) {\n                $(this).css({\n                    transform: \"rotate(\" + now + \"deg)\",\n                });\n            },\n        });\n    }\n    else {\n        $(`.pageSettings .sectionGroupTitle[group=${groupName}] .fas`)\n            .stop(true, true)\n            .animate({\n            deg: 0,\n        }, {\n            duration: 250,\n            step: function (now) {\n                $(this).css({\n                    transform: \"rotate(\" + now + \"deg)\",\n                });\n            },\n        });\n    }\n}\n$(document).on(\"focusout\", \".pageSettings .section.paceCaret input.customPaceCaretSpeed\", () => {\n    _config__WEBPACK_IMPORTED_MODULE_1__.setPaceCaretCustomSpeed(parseInt($(\".pageSettings .section.paceCaret input.customPaceCaretSpeed\").val()));\n});\n$(document).on(\"click\", \".pageSettings .section.paceCaret .button.save\", () => {\n    _config__WEBPACK_IMPORTED_MODULE_1__.setPaceCaretCustomSpeed(parseInt($(\".pageSettings .section.paceCaret input.customPaceCaretSpeed\").val()));\n});\n$(document).on(\"focusout\", \".pageSettings .section.minWpm input.customMinWpmSpeed\", () => {\n    _config__WEBPACK_IMPORTED_MODULE_1__.setMinWpmCustomSpeed(parseInt($(\".pageSettings .section.minWpm input.customMinWpmSpeed\").val()));\n});\n$(document).on(\"click\", \".pageSettings .section.minWpm .button.save\", () => {\n    _config__WEBPACK_IMPORTED_MODULE_1__.setMinWpmCustomSpeed(parseInt($(\".pageSettings .section.minWpm input.customMinWpmSpeed\").val()));\n});\n$(document).on(\"focusout\", \".pageSettings .section.minAcc input.customMinAcc\", () => {\n    _config__WEBPACK_IMPORTED_MODULE_1__.setMinAccCustom(parseInt($(\".pageSettings .section.minAcc input.customMinAcc\").val()));\n});\n$(document).on(\"click\", \".pageSettings .section.minAcc .button.save\", () => {\n    _config__WEBPACK_IMPORTED_MODULE_1__.setMinAccCustom(parseInt($(\".pageSettings .section.minAcc input.customMinAcc\").val()));\n});\n$(document).on(\"focusout\", \".pageSettings .section.minBurst input.customMinBurst\", () => {\n    _config__WEBPACK_IMPORTED_MODULE_1__.setMinBurstCustomSpeed(parseInt($(\".pageSettings .section.minBurst input.customMinBurst\").val()));\n});\n$(document).on(\"click\", \".pageSettings .section.minBurst .button.save\", () => {\n    _config__WEBPACK_IMPORTED_MODULE_1__.setMinBurstCustomSpeed(parseInt($(\".pageSettings .section.minBurst input.customMinBurst\").val()));\n});\n// Commented because started using combo-box for choosing languages instead of grouped buttons\n// languages\n// $(document).on(\n//   \"click\",\n//   \".pageSettings .section.languageGroups .button\",\n//   (e) => {\n//     const group = $(e.currentTarget).attr(\"group\");\n//     LanguagePicker.setActiveGroup(group, true);\n//   }\n// );\n//funbox\n$(document).on(\"click\", \".pageSettings .section.funbox .button\", (e) => {\n    const funbox = $(e.currentTarget).attr(\"funbox\");\n    const type = $(e.currentTarget).attr(\"type\");\n    _test_funbox__WEBPACK_IMPORTED_MODULE_5__.setFunbox(funbox, type);\n    setActiveFunboxButton();\n});\n//tags\n$(document).on(\"click\", \".pageSettings .section.tags .tagsList .tag .tagButton\", (e) => {\n    const target = e.currentTarget;\n    const tagid = $(target).parent(\".tag\").attr(\"id\");\n    _controllers_tag_controller__WEBPACK_IMPORTED_MODULE_6__.toggle(tagid);\n    $(target).toggleClass(\"active\");\n});\n$(document).on(\"click\", \".pageSettings .section.presets .presetsList .preset .presetButton\", (e) => {\n    const target = e.currentTarget;\n    const presetid = $(target).parent(\".preset\").attr(\"id\");\n    console.log(\"Applying Preset\");\n    configEventDisabled = true;\n    _controllers_preset_controller__WEBPACK_IMPORTED_MODULE_7__.apply(presetid);\n    configEventDisabled = false;\n    update();\n});\n$(\"#importSettingsButton\").on(\"click\", () => {\n    _popups_import_export_settings_popup__WEBPACK_IMPORTED_MODULE_10__.show(\"import\");\n});\n$(\"#exportSettingsButton\").on(\"click\", () => {\n    const configJSON = JSON.stringify(_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n    navigator.clipboard.writeText(configJSON).then(function () {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_9__.add(\"JSON Copied to clipboard\", 0);\n    }, function () {\n        _popups_import_export_settings_popup__WEBPACK_IMPORTED_MODULE_10__.show(\"export\");\n    });\n});\n$(\".pageSettings .sectionGroupTitle\").on(\"click\", (e) => {\n    toggleSettingsGroup($(e.currentTarget).attr(\"group\"));\n});\n$(\".pageSettings .section.apeKeys #showApeKeysPopup\").on(\"click\", () => {\n    _popups_ape_keys_popup__WEBPACK_IMPORTED_MODULE_13__.show();\n});\n$(\".pageSettings .section.customBackgroundSize .inputAndButton .save\").on(\"click\", () => {\n    _config__WEBPACK_IMPORTED_MODULE_1__.setCustomBackground($(\".pageSettings .section.customBackgroundSize .inputAndButton input\").val());\n});\n$(\".pageSettings .section.customBackgroundSize .inputAndButton input\").keypress((e) => {\n    if (e.key === \"Enter\") {\n        _config__WEBPACK_IMPORTED_MODULE_1__.setCustomBackground($(\".pageSettings .section.customBackgroundSize .inputAndButton input\").val());\n    }\n});\n$(\".pageSettings .section.customLayoutfluid .inputAndButton .save\").on(\"click\", () => {\n    _config__WEBPACK_IMPORTED_MODULE_1__.setCustomLayoutfluid($(\".pageSettings .section.customLayoutfluid .inputAndButton input\").val()).then((bool) => {\n        if (bool) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_9__.add(\"Custom layoutfluid saved\", 1);\n        }\n    });\n});\n$(\".pageSettings .section.customLayoutfluid .inputAndButton .input\").keypress((e) => {\n    if (e.key === \"Enter\") {\n        _config__WEBPACK_IMPORTED_MODULE_1__.setCustomLayoutfluid($(\".pageSettings .section.customLayoutfluid .inputAndButton input\").val()).then((bool) => {\n            if (bool) {\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_9__.add(\"Custom layoutfluid saved\", 1);\n            }\n        });\n    }\n});\n$(\".quickNav .links a\").on(\"click\", (e) => {\n    const settingsGroup = e.target.innerText;\n    const isOpen = $(`.pageSettings .settingsGroup.${settingsGroup}`).hasClass(\"slideup\");\n    isOpen && toggleSettingsGroup(settingsGroup);\n});\n$(document).on(\"change\", `.pageSettings .section.autoSwitchThemeInputs select.light`, (e) => {\n    const target = $(e.currentTarget);\n    if (target.hasClass(\"disabled\") || target.hasClass(\"no-auto-handle\")) {\n        return;\n    }\n    _config__WEBPACK_IMPORTED_MODULE_1__.setThemeLight(target.val());\n});\n$(document).on(\"change\", `.pageSettings .section.autoSwitchThemeInputs select.dark`, (e) => {\n    const target = $(e.currentTarget);\n    if (target.hasClass(\"disabled\") || target.hasClass(\"no-auto-handle\")) {\n        return;\n    }\n    _config__WEBPACK_IMPORTED_MODULE_1__.setThemeDark(target.val());\n});\nlet configEventDisabled = false;\nfunction setEventDisabled(value) {\n    configEventDisabled = value;\n}\n_observables_config_event__WEBPACK_IMPORTED_MODULE_11__.subscribe((eventKey) => {\n    if (eventKey === \"fullConfigChange\")\n        setEventDisabled(true);\n    if (eventKey === \"fullConfigChangeFinished\") {\n        setEventDisabled(false);\n    }\n    if (configEventDisabled || eventKey === \"saveToLocalStorage\")\n        return;\n    if (_states_active_page__WEBPACK_IMPORTED_MODULE_12__.get() === \"settings\" && eventKey !== \"theme\") {\n        update();\n    }\n});\nconst page = new _page__WEBPACK_IMPORTED_MODULE_14__[\"default\"](\"settings\", $(\".page.pageSettings\"), \"/settings\", () => {\n    //\n}, () => __awaiter(void 0, void 0, void 0, function* () {\n    reset();\n}), () => __awaiter(void 0, void 0, void 0, function* () {\n    yield fillSettingsPage();\n    update();\n}), () => {\n    //\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/pages/settings.ts?");

/***/ }),

/***/ "./src/scripts/pages/test.ts":
/*!***********************************!*\
  !*** ./src/scripts/pages/test.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"page\": () => (/* binding */ page)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _test_test_stats__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../test/test-stats */ \"./src/scripts/test/test-stats.ts\");\n/* harmony import */ var _test_test_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../test/test-ui */ \"./src/scripts/test/test-ui.ts\");\n/* harmony import */ var _test_manual_restart_tracker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../test/manual-restart-tracker */ \"./src/scripts/test/manual-restart-tracker.ts\");\n/* harmony import */ var _test_test_config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../test/test-config */ \"./src/scripts/test/test-config.ts\");\n/* harmony import */ var _test_test_logic__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../test/test-logic */ \"./src/scripts/test/test-logic.ts\");\n/* harmony import */ var _test_funbox__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../test/funbox */ \"./src/scripts/test/funbox.ts\");\n/* harmony import */ var _page__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./page */ \"./src/scripts/pages/page.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\n\n\nconst page = new _page__WEBPACK_IMPORTED_MODULE_7__[\"default\"](\"test\", $(\".page.pageTest\"), \"/\", () => __awaiter(void 0, void 0, void 0, function* () {\n    _test_test_logic__WEBPACK_IMPORTED_MODULE_5__.restart();\n    _test_funbox__WEBPACK_IMPORTED_MODULE_6__.clear();\n    _test_test_config__WEBPACK_IMPORTED_MODULE_4__.hide();\n    $(\"#wordsInput\").focusout();\n}), () => __awaiter(void 0, void 0, void 0, function* () {\n    //\n}), () => {\n    _test_test_config__WEBPACK_IMPORTED_MODULE_4__.show();\n    _test_test_stats__WEBPACK_IMPORTED_MODULE_1__.resetIncomplete();\n    _test_manual_restart_tracker__WEBPACK_IMPORTED_MODULE_3__.set();\n    _test_test_logic__WEBPACK_IMPORTED_MODULE_5__.restart(undefined, undefined, undefined, undefined, true);\n    _test_funbox__WEBPACK_IMPORTED_MODULE_6__.activate(_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].funbox);\n}, () => {\n    _test_test_ui__WEBPACK_IMPORTED_MODULE_2__.focusWords();\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/pages/test.ts?");

/***/ }),

/***/ "./src/scripts/popups/ape-keys-popup.ts":
/*!**********************************************!*\
  !*** ./src/scripts/popups/ape-keys-popup.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"hide\": () => (/* binding */ hide),\n/* harmony export */   \"show\": () => (/* binding */ show)\n/* harmony export */ });\n/* harmony import */ var _ape__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ape */ \"./src/scripts/ape/index.ts\");\n/* harmony import */ var _elements_loader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../elements/loader */ \"./src/scripts/elements/loader.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../elements/notifications */ \"./src/scripts/elements/notifications.ts\");\n/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! date-fns */ \"./node_modules/date-fns/esm/format/index.js\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\nlet apeKeys = {};\nfunction getData() {\n    return __awaiter(this, void 0, void 0, function* () {\n        _elements_loader__WEBPACK_IMPORTED_MODULE_1__.show();\n        const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].apeKeys.get();\n        _elements_loader__WEBPACK_IMPORTED_MODULE_1__.hide();\n        if (response.status !== 200) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Error getting ape keys: \" + response.message, -1);\n            return undefined;\n        }\n        apeKeys = response.data;\n    });\n}\nfunction refreshList() {\n    const data = apeKeys;\n    if (!data)\n        return;\n    const table = $(\"#apeKeysPopupWrapper table tbody\");\n    table.empty();\n    const apeKeyIds = Object.keys(data);\n    if (apeKeyIds.length === 0) {\n        table.append(\"<tr><td colspan='6' style='text-align: center;'>No keys found</td></tr>\");\n        return;\n    }\n    apeKeyIds.forEach((apeKeyId) => {\n        const key = data[apeKeyId];\n        table.append(`\n      <tr keyId=\"${apeKeyId}\">\n        <td>\n          <div class=\"icon-button\">\n            ${key.enabled\n            ? `<i class=\"fas fa-check-square\"></i>`\n            : `<i class=\"far fa-fw fa-square\"></i>`}\n          </div>\n        </td>\n        <td>${key.name}</td>\n        <td>${(0,date_fns__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(new Date(key.createdOn), \"dd MMM yyyy HH:mm\")}</td>\n        <td>${(0,date_fns__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(new Date(key.modifiedOn), \"dd MMM yyyy HH:mm\")}</td>\n        <td>${key.lastUsedOn === -1\n            ? \"-\"\n            : (0,date_fns__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(new Date(key.lastUsedOn), \"dd MMM yyyy HH:mm\")}</td>\n        <td>\n          <div class=\"keyButtons\">\n            <div class=\"button edit\">\n              <i class=\"fas fa-fw fa-pen\"></i>\n            </div>\n            <div class=\"button delete\">\n              <i class=\"fas fa-fw fa-trash-alt\"></i>\n            </div>\n          </div>\n        </td>\n      </tr>\n    `);\n    });\n}\nfunction hide() {\n    if (!$(\"#apeKeysPopupWrapper\").hasClass(\"hidden\")) {\n        $(\"#apeKeysPopupWrapper\")\n            .stop(true, true)\n            .css(\"opacity\", 1)\n            .animate({\n            opacity: 0,\n        }, 100, () => {\n            $(\"#apeKeysPopupWrapper\").addClass(\"hidden\");\n        });\n    }\n}\n//show the popup\nfunction show() {\n    return __awaiter(this, void 0, void 0, function* () {\n        if ($(\"#apeKeysPopupWrapper\").hasClass(\"hidden\")) {\n            yield getData();\n            refreshList();\n            $(\"#apeKeysPopupWrapper\")\n                .stop(true, true)\n                .css(\"opacity\", 0)\n                .removeClass(\"hidden\")\n                .animate({\n                opacity: 1,\n            }, 100, () => {\n                $(\"#apeKeysPopup textarea\").trigger(\"focus\").select();\n            });\n        }\n    });\n}\n$(\"#apeKeysPopupWrapper\").on(\"mousedown\", (e) => {\n    if ($(e.target).attr(\"id\") === \"apeKeysPopupWrapper\") {\n        hide();\n    }\n});\n$(\"#apeKeysPopup .generateApeKey\").on(\"click\", () => {\n    hide();\n});\n$(document).on(\"click\", \"#apeKeysPopup table .keyButtons .button\", () => {\n    hide();\n});\n$(document).on(\"click\", \"#apeKeysPopup table .icon-button\", (e) => __awaiter(void 0, void 0, void 0, function* () {\n    const keyId = $(e.target).closest(\"tr\").attr(\"keyId\");\n    const key = apeKeys === null || apeKeys === void 0 ? void 0 : apeKeys[keyId];\n    if (!key || !apeKeys)\n        return;\n    _elements_loader__WEBPACK_IMPORTED_MODULE_1__.show();\n    const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].apeKeys.update(keyId, { enabled: !key.enabled });\n    _elements_loader__WEBPACK_IMPORTED_MODULE_1__.hide();\n    if (response.status !== 200) {\n        return _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Failed to update key: \" + response.message, -1);\n    }\n    apeKeys[keyId].enabled = !key.enabled;\n    refreshList();\n    if (key.enabled) {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Key active\", 1);\n    }\n    else {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Key inactive\", 1);\n    }\n}));\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/popups/ape-keys-popup.ts?");

/***/ }),

/***/ "./src/scripts/popups/contact-popup.ts":
/*!*********************************************!*\
  !*** ./src/scripts/popups/contact-popup.ts ***!
  \*********************************************/
/***/ (() => {

"use strict";
eval("\n$(document.body).on(\"click\", \"#contactPopupButton\", () => {\n    $(\"#contactPopupWrapper\")\n        .css(\"opacity\", 0)\n        .removeClass(\"hidden\")\n        .animate({ opacity: 1 }, 125);\n});\n$(document.body).on(\"click\", \"#contactPopupWrapper\", (e) => {\n    if ($(e.target).attr(\"id\") === \"contactPopupWrapper\") {\n        $(\"#contactPopupWrapper\")\n            .css(\"opacity\", 1)\n            .animate({ opacity: 0 }, 125, () => {\n            $(\"#contactPopupWrapper\").addClass(\"hidden\");\n        });\n    }\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/popups/contact-popup.ts?");

/***/ }),

/***/ "./src/scripts/popups/custom-test-duration-popup.ts":
/*!**********************************************************!*\
  !*** ./src/scripts/popups/custom-test-duration-popup.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"show\": () => (/* binding */ show),\n/* harmony export */   \"hide\": () => (/* binding */ hide)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _test_manual_restart_tracker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../test/manual-restart-tracker */ \"./src/scripts/test/manual-restart-tracker.ts\");\n/* harmony import */ var _test_test_logic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../test/test-logic */ \"./src/scripts/test/test-logic.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../elements/notifications */ \"./src/scripts/elements/notifications.ts\");\n\n\n\n\nfunction parseInput(input) {\n    const re = /((-\\s*)?\\d+(\\.\\d+)?\\s*[hms]?)/g;\n    const seconds = [...input.toLowerCase().matchAll(re)]\n        .map((match) => {\n        const part = match[0];\n        const duration = parseFloat(part.replace(/\\s+/g, \"\"));\n        if (part.includes(\"h\")) {\n            return 3600 * duration;\n        }\n        else if (part.includes(\"m\")) {\n            return 60 * duration;\n        }\n        else {\n            return duration;\n        }\n    })\n        .reduce((total, dur) => total + dur, 0);\n    return Math.floor(seconds);\n}\nfunction format(duration) {\n    const hours = Math.floor(duration / 3600);\n    const minutes = Math.floor((duration % 3600) / 60);\n    const seconds = (duration % 3600) % 60;\n    const time = [];\n    if (hours > 0) {\n        time.push(`${hours} hour${hours === 1 ? \"\" : \"s\"}`);\n    }\n    if (minutes > 0) {\n        time.push(`${minutes} minute${minutes === 1 ? \"\" : \"s\"}`);\n    }\n    if (seconds > 0) {\n        time.push(`${seconds} second${seconds === 1 ? \"\" : \"s\"}`);\n    }\n    if (time.length === 3) {\n        return `${time[0]}, ${time[1]} and ${time[2]}`;\n    }\n    else if (time.length === 2) {\n        return `${time[0]} and ${time[1]}`;\n    }\n    else {\n        return `${time[0]}`;\n    }\n}\nfunction previewDuration() {\n    const input = $(\"#customTestDurationPopup input\").val();\n    const duration = parseInput(input);\n    let formattedDuration = \"\";\n    if (duration < 0) {\n        formattedDuration = \"NEGATIVE TIME\";\n    }\n    else if (duration == 0) {\n        formattedDuration = \"Infinite test\";\n    }\n    else {\n        formattedDuration = \"Total time: \" + format(duration);\n    }\n    $(\"#customTestDurationPopup .preview\").text(formattedDuration);\n}\nfunction show() {\n    if ($(\"#customTestDurationPopupWrapper\").hasClass(\"hidden\")) {\n        $(\"#customTestDurationPopupWrapper\")\n            .stop(true, true)\n            .css(\"opacity\", 0)\n            .removeClass(\"hidden\")\n            .animate({ opacity: 1 }, 100, () => {\n            $(\"#customTestDurationPopup input\").trigger(\"focus\").select();\n        });\n    }\n    previewDuration();\n}\nfunction hide() {\n    if (!$(\"#customTestDurationPopupWrapper\").hasClass(\"hidden\")) {\n        $(\"#customTestDurationPopupWrapper\")\n            .stop(true, true)\n            .css(\"opacity\", 1)\n            .animate({\n            opacity: 0,\n        }, 100, () => {\n            $(\"#customTestDurationPopupWrapper\").addClass(\"hidden\");\n        });\n    }\n}\nfunction apply() {\n    const val = parseInput($(\"#customTestDurationPopup input\").val());\n    if (val !== null && !isNaN(val) && val >= 0) {\n        _config__WEBPACK_IMPORTED_MODULE_0__.setTimeConfig(val);\n        _test_manual_restart_tracker__WEBPACK_IMPORTED_MODULE_1__.set();\n        _test_test_logic__WEBPACK_IMPORTED_MODULE_2__.restart();\n        if (val >= 1800) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_3__.add(\"Stay safe and take breaks!\", 0);\n        }\n        else if (val == 0) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_3__.add(\"Infinite time! Make sure to use Bail Out from the command line to save your result.\", 0, 7);\n        }\n    }\n    else {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_3__.add(\"Custom time must be at least 1\", 0);\n    }\n    hide();\n}\n$(\"#customTestDurationPopupWrapper\").on(\"click\", (e) => {\n    if ($(e.target).attr(\"id\") === \"customTestDurationPopupWrapper\") {\n        hide();\n    }\n});\n$(\"#customTestDurationPopup input\").keyup((e) => {\n    previewDuration();\n    if (e.key === \"Enter\") {\n        apply();\n    }\n});\n$(\"#customTestDurationPopup .button\").on(\"click\", () => {\n    apply();\n});\n$(document).on(\"click\", \"#top .config .time .text-button\", (e) => {\n    const mode = $(e.currentTarget).attr(\"timeConfig\");\n    if (mode == \"custom\") {\n        show();\n    }\n});\n$(document).on(\"keydown\", (event) => {\n    if (event.key === \"Escape\" &&\n        !$(\"#customTestDurationPopupWrapper\").hasClass(\"hidden\")) {\n        hide();\n        event.preventDefault();\n    }\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/popups/custom-test-duration-popup.ts?");

/***/ }),

/***/ "./src/scripts/popups/custom-text-popup.ts":
/*!*************************************************!*\
  !*** ./src/scripts/popups/custom-text-popup.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"show\": () => (/* binding */ show),\n/* harmony export */   \"hide\": () => (/* binding */ hide),\n/* harmony export */   \"isVisible\": () => (/* binding */ isVisible)\n/* harmony export */ });\n/* harmony import */ var _test_custom_text__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../test/custom-text */ \"./src/scripts/test/custom-text.ts\");\n/* harmony import */ var _test_manual_restart_tracker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../test/manual-restart-tracker */ \"./src/scripts/test/manual-restart-tracker.ts\");\n/* harmony import */ var _test_test_logic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../test/test-logic */ \"./src/scripts/test/test-logic.ts\");\n/* harmony import */ var _controllers_challenge_controller__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../controllers/challenge-controller */ \"./src/scripts/controllers/challenge-controller.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _word_filter_popup__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./word-filter-popup */ \"./src/scripts/popups/word-filter-popup.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../elements/notifications */ \"./src/scripts/elements/notifications.ts\");\n/* harmony import */ var _saved_texts_popup__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./saved-texts-popup */ \"./src/scripts/popups/saved-texts-popup.ts\");\n\n\n\n\n\n\n\n\n\nconst wrapper = \"#customTextPopupWrapper\";\nconst popup = \"#customTextPopup\";\nfunction show() {\n    if ($(wrapper).hasClass(\"hidden\")) {\n        if ($(`${popup} .checkbox input`).prop(\"checked\")) {\n            $(`${popup} .inputs .randomInputFields`).removeClass(\"hidden\");\n        }\n        else {\n            $(`${popup} .inputs .randomInputFields`).addClass(\"hidden\");\n        }\n        $(wrapper)\n            .stop(true, true)\n            .css(\"opacity\", 0)\n            .removeClass(\"hidden\")\n            .animate({ opacity: 1 }, 100, () => {\n            let newtext = _test_custom_text__WEBPACK_IMPORTED_MODULE_0__.text.join(_test_custom_text__WEBPACK_IMPORTED_MODULE_0__.delimiter);\n            newtext = newtext.replace(/\\n /g, \"\\n\");\n            $(`${popup} textarea`).val(newtext);\n            $(`${popup} .wordcount input`).val(_test_custom_text__WEBPACK_IMPORTED_MODULE_0__.word === -1 ? \"\" : _test_custom_text__WEBPACK_IMPORTED_MODULE_0__.word);\n            $(`${popup} .time input`).val(_test_custom_text__WEBPACK_IMPORTED_MODULE_0__.time === -1 ? \"\" : _test_custom_text__WEBPACK_IMPORTED_MODULE_0__.time);\n            $(`${popup} textarea`).trigger(\"focus\");\n        });\n    }\n    setTimeout(() => {\n        $(`${popup} textarea`).trigger(\"focus\");\n    }, 150);\n}\n$(`${popup} .delimiterCheck input`).change(() => {\n    let delimiter;\n    if ($(`${popup} .delimiterCheck input`).prop(\"checked\")) {\n        delimiter = \"|\";\n    }\n    else {\n        delimiter = \" \";\n    }\n    if ($(`${popup} textarea`).val() != _test_custom_text__WEBPACK_IMPORTED_MODULE_0__.text.join(_test_custom_text__WEBPACK_IMPORTED_MODULE_0__.delimiter)) {\n        const currentText = $(`${popup} textarea`).val();\n        const currentTextSplit = currentText.split(_test_custom_text__WEBPACK_IMPORTED_MODULE_0__.delimiter);\n        let newtext = currentTextSplit.join(delimiter);\n        newtext = newtext.replace(/\\n /g, \"\\n\");\n        $(`${popup} textarea`).val(newtext);\n    }\n    else {\n        let newtext = _test_custom_text__WEBPACK_IMPORTED_MODULE_0__.text.join(delimiter);\n        newtext = newtext.replace(/\\n /g, \"\\n\");\n        $(`${popup} textarea`).val(newtext);\n    }\n    _test_custom_text__WEBPACK_IMPORTED_MODULE_0__.setDelimiter(delimiter);\n});\nfunction hide() {\n    if (!$(wrapper).hasClass(\"hidden\")) {\n        $(wrapper)\n            .stop(true, true)\n            .css(\"opacity\", 1)\n            .animate({\n            opacity: 0,\n        }, 100, () => {\n            $(wrapper).addClass(\"hidden\");\n        });\n    }\n}\nfunction isVisible() {\n    return !$(wrapper).hasClass(\"hidden\");\n}\n$(wrapper).mousedown((e) => {\n    if ($(e.target).attr(\"id\") === \"customTextPopupWrapper\") {\n        hide();\n    }\n});\n$(`${popup} .inputs .checkbox input`).change(() => {\n    if ($(`${popup} .checkbox input`).prop(\"checked\")) {\n        $(`${popup} .inputs .randomInputFields`).removeClass(\"hidden\");\n    }\n    else {\n        $(`${popup} .inputs .randomInputFields`).addClass(\"hidden\");\n    }\n});\n$(`${popup} textarea`).on(\"keypress\", (e) => {\n    if (e.code === \"Enter\" && e.ctrlKey) {\n        $(`${popup} .button.apply`).click();\n    }\n});\n$(`${popup} .randomInputFields .wordcount input`).on(\"keypress\", () => {\n    $(`${popup} .randomInputFields .time input`).val(\"\");\n});\n$(`${popup} .randomInputFields .time input`).on(\"keypress\", () => {\n    $(`${popup} .randomInputFields .wordcount input`).val(\"\");\n});\n$(`${popup} .buttonsTop .showSavedTexts`).on(\"click\", () => {\n    _saved_texts_popup__WEBPACK_IMPORTED_MODULE_8__.show();\n});\n$(`${popup} .buttonsTop .saveCustomText`).on(\"click\", () => {\n    hide();\n});\nfunction apply() {\n    let text = $(`${popup} textarea`).val().normalize();\n    text = text.trim();\n    // text = text.replace(/[\\r]/gm, \" \");\n    text = text.replace(/\\\\\\\\t/gm, \"\\t\");\n    text = text.replace(/\\\\\\\\n/gm, \"\\n\");\n    text = text.replace(/\\\\t/gm, \"\\t\");\n    text = text.replace(/\\\\n/gm, \"\\n\");\n    text = text.replace(/ +/gm, \" \");\n    // text = text.replace(/(\\r\\n)+/g, \"\\r\\n\");\n    // text = text.replace(/(\\n)+/g, \"\\n\");\n    // text = text.replace(/(\\r)+/g, \"\\r\");\n    text = text.replace(/( *(\\r\\n|\\r|\\n) *)/g, \"\\n \");\n    if ($(`${popup} .typographyCheck input`).prop(\"checked\")) {\n        text = _utils_misc__WEBPACK_IMPORTED_MODULE_5__.cleanTypographySymbols(text);\n    }\n    // text = Misc.remove_non_ascii(text);\n    text = text.replace(/[\\u2060]/g, \"\");\n    _test_custom_text__WEBPACK_IMPORTED_MODULE_0__.setText(text.split(_test_custom_text__WEBPACK_IMPORTED_MODULE_0__.delimiter));\n    _test_custom_text__WEBPACK_IMPORTED_MODULE_0__.setWord(parseInt($(`${popup} .wordcount input`).val()) || -1);\n    _test_custom_text__WEBPACK_IMPORTED_MODULE_0__.setTime(parseInt($(`${popup} .time input`).val()) || -1);\n    _test_custom_text__WEBPACK_IMPORTED_MODULE_0__.setIsWordRandom($(`${popup} .checkbox input`).prop(\"checked\") && _test_custom_text__WEBPACK_IMPORTED_MODULE_0__.word > -1);\n    _test_custom_text__WEBPACK_IMPORTED_MODULE_0__.setIsTimeRandom($(`${popup} .checkbox input`).prop(\"checked\") && _test_custom_text__WEBPACK_IMPORTED_MODULE_0__.time > -1);\n    if ($(`${popup} .checkbox input`).prop(\"checked\") &&\n        !_test_custom_text__WEBPACK_IMPORTED_MODULE_0__.isTimeRandom &&\n        !_test_custom_text__WEBPACK_IMPORTED_MODULE_0__.isWordRandom) {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_7__.add(\"You need to specify word count or time in seconds to start a random custom test.\", 0, 5);\n        return;\n    }\n    if ($(`${popup} .checkbox input`).prop(\"checked\") &&\n        _test_custom_text__WEBPACK_IMPORTED_MODULE_0__.isTimeRandom &&\n        _test_custom_text__WEBPACK_IMPORTED_MODULE_0__.isWordRandom) {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_7__.add(\"You need to pick between word count or time in seconds to start a random custom test.\", 0, 5);\n        return;\n    }\n    if ((_test_custom_text__WEBPACK_IMPORTED_MODULE_0__.isWordRandom && _test_custom_text__WEBPACK_IMPORTED_MODULE_0__.word === 0) ||\n        (_test_custom_text__WEBPACK_IMPORTED_MODULE_0__.isTimeRandom && _test_custom_text__WEBPACK_IMPORTED_MODULE_0__.time === 0)) {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_7__.add(\"Infinite words! Make sure to use Bail Out from the command line to save your result.\", 0, 7);\n    }\n    _controllers_challenge_controller__WEBPACK_IMPORTED_MODULE_3__.clearActive();\n    _test_manual_restart_tracker__WEBPACK_IMPORTED_MODULE_1__.set();\n    if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode !== \"custom\")\n        _config__WEBPACK_IMPORTED_MODULE_4__.setMode(\"custom\");\n    _test_test_logic__WEBPACK_IMPORTED_MODULE_2__.restart();\n    hide();\n}\n$(document).on(\"click\", `${popup} .button.apply`, () => {\n    apply();\n});\n$(document).on(\"click\", `${popup} .wordfilter`, () => {\n    _word_filter_popup__WEBPACK_IMPORTED_MODULE_6__.show();\n});\n$(document).on(\"click\", \"#top .config .customText .text-button\", () => {\n    show();\n});\n$(document).on(\"keydown\", (event) => {\n    if (event.key === \"Escape\" &&\n        !$(\"#customTextPopupWrapper\").hasClass(\"hidden\")) {\n        hide();\n        event.preventDefault();\n    }\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/popups/custom-text-popup.ts?");

/***/ }),

/***/ "./src/scripts/popups/custom-theme-popup.ts":
/*!**************************************************!*\
  !*** ./src/scripts/popups/custom-theme-popup.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"show\": () => (/* binding */ show)\n/* harmony export */ });\n// import Config, * as UpdateConfig from \"./config\";\n// import * as Notifications from \"./notifications\";\n// import * as ThemePicker from \"./theme-picker\";\nfunction show(value) {\n    if ($(\"#customThemeShareWrapper\").hasClass(\"hidden\")) {\n        // let save = [];\n        // $.each(\n        //   $(\".pageSettings .section.customTheme [type='color']\"),\n        //   (index, element) => {\n        //     save.push($(element).attr(\"value\"));\n        //   }\n        // );\n        // $(\"#customThemeShareWrapper input\").val(JSON.stringify(save));\n        $(\"#customThemeShareWrapper input\").val(value);\n        $(\"#customThemeShareWrapper\")\n            .stop(true, true)\n            .css(\"opacity\", 0)\n            .removeClass(\"hidden\")\n            .animate({ opacity: 1 }, 100, () => {\n            $(\"#customThemeShare input\").trigger(\"focus\");\n            $(\"#customThemeShare input\").select();\n            $(\"#customThemeShare input\").trigger(\"focus\");\n        });\n    }\n}\nfunction hide() {\n    if (!$(\"#customThemeShareWrapper\").hasClass(\"hidden\")) {\n        // try {\n        //   UpdateConfig.setCustomThemeColors(\n        //     JSON.parse($(\"#customThemeShareWrapper input\").val())\n        //   );\n        // } catch (e) {\n        //   Notifications.add(\n        //     \"Something went wrong. Reverting to default custom colors.\",\n        //     0,\n        //     4\n        //   );\n        //   UpdateConfig.setCustomThemeColors(Config.defaultConfig.customThemeColors);\n        // }\n        // ThemePicker.setCustomInputs();\n        $(\"#customThemeShareWrapper input\").val(\"\");\n        $(\"#customThemeShareWrapper\")\n            .stop(true, true)\n            .css(\"opacity\", 1)\n            .animate({\n            opacity: 0,\n        }, 100, () => {\n            $(\"#customThemeShareWrapper\").addClass(\"hidden\");\n        });\n    }\n}\n$(\"#customThemeShareWrapper\").on(\"click\", (e) => {\n    if ($(e.target).attr(\"id\") === \"customThemeShareWrapper\") {\n        hide();\n    }\n});\n$(\"#customThemeShare .button\").on(\"click\", () => {\n    hide();\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/popups/custom-theme-popup.ts?");

/***/ }),

/***/ "./src/scripts/popups/custom-word-amount-popup.ts":
/*!********************************************************!*\
  !*** ./src/scripts/popups/custom-word-amount-popup.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"show\": () => (/* binding */ show),\n/* harmony export */   \"hide\": () => (/* binding */ hide)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _test_manual_restart_tracker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../test/manual-restart-tracker */ \"./src/scripts/test/manual-restart-tracker.ts\");\n/* harmony import */ var _test_test_logic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../test/test-logic */ \"./src/scripts/test/test-logic.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../elements/notifications */ \"./src/scripts/elements/notifications.ts\");\n\n\n\n\nfunction show() {\n    if ($(\"#customWordAmountPopupWrapper\").hasClass(\"hidden\")) {\n        $(\"#customWordAmountPopupWrapper\")\n            .stop(true, true)\n            .css(\"opacity\", 0)\n            .removeClass(\"hidden\")\n            .animate({ opacity: 1 }, 100, () => {\n            $(\"#customWordAmountPopup input\").trigger(\"focus\").select();\n        });\n    }\n}\nfunction hide() {\n    if (!$(\"#customWordAmountPopupWrapper\").hasClass(\"hidden\")) {\n        $(\"#customWordAmountPopupWrapper\")\n            .stop(true, true)\n            .css(\"opacity\", 1)\n            .animate({\n            opacity: 0,\n        }, 100, () => {\n            $(\"#customWordAmountPopupWrapper\").addClass(\"hidden\");\n        });\n    }\n}\nfunction apply() {\n    const val = parseInt($(\"#customWordAmountPopup input\").val());\n    if (val !== null && !isNaN(val) && val >= 0) {\n        _config__WEBPACK_IMPORTED_MODULE_0__.setWordCount(val);\n        _test_manual_restart_tracker__WEBPACK_IMPORTED_MODULE_1__.set();\n        _test_test_logic__WEBPACK_IMPORTED_MODULE_2__.restart();\n        if (val > 2000) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_3__.add(\"Stay safe and take breaks!\", 0);\n        }\n        else if (val == 0) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_3__.add(\"Infinite words! Make sure to use Bail Out from the command line to save your result.\", 0, 7);\n        }\n    }\n    else {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_3__.add(\"Custom word amount must be at least 1\", 0);\n    }\n    hide();\n}\n$(\"#customWordAmountPopupWrapper\").on(\"click\", (e) => {\n    if ($(e.target).attr(\"id\") === \"customWordAmountPopupWrapper\") {\n        hide();\n    }\n});\n$(\"#customWordAmountPopup input\").on(\"keypress\", (e) => {\n    if (e.key === \"Enter\") {\n        apply();\n    }\n});\n$(\"#customWordAmountPopup .button\").on(\"click\", () => {\n    apply();\n});\n$(document).on(\"click\", \"#top .config .wordCount .text-button\", (e) => {\n    const wrd = $(e.currentTarget).attr(\"wordCount\");\n    if (wrd == \"custom\") {\n        show();\n    }\n});\n$(document).on(\"keydown\", (event) => {\n    if (event.key === \"Escape\" &&\n        !$(\"#customWordAmountPopupWrapper\").hasClass(\"hidden\")) {\n        hide();\n        event.preventDefault();\n    }\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/popups/custom-word-amount-popup.ts?");

/***/ }),

/***/ "./src/scripts/popups/edit-preset-popup.ts":
/*!*************************************************!*\
  !*** ./src/scripts/popups/edit-preset-popup.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"show\": () => (/* binding */ show)\n/* harmony export */ });\n/* harmony import */ var _ape__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ape */ \"./src/scripts/ape/index.ts\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../db */ \"./src/scripts/db.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _elements_loader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../elements/loader */ \"./src/scripts/elements/loader.ts\");\n/* harmony import */ var _pages_settings__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../pages/settings */ \"./src/scripts/pages/settings.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../elements/notifications */ \"./src/scripts/elements/notifications.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\nfunction show(action, id, name) {\n    if (action === \"add\") {\n        $(\"#presetWrapper #presetEdit\").attr(\"action\", \"add\");\n        $(\"#presetWrapper #presetEdit .title\").html(\"Create new preset\");\n        $(\"#presetWrapper #presetEdit .button\").html(`<i class=\"fas fa-plus\"></i>`);\n        $(\"#presetWrapper #presetEdit input.text\").val(\"\");\n        $(\"#presetWrapper #presetEdit input.text\").removeClass(\"hidden\");\n        $(\"#presetWrapper #presetEdit label\").addClass(\"hidden\");\n    }\n    else if (action === \"edit\" && id && name) {\n        $(\"#presetWrapper #presetEdit\").attr(\"action\", \"edit\");\n        $(\"#presetWrapper #presetEdit\").attr(\"presetid\", id);\n        $(\"#presetWrapper #presetEdit .title\").html(\"Edit preset\");\n        $(\"#presetWrapper #presetEdit .button\").html(`<i class=\"fas fa-pen\"></i>`);\n        $(\"#presetWrapper #presetEdit input.text\").val(name);\n        $(\"#presetWrapper #presetEdit input.text\").removeClass(\"hidden\");\n        $(\"#presetWrapper #presetEdit label input\").prop(\"checked\", false);\n        $(\"#presetWrapper #presetEdit label\").removeClass(\"hidden\");\n    }\n    else if (action === \"remove\" && id) {\n        $(\"#presetWrapper #presetEdit\").attr(\"action\", \"remove\");\n        $(\"#presetWrapper #presetEdit\").attr(\"presetid\", id);\n        $(\"#presetWrapper #presetEdit .title\").html(\"Remove preset \" + name);\n        $(\"#presetWrapper #presetEdit .button\").html(`<i class=\"fas fa-check\"></i>`);\n        $(\"#presetWrapper #presetEdit input.text\").addClass(\"hidden\");\n        $(\"#presetWrapper #presetEdit label\").addClass(\"hidden\");\n    }\n    if ($(\"#presetWrapper\").hasClass(\"hidden\")) {\n        $(\"#presetWrapper\")\n            .stop(true, true)\n            .css(\"opacity\", 0)\n            .removeClass(\"hidden\")\n            .animate({ opacity: 1 }, 100, () => {\n            $(\"#presetWrapper #presetEdit input\").trigger(\"focus\");\n        });\n    }\n}\nfunction hide() {\n    if (!$(\"#presetWrapper\").hasClass(\"hidden\")) {\n        $(\"#presetWrapper #presetEdit\").attr(\"action\", \"\");\n        $(\"#presetWrapper #presetEdit\").attr(\"tagid\", \"\");\n        $(\"#presetWrapper\")\n            .stop(true, true)\n            .css(\"opacity\", 1)\n            .animate({\n            opacity: 0,\n        }, 100, () => {\n            $(\"#presetWrapper\").addClass(\"hidden\");\n        });\n    }\n}\nfunction apply() {\n    return __awaiter(this, void 0, void 0, function* () {\n        const action = $(\"#presetWrapper #presetEdit\").attr(\"action\");\n        const presetName = $(\"#presetWrapper #presetEdit input\").val();\n        const presetId = $(\"#presetWrapper #presetEdit\").attr(\"presetId\");\n        const updateConfig = $(\"#presetWrapper #presetEdit label input\").prop(\"checked\");\n        let configChanges = {};\n        if ((updateConfig && action === \"edit\") || action === \"add\") {\n            configChanges = _config__WEBPACK_IMPORTED_MODULE_2__.getConfigChanges();\n            const tags = _db__WEBPACK_IMPORTED_MODULE_1__.getSnapshot().tags || [];\n            const activeTagIds = tags\n                .filter((tag) => tag.active)\n                .map((tag) => tag._id);\n            configChanges.tags = activeTagIds;\n        }\n        const snapshotPresets = _db__WEBPACK_IMPORTED_MODULE_1__.getSnapshot().presets || [];\n        hide();\n        _elements_loader__WEBPACK_IMPORTED_MODULE_3__.show();\n        if (action === \"add\") {\n            const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].presets.add(presetName, configChanges);\n            if (response.status !== 200) {\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Failed to add preset: \" + response.message, -1);\n            }\n            else {\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Preset added\", 1, 2);\n                snapshotPresets.push({\n                    name: presetName,\n                    config: configChanges,\n                    _id: response.data.presetId,\n                });\n            }\n        }\n        else if (action === \"edit\") {\n            const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].presets.edit(presetId, presetName, configChanges);\n            if (response.status !== 200) {\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Failed to edit preset: \" + response.message, -1);\n            }\n            else {\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Preset updated\", 1);\n                const preset = snapshotPresets.filter((preset) => preset._id === presetId)[0];\n                preset.name = presetName;\n                if (updateConfig) {\n                    preset.config = configChanges;\n                }\n            }\n        }\n        else if (action === \"remove\") {\n            const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].presets[\"delete\"](presetId);\n            if (response.status !== 200) {\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Failed to remove preset: \" + response.message, -1);\n            }\n            else {\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Preset removed\", 1);\n                snapshotPresets.forEach((preset, index) => {\n                    if (preset._id === presetId) {\n                        snapshotPresets.splice(index, 1);\n                    }\n                });\n            }\n        }\n        _pages_settings__WEBPACK_IMPORTED_MODULE_4__.update();\n        _elements_loader__WEBPACK_IMPORTED_MODULE_3__.hide();\n    });\n}\n$(\"#presetWrapper\").on(\"click\", (e) => {\n    if ($(e.target).attr(\"id\") === \"presetWrapper\") {\n        hide();\n    }\n});\n$(\"#presetWrapper #presetEdit .button\").on(\"click\", () => {\n    apply();\n});\n$(\"#presetWrapper #presetEdit input\").on(\"keypress\", (e) => {\n    if (e.key === \"Enter\") {\n        apply();\n    }\n});\n$(document).on(\"click\", \".pageSettings .section.presets .addPresetButton\", () => {\n    show(\"add\");\n});\n$(document).on(\"click\", \".pageSettings .section.presets .editButton\", (e) => {\n    const presetid = $(e.currentTarget).parent(\".preset\").attr(\"id\");\n    const name = $(e.currentTarget).siblings(\".button\").children(\".title\").text();\n    show(\"edit\", presetid, name);\n});\n$(document).on(\"click\", \".pageSettings .section.presets .removeButton\", (e) => {\n    const presetid = $(e.currentTarget).parent(\".preset\").attr(\"id\");\n    const name = $(e.currentTarget).siblings(\".button\").children(\".title\").text();\n    show(\"remove\", presetid, name);\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/popups/edit-preset-popup.ts?");

/***/ }),

/***/ "./src/scripts/popups/edit-tags-popup.ts":
/*!***********************************************!*\
  !*** ./src/scripts/popups/edit-tags-popup.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"show\": () => (/* binding */ show)\n/* harmony export */ });\n/* harmony import */ var _ape__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ape */ \"./src/scripts/ape/index.ts\");\n/* harmony import */ var _account_result_filters__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../account/result-filters */ \"./src/scripts/account/result-filters.ts\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../db */ \"./src/scripts/db.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../elements/notifications */ \"./src/scripts/elements/notifications.ts\");\n/* harmony import */ var _elements_loader__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../elements/loader */ \"./src/scripts/elements/loader.ts\");\n/* harmony import */ var _pages_settings__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../pages/settings */ \"./src/scripts/pages/settings.ts\");\n/* harmony import */ var _result_tags_popup__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./result-tags-popup */ \"./src/scripts/popups/result-tags-popup.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\n\nfunction show(action, id, name) {\n    if (action === \"add\") {\n        $(\"#tagsWrapper #tagsEdit\").attr(\"action\", \"add\");\n        $(\"#tagsWrapper #tagsEdit .title\").html(\"Add new tag\");\n        $(\"#tagsWrapper #tagsEdit .button\").html(`<i class=\"fas fa-plus\"></i>`);\n        $(\"#tagsWrapper #tagsEdit input\").val(\"\");\n        $(\"#tagsWrapper #tagsEdit input\").removeClass(\"hidden\");\n    }\n    else if (action === \"edit\" && id && name) {\n        $(\"#tagsWrapper #tagsEdit\").attr(\"action\", \"edit\");\n        $(\"#tagsWrapper #tagsEdit\").attr(\"tagid\", id);\n        $(\"#tagsWrapper #tagsEdit .title\").html(\"Edit tag name\");\n        $(\"#tagsWrapper #tagsEdit .button\").html(`<i class=\"fas fa-pen\"></i>`);\n        $(\"#tagsWrapper #tagsEdit input\").val(name);\n        $(\"#tagsWrapper #tagsEdit input\").removeClass(\"hidden\");\n    }\n    else if (action === \"remove\" && id && name) {\n        $(\"#tagsWrapper #tagsEdit\").attr(\"action\", \"remove\");\n        $(\"#tagsWrapper #tagsEdit\").attr(\"tagid\", id);\n        $(\"#tagsWrapper #tagsEdit .title\").html(\"Remove tag \" + name);\n        $(\"#tagsWrapper #tagsEdit .button\").html(`<i class=\"fas fa-check\"></i>`);\n        $(\"#tagsWrapper #tagsEdit input\").addClass(\"hidden\");\n    }\n    else if (action === \"clearPb\" && id && name) {\n        $(\"#tagsWrapper #tagsEdit\").attr(\"action\", \"clearPb\");\n        $(\"#tagsWrapper #tagsEdit\").attr(\"tagid\", id);\n        $(\"#tagsWrapper #tagsEdit .title\").html(\"Clear PB for tag \" + name);\n        $(\"#tagsWrapper #tagsEdit .button\").html(`<i class=\"fas fa-check\"></i>`);\n        $(\"#tagsWrapper #tagsEdit input\").addClass(\"hidden\");\n    }\n    if ($(\"#tagsWrapper\").hasClass(\"hidden\")) {\n        $(\"#tagsWrapper\")\n            .stop(true, true)\n            .css(\"opacity\", 0)\n            .removeClass(\"hidden\")\n            .animate({ opacity: 1 }, 100, () => {\n            $(\"#tagsWrapper #tagsEdit input\").trigger(\"focus\");\n        });\n    }\n}\nfunction hide() {\n    if (!$(\"#tagsWrapper\").hasClass(\"hidden\")) {\n        $(\"#tagsWrapper #tagsEdit\").attr(\"action\", \"\");\n        $(\"#tagsWrapper #tagsEdit\").attr(\"tagid\", \"\");\n        $(\"#tagsWrapper\")\n            .stop(true, true)\n            .css(\"opacity\", 1)\n            .animate({\n            opacity: 0,\n        }, 100, () => {\n            $(\"#tagsWrapper\").addClass(\"hidden\");\n        });\n    }\n}\nfunction apply() {\n    var _a, _b, _c, _d;\n    return __awaiter(this, void 0, void 0, function* () {\n        const action = $(\"#tagsWrapper #tagsEdit\").attr(\"action\");\n        const tagName = $(\"#tagsWrapper #tagsEdit input\").val();\n        const tagId = $(\"#tagsWrapper #tagsEdit\").attr(\"tagid\");\n        hide();\n        _elements_loader__WEBPACK_IMPORTED_MODULE_4__.show();\n        if (action === \"add\") {\n            const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].users.createTag(tagName);\n            if (response.status !== 200) {\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_3__.add(\"Failed to add tag: \" + response.message, -1);\n            }\n            else {\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_3__.add(\"Tag added\", 1);\n                (_a = _db__WEBPACK_IMPORTED_MODULE_2__.getSnapshot().tags) === null || _a === void 0 ? void 0 : _a.push({\n                    name: response.data.name,\n                    _id: response.data._id,\n                });\n                _result_tags_popup__WEBPACK_IMPORTED_MODULE_6__.updateButtons();\n                _pages_settings__WEBPACK_IMPORTED_MODULE_5__.update();\n                _account_result_filters__WEBPACK_IMPORTED_MODULE_1__.updateTags();\n            }\n        }\n        else if (action === \"edit\") {\n            const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].users.editTag(tagId, tagName);\n            if (response.status !== 200) {\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_3__.add(\"Failed to edit tag: \" + response.message, -1);\n            }\n            else {\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_3__.add(\"Tag updated\", 1);\n                (_b = _db__WEBPACK_IMPORTED_MODULE_2__.getSnapshot().tags) === null || _b === void 0 ? void 0 : _b.forEach((tag) => {\n                    if (tag._id === tagId) {\n                        tag.name = tagName;\n                    }\n                });\n                _result_tags_popup__WEBPACK_IMPORTED_MODULE_6__.updateButtons();\n                _pages_settings__WEBPACK_IMPORTED_MODULE_5__.update();\n                _account_result_filters__WEBPACK_IMPORTED_MODULE_1__.updateTags();\n            }\n        }\n        else if (action === \"remove\") {\n            const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].users.deleteTag(tagId);\n            if (response.status !== 200) {\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_3__.add(\"Failed to remove tag: \" + response.message, -1);\n            }\n            else {\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_3__.add(\"Tag removed\", 1);\n                (_c = _db__WEBPACK_IMPORTED_MODULE_2__.getSnapshot().tags) === null || _c === void 0 ? void 0 : _c.forEach((tag, index) => {\n                    var _a;\n                    if (tag._id === tagId) {\n                        (_a = _db__WEBPACK_IMPORTED_MODULE_2__.getSnapshot().tags) === null || _a === void 0 ? void 0 : _a.splice(index, 1);\n                    }\n                });\n                _result_tags_popup__WEBPACK_IMPORTED_MODULE_6__.updateButtons();\n                _pages_settings__WEBPACK_IMPORTED_MODULE_5__.update();\n                _account_result_filters__WEBPACK_IMPORTED_MODULE_1__.updateTags();\n            }\n        }\n        else if (action === \"clearPb\") {\n            const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].users.deleteTagPersonalBest(tagId);\n            if (response.status !== 200) {\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_3__.add(\"Failed to clear tag pb: \" + response.message, -1);\n            }\n            else {\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_3__.add(\"Tag PB cleared\", 1);\n                (_d = _db__WEBPACK_IMPORTED_MODULE_2__.getSnapshot().tags) === null || _d === void 0 ? void 0 : _d.forEach((tag) => {\n                    if (tag._id === tagId) {\n                        tag.personalBests = {\n                            time: {},\n                            words: {},\n                            custom: { custom: [] },\n                            zen: { zen: [] },\n                            quote: { custom: [] },\n                        };\n                    }\n                });\n                _result_tags_popup__WEBPACK_IMPORTED_MODULE_6__.updateButtons();\n                _pages_settings__WEBPACK_IMPORTED_MODULE_5__.update();\n                _account_result_filters__WEBPACK_IMPORTED_MODULE_1__.updateTags();\n            }\n        }\n        _elements_loader__WEBPACK_IMPORTED_MODULE_4__.hide();\n    });\n}\n$(\"#tagsWrapper\").on(\"click\", (e) => {\n    if ($(e.target).attr(\"id\") === \"tagsWrapper\") {\n        hide();\n    }\n});\n$(\"#tagsWrapper #tagsEdit .button\").on(\"click\", () => {\n    apply();\n});\n$(\"#tagsWrapper #tagsEdit input\").on(\"keypress\", (e) => {\n    if (e.key === \"Enter\") {\n        apply();\n    }\n});\n$(document).on(\"click\", \".pageSettings .section.tags .addTagButton\", () => {\n    show(\"add\");\n});\n$(document).on(\"click\", \".pageSettings .section.tags .tagsList .tag .editButton\", (e) => {\n    const tagid = $(e.currentTarget).parent(\".tag\").attr(\"id\");\n    const name = $(e.currentTarget)\n        .siblings(\".tagButton\")\n        .children(\".title\")\n        .text();\n    show(\"edit\", tagid, name);\n});\n$(document).on(\"click\", \".pageSettings .section.tags .tagsList .tag .clearPbButton\", (e) => {\n    const tagid = $(e.currentTarget).parent(\".tag\").attr(\"id\");\n    const name = $(e.currentTarget)\n        .siblings(\".tagButton\")\n        .children(\".title\")\n        .text();\n    show(\"clearPb\", tagid, name);\n});\n$(document).on(\"click\", \".pageSettings .section.tags .tagsList .tag .removeButton\", (e) => {\n    const tagid = $(e.currentTarget).parent(\".tag\").attr(\"id\");\n    const name = $(e.currentTarget)\n        .siblings(\".tagButton\")\n        .children(\".title\")\n        .text();\n    show(\"remove\", tagid, name);\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/popups/edit-tags-popup.ts?");

/***/ }),

/***/ "./src/scripts/popups/import-export-settings-popup.ts":
/*!************************************************************!*\
  !*** ./src/scripts/popups/import-export-settings-popup.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"show\": () => (/* binding */ show)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../elements/notifications */ \"./src/scripts/elements/notifications.ts\");\n\n\nfunction show(mode, config) {\n    if ($(\"#settingsImportWrapper\").hasClass(\"hidden\")) {\n        $(\"#settingsImportWrapper\").attr(\"mode\", mode);\n        if (mode === \"export\") {\n            $(\"#settingsImportWrapper .button\").addClass(\"hidden\");\n            $(\"#settingsImportWrapper input\").val(config !== null && config !== void 0 ? config : \"\");\n        }\n        else if (mode === \"import\") {\n            $(\"#settingsImportWrapper .button\").removeClass(\"hidden\");\n        }\n        $(\"#settingsImportWrapper\")\n            .stop(true, true)\n            .css(\"opacity\", 0)\n            .removeClass(\"hidden\")\n            .animate({ opacity: 1 }, 100, () => {\n            $(\"#settingsImportWrapper input\").trigger(\"focus\");\n            $(\"#settingsImportWrapper input\").select();\n            $(\"#settingsImportWrapper input\").trigger(\"focus\");\n        });\n    }\n}\nfunction hide() {\n    if (!$(\"#settingsImportWrapper\").hasClass(\"hidden\")) {\n        if ($(\"#settingsImportWrapper input\").val() !== \"\") {\n            try {\n                _config__WEBPACK_IMPORTED_MODULE_0__.apply(JSON.parse($(\"#settingsImportWrapper input\").val()));\n            }\n            catch (e) {\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"An error occured while importing settings: \" + e, -1);\n            }\n            _config__WEBPACK_IMPORTED_MODULE_0__.saveFullConfigToLocalStorage();\n        }\n        $(\"#settingsImportWrapper\")\n            .stop(true, true)\n            .css(\"opacity\", 1)\n            .animate({ opacity: 0 }, 100, () => {\n            $(\"#settingsImportWrapper\").addClass(\"hidden\");\n        });\n    }\n}\n$(\"#settingsImport .button\").on(\"click\", () => {\n    hide();\n});\n$(\"#settingsImportWrapper\").on(\"click\", (e) => {\n    if ($(e.target).attr(\"id\") === \"settingsImportWrapper\") {\n        hide();\n    }\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/popups/import-export-settings-popup.ts?");

/***/ }),

/***/ "./src/scripts/popups/mobile-test-config-popup.ts":
/*!********************************************************!*\
  !*** ./src/scripts/popups/mobile-test-config-popup.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"update\": () => (/* binding */ update)\n/* harmony export */ });\n/* harmony import */ var _test_test_logic__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../test/test-logic */ \"./src/scripts/test/test-logic.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _test_manual_restart_tracker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../test/manual-restart-tracker */ \"./src/scripts/test/manual-restart-tracker.ts\");\n/* harmony import */ var _custom_word_amount_popup__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./custom-word-amount-popup */ \"./src/scripts/popups/custom-word-amount-popup.ts\");\n/* harmony import */ var _custom_test_duration_popup__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./custom-test-duration-popup */ \"./src/scripts/popups/custom-test-duration-popup.ts\");\n/* harmony import */ var _quote_search_popup__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./quote-search-popup */ \"./src/scripts/popups/quote-search-popup.ts\");\n/* harmony import */ var _custom_text_popup__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./custom-text-popup */ \"./src/scripts/popups/custom-text-popup.ts\");\n/* harmony import */ var _observables_config_event__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../observables/config-event */ \"./src/scripts/observables/config-event.ts\");\n\n\n\n\n\n\n\n\n\nconst el = $(\"#mobileTestConfigPopup\");\nfunction update() {\n    el.find(\".button\").removeClass(\"active\");\n    el.find(`.modeGroup .button[mode='${_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].mode}']`).addClass(\"active\");\n    el.find(\".timeGroup\").addClass(\"hidden\");\n    el.find(\".wordsGroup\").addClass(\"hidden\");\n    el.find(\".quoteGroup\").addClass(\"hidden\");\n    el.find(\".customGroup\").addClass(\"hidden\");\n    el.find(`.${_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].mode}Group`).removeClass(\"hidden\");\n    if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].punctuation) {\n        el.find(\".punctuation\").addClass(\"active\");\n    }\n    else {\n        el.find(\".punctuation\").removeClass(\"active\");\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].numbers) {\n        el.find(\".numbers\").addClass(\"active\");\n    }\n    else {\n        el.find(\".numbers\").removeClass(\"active\");\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].mode === \"time\") {\n        el.find(`.timeGroup .button[time='${_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].time}']`).addClass(\"active\");\n        el.find(\".punctuation\").removeClass(\"disabled\");\n        el.find(\".numbers\").removeClass(\"disabled\");\n    }\n    else if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].mode === \"words\") {\n        el.find(`.wordsGroup .button[words='${_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].words}']`).addClass(\"active\");\n        el.find(\".punctuation\").removeClass(\"disabled\");\n        el.find(\".numbers\").removeClass(\"disabled\");\n    }\n    else if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].mode === \"quote\") {\n        el.find(`.quoteGroup .button[quote='${_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].quoteLength}']`).addClass(\"active\");\n        el.find(\".punctuation\").addClass(\"disabled\");\n        el.find(\".numbers\").addClass(\"disabled\");\n    }\n    else if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].mode === \"zen\") {\n        el.find(\".punctuation\").addClass(\"disabled\");\n        el.find(\".numbers\").addClass(\"disabled\");\n    }\n    else if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].mode === \"custom\") {\n        el.find(\".punctuation\").removeClass(\"disabled\");\n        el.find(\".numbers\").removeClass(\"disabled\");\n    }\n}\nfunction showPopup() {\n    if ($(\"#mobileTestConfigPopupWrapper\").hasClass(\"hidden\")) {\n        update();\n        $(\"#mobileTestConfigPopupWrapper\")\n            .stop(true, true)\n            .css(\"opacity\", 0)\n            .removeClass(\"hidden\")\n            .animate({ opacity: 1 }, 100);\n    }\n}\nfunction hidePopup() {\n    if (!$(\"#mobileTestConfigPopupWrapper\").hasClass(\"hidden\")) {\n        $(\"#mobileTestConfigPopupWrapper\")\n            .stop(true, true)\n            .css(\"opacity\", 1)\n            .animate({\n            opacity: 0,\n        }, 100, () => {\n            $(\"#mobileTestConfigPopupWrapper\").addClass(\"hidden\");\n        });\n    }\n}\n$(\"#mobileTestConfigPopupWrapper\").on(\"click\", (e) => {\n    if ($(e.target).attr(\"id\") === \"mobileTestConfigPopupWrapper\") {\n        hidePopup();\n    }\n});\n$(\"#top .mobileConfig\").on(\"click\", () => {\n    showPopup();\n});\nel.find(\".wordsGroup .button\").on(\"click\", (e) => {\n    const wrd = $(e.currentTarget).attr(\"words\");\n    if (wrd == \"custom\") {\n        hidePopup();\n        _custom_word_amount_popup__WEBPACK_IMPORTED_MODULE_3__.show();\n    }\n    else if (wrd !== undefined) {\n        const wrdNum = parseInt(wrd);\n        _config__WEBPACK_IMPORTED_MODULE_1__.setWordCount(wrdNum);\n        _test_manual_restart_tracker__WEBPACK_IMPORTED_MODULE_2__.set();\n        _test_test_logic__WEBPACK_IMPORTED_MODULE_0__.restart();\n    }\n});\nel.find(\".timeGroup .button\").on(\"click\", (e) => {\n    const time = $(e.currentTarget).attr(\"time\");\n    if (time == \"custom\") {\n        hidePopup();\n        _custom_test_duration_popup__WEBPACK_IMPORTED_MODULE_4__.show();\n    }\n    else if (time !== undefined) {\n        const timeNum = parseInt(time);\n        _config__WEBPACK_IMPORTED_MODULE_1__.setTimeConfig(timeNum);\n        _test_manual_restart_tracker__WEBPACK_IMPORTED_MODULE_2__.set();\n        _test_test_logic__WEBPACK_IMPORTED_MODULE_0__.restart();\n    }\n});\nel.find(\".quoteGroup .button\").on(\"click\", (e) => {\n    var _a;\n    let len = ((_a = $(e.currentTarget).attr(\"quote\")) !== null && _a !== void 0 ? _a : 0);\n    if (len == -2) {\n        // UpdateConfig.setQuoteLength(-2, false, e.shiftKey);\n        hidePopup();\n        _quote_search_popup__WEBPACK_IMPORTED_MODULE_5__.show();\n    }\n    else {\n        if (len == -1) {\n            len = [0, 1, 2, 3];\n        }\n        _config__WEBPACK_IMPORTED_MODULE_1__.setQuoteLength(len, false, e.shiftKey);\n        _test_manual_restart_tracker__WEBPACK_IMPORTED_MODULE_2__.set();\n        _test_test_logic__WEBPACK_IMPORTED_MODULE_0__.restart();\n    }\n});\nel.find(\".customChange\").on(\"click\", () => {\n    hidePopup();\n    _custom_text_popup__WEBPACK_IMPORTED_MODULE_6__.show();\n});\nel.find(\".punctuation\").on(\"click\", () => {\n    _config__WEBPACK_IMPORTED_MODULE_1__.setPunctuation(!_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].punctuation);\n    _test_manual_restart_tracker__WEBPACK_IMPORTED_MODULE_2__.set();\n    _test_test_logic__WEBPACK_IMPORTED_MODULE_0__.restart();\n});\nel.find(\".numbers\").on(\"click\", () => {\n    _config__WEBPACK_IMPORTED_MODULE_1__.setNumbers(!_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].numbers);\n    _test_manual_restart_tracker__WEBPACK_IMPORTED_MODULE_2__.set();\n    _test_test_logic__WEBPACK_IMPORTED_MODULE_0__.restart();\n});\nel.find(\".modeGroup .button\").on(\"click\", (e) => {\n    if ($(e.currentTarget).hasClass(\"active\"))\n        return;\n    const mode = $(e.currentTarget).attr(\"mode\");\n    _config__WEBPACK_IMPORTED_MODULE_1__.setMode(mode);\n    _test_manual_restart_tracker__WEBPACK_IMPORTED_MODULE_2__.set();\n    _test_test_logic__WEBPACK_IMPORTED_MODULE_0__.restart();\n});\n$(\"#mobileTestConfigPopup .button\").on(\"click\", () => {\n    // hidePopup();\n    update();\n});\n_observables_config_event__WEBPACK_IMPORTED_MODULE_7__.subscribe((eventKey) => {\n    if (eventKey === \"mode\")\n        update();\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/popups/mobile-test-config-popup.ts?");

/***/ }),

/***/ "./src/scripts/popups/pb-tables-popup.ts":
/*!***********************************************!*\
  !*** ./src/scripts/popups/pb-tables-popup.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../db */ \"./src/scripts/db.ts\");\n/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! date-fns */ \"./node_modules/date-fns/esm/format/index.js\");\n\n\nfunction update(mode) {\n    $(\"#pbTablesPopup table tbody\").empty();\n    $($(\"#pbTablesPopup table thead tr td\")[0]).text(mode);\n    const snapshot = _db__WEBPACK_IMPORTED_MODULE_0__.getSnapshot();\n    const allmode2 = (snapshot.personalBests === undefined\n        ? undefined\n        : snapshot.personalBests[mode]);\n    if (allmode2 === undefined)\n        return;\n    const list = [];\n    Object.keys(allmode2).forEach(function (key) {\n        let pbs = allmode2[key];\n        pbs = pbs.sort(function (a, b) {\n            return b.wpm - a.wpm;\n            // if (a.difficulty === b.difficulty) {\n            //   return (a.language < b.language ? -1 : 1);\n            // }\n            // return (a.difficulty < b.difficulty ? -1 : 1)\n        });\n        pbs.forEach(function (pb) {\n            pb.mode2 = key;\n            list.push(pb);\n        });\n    });\n    let mode2memory;\n    list.forEach((pb) => {\n        let dateText = `-<br><span class=\"sub\">-</span>`;\n        const date = new Date(pb.timestamp);\n        if (pb.timestamp) {\n            dateText =\n                (0,date_fns__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(date, \"dd MMM yyyy\") +\n                    \"<br><div class='sub'>\" +\n                    (0,date_fns__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(date, \"HH:mm\") +\n                    \"</div>\";\n        }\n        $(\"#pbTablesPopup table tbody\").append(`\n      <tr>\n        <td>${mode2memory === pb.mode2 ? \"\" : pb.mode2}</td>\n        <td>\n          ${pb.wpm}\n          <br />\n          <span class=\"sub\">${pb.acc ? pb.acc + \"%\" : \"-\"}</span>\n        </td>\n        <td>\n          ${pb.raw ? pb.raw : \"-\"}\n          <br />\n          <span class=\"sub\">${pb.consistency ? pb.consistency + \"%\" : \"-\"}</span>\n        </td>\n        <td>${pb.difficulty}</td>\n        <td>${pb.language ? pb.language.replace(/_/g, \" \") : \"-\"}</td>\n        <td>${pb.punctuation ? '<i class=\"fas fa-check\"></i>' : \"\"}</td>\n        <td>${pb.lazyMode ? '<i class=\"fas fa-check\"></i>' : \"\"}</td>\n        <td>${dateText}</td>\n      </tr>\n    `);\n        mode2memory = pb.mode2;\n    });\n}\nfunction show(mode) {\n    if ($(\"#pbTablesPopupWrapper\").hasClass(\"hidden\")) {\n        update(mode);\n        $(\"#pbTablesPopup .title\").text(`All ${mode} personal bests`);\n        $(\"#pbTablesPopupWrapper\")\n            .stop(true, true)\n            .css(\"opacity\", 0)\n            .removeClass(\"hidden\")\n            .animate({ opacity: 1 }, 100);\n    }\n}\nfunction hide() {\n    if (!$(\"#pbTablesPopupWrapper\").hasClass(\"hidden\")) {\n        $(\"#pbTablesPopupWrapper\")\n            .stop(true, true)\n            .css(\"opacity\", 1)\n            .animate({\n            opacity: 0,\n        }, 100, () => {\n            $(\"#pbTablesPopupWrapper\").addClass(\"hidden\");\n            $(\"#pbTablesPopup table tbody\").empty();\n        });\n    }\n}\n$(\"#pbTablesPopupWrapper\").on(\"click\", (e) => {\n    if ($(e.target).attr(\"id\") === \"pbTablesPopupWrapper\") {\n        hide();\n    }\n});\n$(\".pageAccount .button.showAllTimePbs\").on(\"click\", () => {\n    show(\"time\");\n});\n$(\".pageAccount .button.showAllWordsPbs\").on(\"click\", () => {\n    show(\"words\");\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/popups/pb-tables-popup.ts?");

/***/ }),

/***/ "./src/scripts/popups/quote-approve-popup.ts":
/*!***************************************************!*\
  !*** ./src/scripts/popups/quote-approve-popup.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"show\": () => (/* binding */ show),\n/* harmony export */   \"hide\": () => (/* binding */ hide)\n/* harmony export */ });\n/* harmony import */ var _ape__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ape */ \"./src/scripts/ape/index.ts\");\n/* harmony import */ var _elements_loader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../elements/loader */ \"./src/scripts/elements/loader.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../elements/notifications */ \"./src/scripts/elements/notifications.ts\");\n/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! date-fns */ \"./node_modules/date-fns/esm/format/index.js\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\nlet quotes = [];\nfunction updateList() {\n    $(\"#quoteApprovePopupWrapper .quotes\").empty();\n    quotes.forEach((quote, index) => {\n        const quoteEl = $(`\n      <div class=\"quote\" id=\"${index}\" dbid=\"${quote._id}\">\n        <textarea class=\"text\">${quote.text}</textarea>\n        <input type=\"text\" class=\"source\" placeholder=\"Source\" value=\"${quote.source}\">\n        <div class=\"buttons\">\n          <div class=\"icon-button disabled undo\" aria-label=\"Undo changes\" data-balloon-pos=\"left\"><i class=\"fas fa-fw fa-undo-alt\"></i></div>\n          <div class=\"icon-button refuse\" aria-label=\"Refuse quote\" data-balloon-pos=\"left\"><i class=\"fas fa-fw fa-times\"></i></div>\n          <div class=\"icon-button approve\" aria-label=\"Approve quote\" data-balloon-pos=\"left\"><i class=\"fas fa-fw fa-check\"></i></div>\n          <div class=\"icon-button edit hidden\" aria-label=\"Edit and approve quote\" data-balloon-pos=\"left\"><i class=\"fas fa-fw fa-pen\"></i></div>\n        </div>\n        <div class=\"bottom\">\n          <div class=\"length ${quote.text.length < 60 ? \"red\" : \"\"}\">Quote length: ${quote.text.length}</div>\n          <div class=\"language\">Language: ${quote.language}</div>\n          <div class=\"timestamp\">Submitted on: ${(0,date_fns__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(new Date(quote.timestamp), \"dd MMM yyyy HH:mm\")}</div>\n        </div>\n      </div>\n    `);\n        $(\"#quoteApprovePopupWrapper .quotes\").append(quoteEl);\n    });\n}\nfunction updateQuoteLength(index) {\n    var _a;\n    const len = (_a = $(`#quoteApprovePopup .quote[id=${index}] .text`).val()) === null || _a === void 0 ? void 0 : _a.length;\n    $(`#quoteApprovePopup .quote[id=${index}] .length`).text(\"Quote length: \" + len);\n    if (len < 60) {\n        $(`#quoteApprovePopup .quote[id=${index}] .length`).addClass(\"red\");\n    }\n    else {\n        $(`#quoteApprovePopup .quote[id=${index}] .length`).removeClass(\"red\");\n    }\n}\nfunction getQuotes() {\n    return __awaiter(this, void 0, void 0, function* () {\n        _elements_loader__WEBPACK_IMPORTED_MODULE_1__.show();\n        const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].quotes.get();\n        _elements_loader__WEBPACK_IMPORTED_MODULE_1__.hide();\n        if (response.status !== 200) {\n            return _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Failed to get new quotes: \" + response.message, -1);\n        }\n        quotes = response.data;\n        updateList();\n    });\n}\nfunction show(noAnim = false) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if ($(\"#quoteApprovePopupWrapper\").hasClass(\"hidden\")) {\n            quotes = [];\n            getQuotes();\n            $(\"#quoteApprovePopupWrapper\")\n                .stop(true, true)\n                .css(\"opacity\", 0)\n                .removeClass(\"hidden\")\n                .animate({ opacity: 1 }, noAnim ? 0 : 100);\n        }\n    });\n}\nfunction hide() {\n    if (!$(\"#quoteApprovePopupWrapper\").hasClass(\"hidden\")) {\n        $(\"#quoteApprovePopupWrapper\")\n            .stop(true, true)\n            .css(\"opacity\", 1)\n            .animate({\n            opacity: 0,\n        }, 100, () => {\n            $(\"#quoteApprovePopupWrapper\").addClass(\"hidden\");\n            $(\"#quoteApprovePopupWrapper .quotes\").empty();\n        });\n    }\n}\nfunction resetButtons(target) {\n    $(target).closest(\".quote\").find(\".icon-button\").removeClass(\"disabled\");\n    if ($(target).closest(\".quote\").find(\".edit\").hasClass(\"hidden\")) {\n        $(target).closest(\".quote\").find(\".undo\").addClass(\"disabled\");\n    }\n}\n$(\"#quoteApprovePopupWrapper\").on(\"mousedown\", (e) => {\n    if ($(e.target).attr(\"id\") === \"quoteApprovePopupWrapper\") {\n        hide();\n    }\n});\n$(\"#quoteApprovePopupWrapper .button.refreshList\").on(\"click\", () => {\n    $(\"#quoteApprovePopupWrapper .quotes\").empty();\n    getQuotes();\n});\n$(document).on(\"click\", \"#quoteApprovePopup .quote .undo\", (e) => __awaiter(void 0, void 0, void 0, function* () {\n    const index = parseInt($(e.target).closest(\".quote\").attr(\"id\"));\n    $(`#quoteApprovePopup .quote[id=${index}] .text`).val(quotes[index].text);\n    $(`#quoteApprovePopup .quote[id=${index}] .source`).val(quotes[index].source);\n    $(`#quoteApprovePopup .quote[id=${index}] .undo`).addClass(\"disabled\");\n    $(`#quoteApprovePopup .quote[id=${index}] .approve`).removeClass(\"hidden\");\n    $(`#quoteApprovePopup .quote[id=${index}] .edit`).addClass(\"hidden\");\n    updateQuoteLength(index);\n}));\n$(document).on(\"click\", \"#quoteApprovePopup .quote .approve\", (e) => __awaiter(void 0, void 0, void 0, function* () {\n    var _a;\n    if (!confirm(\"Are you sure?\"))\n        return;\n    const index = parseInt($(e.target).closest(\".quote\").attr(\"id\"));\n    const dbid = $(e.target).closest(\".quote\").attr(\"dbid\");\n    const target = e.target;\n    $(target).closest(\".quote\").find(\".icon-button\").addClass(\"disabled\");\n    $(target).closest(\".quote\").find(\"textarea, input\").prop(\"disabled\", true);\n    _elements_loader__WEBPACK_IMPORTED_MODULE_1__.show();\n    const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].quotes.approveSubmission(dbid);\n    _elements_loader__WEBPACK_IMPORTED_MODULE_1__.hide();\n    if (response.status !== 200) {\n        resetButtons(target);\n        $(target).closest(\".quote\").find(\"textarea, input\").prop(\"disabled\", false);\n        return _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Failed to approve quote: \" + response.message, -1);\n    }\n    _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add((_a = \"Quote approved. \" + response.message) !== null && _a !== void 0 ? _a : \"\", 1);\n    quotes.splice(index, 1);\n    updateList();\n}));\n$(document).on(\"click\", \"#quoteApprovePopup .quote .refuse\", (e) => __awaiter(void 0, void 0, void 0, function* () {\n    if (!confirm(\"Are you sure?\"))\n        return;\n    const index = parseInt($(e.target).closest(\".quote\").attr(\"id\"));\n    const dbid = $(e.target).closest(\".quote\").attr(\"dbid\");\n    const target = e.target;\n    $(target).closest(\".quote\").find(\".icon-button\").addClass(\"disabled\");\n    $(target).closest(\".quote\").find(\"textarea, input\").prop(\"disabled\", true);\n    _elements_loader__WEBPACK_IMPORTED_MODULE_1__.show();\n    const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].quotes.rejectSubmission(dbid);\n    _elements_loader__WEBPACK_IMPORTED_MODULE_1__.hide();\n    if (response.status !== 200) {\n        resetButtons(target);\n        $(target).closest(\".quote\").find(\"textarea, input\").prop(\"disabled\", false);\n        return _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Failed to refuse quote: \" + response.message, -1);\n    }\n    _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Quote refused.\", 1);\n    quotes.splice(index, 1);\n    updateList();\n}));\n$(document).on(\"click\", \"#quoteApprovePopup .quote .edit\", (e) => __awaiter(void 0, void 0, void 0, function* () {\n    var _b;\n    if (!confirm(\"Are you sure?\"))\n        return;\n    const index = parseInt($(e.target).closest(\".quote\").attr(\"id\"));\n    const dbid = $(e.target).closest(\".quote\").attr(\"dbid\");\n    const editText = $(`#quoteApprovePopup .quote[id=${index}] .text`).val();\n    const editSource = $(`#quoteApprovePopup .quote[id=${index}] .source`).val();\n    const target = e.target;\n    $(target).closest(\".quote\").find(\".icon-button\").addClass(\"disabled\");\n    $(target).closest(\".quote\").find(\"textarea, input\").prop(\"disabled\", true);\n    _elements_loader__WEBPACK_IMPORTED_MODULE_1__.show();\n    const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].quotes.approveSubmission(dbid, editText, editSource);\n    _elements_loader__WEBPACK_IMPORTED_MODULE_1__.hide();\n    if (response.status !== 200) {\n        resetButtons(target);\n        $(target).closest(\".quote\").find(\"textarea, input\").prop(\"disabled\", false);\n        return _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Failed to approve quote: \" + response.message, -1);\n    }\n    _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add((_b = \"Quote edited and approved. \" + response.message) !== null && _b !== void 0 ? _b : \"\", 1);\n    quotes.splice(index, 1);\n    updateList();\n}));\n$(document).on(\"input\", \"#quoteApprovePopup .quote .text\", (e) => __awaiter(void 0, void 0, void 0, function* () {\n    const index = parseInt($(e.target).closest(\".quote\").attr(\"id\"));\n    $(`#quoteApprovePopup .quote[id=${index}] .undo`).removeClass(\"disabled\");\n    $(`#quoteApprovePopup .quote[id=${index}] .approve`).addClass(\"hidden\");\n    $(`#quoteApprovePopup .quote[id=${index}] .edit`).removeClass(\"hidden\");\n    updateQuoteLength(index);\n}));\n$(document).on(\"input\", \"#quoteApprovePopup .quote .source\", (e) => __awaiter(void 0, void 0, void 0, function* () {\n    const index = parseInt($(e.target).closest(\".quote\").attr(\"id\"));\n    $(`#quoteApprovePopup .quote[id=${index}] .undo`).removeClass(\"disabled\");\n    $(`#quoteApprovePopup .quote[id=${index}] .approve`).addClass(\"hidden\");\n    $(`#quoteApprovePopup .quote[id=${index}] .edit`).removeClass(\"hidden\");\n}));\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/popups/quote-approve-popup.ts?");

/***/ }),

/***/ "./src/scripts/popups/quote-rate-popup.ts":
/*!************************************************!*\
  !*** ./src/scripts/popups/quote-rate-popup.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getQuoteStats\": () => (/* binding */ getQuoteStats),\n/* harmony export */   \"show\": () => (/* binding */ show),\n/* harmony export */   \"clearQuoteStats\": () => (/* binding */ clearQuoteStats)\n/* harmony export */ });\n/* harmony import */ var _ape__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ape */ \"./src/scripts/ape/index.ts\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../db */ \"./src/scripts/db.ts\");\n/* harmony import */ var _test_test_words__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../test/test-words */ \"./src/scripts/test/test-words.ts\");\n/* harmony import */ var _elements_loader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../elements/loader */ \"./src/scripts/elements/loader.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../elements/notifications */ \"./src/scripts/elements/notifications.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\nlet rating = 0;\nlet quoteStats = null;\nlet currentQuote = null;\nfunction reset() {\n    $(`#quoteRatePopup .quote .text`).text(\"-\");\n    $(`#quoteRatePopup .quote .source .val`).text(\"-\");\n    $(`#quoteRatePopup .quote .id .val`).text(\"-\");\n    $(`#quoteRatePopup .quote .length .val`).text(\"-\");\n    $(\"#quoteRatePopup .ratingCount .val\").text(\"-\");\n    $(\"#quoteRatePopup .ratingAverage .val\").text(\"-\");\n}\nfunction getRatingAverage(quoteStats) {\n    if (!quoteStats.totalRating || !quoteStats.ratings) {\n        return 0;\n    }\n    return Math.round((quoteStats.totalRating / quoteStats.ratings) * 10) / 10;\n}\nfunction getQuoteStats(quote) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!quote) {\n            return;\n        }\n        currentQuote = quote;\n        const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].quotes.getRating(currentQuote);\n        _elements_loader__WEBPACK_IMPORTED_MODULE_3__.hide();\n        if (response.status !== 200) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_4__.add(\"Failed to get quote ratings: \" + response.message, -1);\n            return;\n        }\n        if (!response.data) {\n            return {};\n        }\n        quoteStats = response.data;\n        if (quoteStats && !quoteStats.average) {\n            quoteStats.average = getRatingAverage(quoteStats);\n        }\n        return quoteStats;\n    });\n}\nfunction refreshStars(force) {\n    const limit = force ? force : rating;\n    $(`#quoteRatePopup .star`).removeClass(\"active\");\n    for (let i = 1; i <= limit; i++) {\n        $(`#quoteRatePopup .star[rating=${i}]`).addClass(\"active\");\n    }\n}\nfunction updateRatingStats() {\n    var _a, _b, _c;\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!quoteStats)\n            yield getQuoteStats();\n        $(\"#quoteRatePopup .ratingCount .val\").text((_a = quoteStats === null || quoteStats === void 0 ? void 0 : quoteStats.ratings) !== null && _a !== void 0 ? _a : \"0\");\n        $(\"#quoteRatePopup .ratingAverage .val\").text((_c = (_b = quoteStats === null || quoteStats === void 0 ? void 0 : quoteStats.average) === null || _b === void 0 ? void 0 : _b.toFixed(1)) !== null && _c !== void 0 ? _c : \"-\");\n    });\n}\nfunction updateData() {\n    if (!currentQuote)\n        return;\n    let lengthDesc;\n    if (currentQuote.group == 0) {\n        lengthDesc = \"short\";\n    }\n    else if (currentQuote.group == 1) {\n        lengthDesc = \"medium\";\n    }\n    else if (currentQuote.group == 2) {\n        lengthDesc = \"long\";\n    }\n    else if (currentQuote.group == 3) {\n        lengthDesc = \"thicc\";\n    }\n    $(`#quoteRatePopup .quote .text`).text(currentQuote.text);\n    $(`#quoteRatePopup .quote .source .val`).text(currentQuote.source);\n    $(`#quoteRatePopup .quote .id .val`).text(currentQuote.id);\n    $(`#quoteRatePopup .quote .length .val`).text(lengthDesc);\n    updateRatingStats();\n}\nfunction show(quote, shouldReset = true) {\n    var _a, _b;\n    if ($(\"#quoteRatePopupWrapper\").hasClass(\"hidden\")) {\n        if (shouldReset) {\n            reset();\n        }\n        currentQuote = quote;\n        rating = 0;\n        const snapshot = _db__WEBPACK_IMPORTED_MODULE_1__.getSnapshot();\n        const alreadyRated = (_b = (_a = snapshot === null || snapshot === void 0 ? void 0 : snapshot.quoteRatings) === null || _a === void 0 ? void 0 : _a[currentQuote.language]) === null || _b === void 0 ? void 0 : _b[currentQuote.id];\n        if (alreadyRated) {\n            rating = alreadyRated;\n        }\n        refreshStars();\n        updateData();\n        $(\"#quoteRatePopupWrapper\")\n            .stop(true, true)\n            .css(\"opacity\", 0)\n            .removeClass(\"hidden\")\n            .animate({ opacity: 1 }, 125);\n    }\n}\nfunction hide() {\n    if (!$(\"#quoteRatePopupWrapper\").hasClass(\"hidden\")) {\n        $(\"#quoteRatePopupWrapper\")\n            .stop(true, true)\n            .css(\"opacity\", 1)\n            .animate({\n            opacity: 0,\n        }, 100, () => {\n            $(\"#quoteRatePopupWrapper\").addClass(\"hidden\");\n        });\n    }\n}\nfunction clearQuoteStats() {\n    quoteStats = null;\n}\nfunction submit() {\n    var _a, _b, _c;\n    return __awaiter(this, void 0, void 0, function* () {\n        if (rating === 0) {\n            return _elements_notifications__WEBPACK_IMPORTED_MODULE_4__.add(\"Please select a rating\");\n        }\n        if (!currentQuote) {\n            return;\n        }\n        hide();\n        const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].quotes.addRating(currentQuote, rating);\n        _elements_loader__WEBPACK_IMPORTED_MODULE_3__.hide();\n        if (response.status !== 200) {\n            return _elements_notifications__WEBPACK_IMPORTED_MODULE_4__.add(\"Failed to submit quote rating: \" + response.message, -1);\n        }\n        const snapshot = _db__WEBPACK_IMPORTED_MODULE_1__.getSnapshot();\n        const quoteRatings = (_a = snapshot.quoteRatings) !== null && _a !== void 0 ? _a : {};\n        if ((_b = quoteRatings === null || quoteRatings === void 0 ? void 0 : quoteRatings[currentQuote.language]) === null || _b === void 0 ? void 0 : _b[currentQuote.id]) {\n            const oldRating = quoteRatings[currentQuote.language][currentQuote.id];\n            const diff = rating - oldRating;\n            quoteRatings[currentQuote.language][currentQuote.id] = rating;\n            quoteStats = {\n                ratings: quoteStats === null || quoteStats === void 0 ? void 0 : quoteStats.ratings,\n                totalRating: isNaN(quoteStats === null || quoteStats === void 0 ? void 0 : quoteStats.totalRating)\n                    ? 0\n                    : (quoteStats === null || quoteStats === void 0 ? void 0 : quoteStats.totalRating) + diff,\n                quoteId: currentQuote.id,\n                language: currentQuote.language,\n            };\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_4__.add(\"Rating updated\", 1);\n        }\n        else {\n            if (!quoteRatings[currentQuote.language]) {\n                quoteRatings[currentQuote.language] = {};\n            }\n            quoteRatings[currentQuote.language][currentQuote.id] = rating;\n            if ((quoteStats === null || quoteStats === void 0 ? void 0 : quoteStats.ratings) && quoteStats.totalRating) {\n                quoteStats.ratings++;\n                quoteStats.totalRating += rating;\n            }\n            else {\n                quoteStats = {\n                    ratings: 1,\n                    totalRating: rating,\n                    quoteId: currentQuote.id,\n                    language: currentQuote.language,\n                };\n            }\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_4__.add(\"Rating submitted\", 1);\n        }\n        snapshot.quoteRatings = quoteRatings;\n        _db__WEBPACK_IMPORTED_MODULE_1__.setSnapshot(snapshot);\n        quoteStats.average = getRatingAverage(quoteStats);\n        $(\".pageTest #result #rateQuoteButton .rating\").text((_c = quoteStats.average) === null || _c === void 0 ? void 0 : _c.toFixed(1));\n        $(\".pageTest #result #rateQuoteButton .icon\").removeClass(\"far\");\n        $(\".pageTest #result #rateQuoteButton .icon\").addClass(\"fas\");\n    });\n}\n$(\"#quoteRatePopupWrapper\").on(\"click\", (e) => {\n    if ($(e.target).attr(\"id\") === \"quoteRatePopupWrapper\") {\n        hide();\n    }\n});\n$(\"#quoteRatePopup .stars .star\").hover((e) => {\n    const ratingHover = parseInt($(e.currentTarget).attr(\"rating\"));\n    refreshStars(ratingHover);\n});\n$(\"#quoteRatePopup .stars .star\").on(\"click\", (e) => {\n    const ratingHover = parseInt($(e.currentTarget).attr(\"rating\"));\n    rating = ratingHover;\n});\n$(\"#quoteRatePopup .stars .star\").mouseout(() => {\n    $(`#quoteRatePopup .star`).removeClass(\"active\");\n    refreshStars();\n});\n$(\"#quoteRatePopup .submitButton\").on(\"click\", () => {\n    submit();\n});\n$(\".pageTest #rateQuoteButton\").on(\"click\", () => __awaiter(void 0, void 0, void 0, function* () {\n    // TODO remove this when done with TestWords\n    show(_test_test_words__WEBPACK_IMPORTED_MODULE_2__.randomQuote);\n}));\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/popups/quote-rate-popup.ts?");

/***/ }),

/***/ "./src/scripts/popups/quote-report-popup.ts":
/*!**************************************************!*\
  !*** ./src/scripts/popups/quote-report-popup.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"show\": () => (/* binding */ show),\n/* harmony export */   \"hide\": () => (/* binding */ hide)\n/* harmony export */ });\n/* harmony import */ var _ape__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ape */ \"./src/scripts/ape/index.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _test_test_words__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../test/test-words */ \"./src/scripts/test/test-words.ts\");\n/* harmony import */ var _elements_loader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../elements/loader */ \"./src/scripts/elements/loader.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../elements/notifications */ \"./src/scripts/elements/notifications.ts\");\n/* harmony import */ var _controllers_quotes_controller__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../controllers/quotes-controller */ \"./src/scripts/controllers/quotes-controller.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\nconst CAPTCHA_ID = 1;\nconst state = {\n    previousPopupShowCallback: undefined,\n    quoteToReport: undefined,\n};\nconst defaultOptions = {\n    quoteId: -1,\n    previousPopupShowCallback: () => {\n        //\n    },\n    noAnim: false,\n};\nfunction show(options = defaultOptions) {\n    var _a;\n    return __awaiter(this, void 0, void 0, function* () {\n        if ($(\"#quoteReportPopupWrapper\").hasClass(\"hidden\")) {\n            const { quoteId, previousPopupShowCallback, noAnim } = options;\n            state.previousPopupShowCallback = previousPopupShowCallback;\n            const { quotes } = yield _controllers_quotes_controller__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getQuotes(_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].language);\n            state.quoteToReport = quotes.find((quote) => {\n                return quote.id === quoteId;\n            });\n            $(\"#quoteReportPopup .quote\").text((_a = state.quoteToReport) === null || _a === void 0 ? void 0 : _a.text);\n            $(\"#quoteReportPopup .reason\").val(\"Grammatical error\");\n            $(\"#quoteReportPopup .comment\").val(\"\");\n            $(\"#quoteReportPopup .characterCount\").text(\"-\");\n            $(\"#quoteReportPopup .reason\").select2({\n                minimumResultsForSearch: Infinity,\n            });\n            $(\"#quoteReportPopupWrapper\")\n                .stop(true, true)\n                .css(\"opacity\", 0)\n                .removeClass(\"hidden\")\n                .animate({ opacity: 1 }, noAnim ? 0 : 100, () => {\n                $(\"#quoteReportPopup textarea\").trigger(\"focus\").select();\n            });\n        }\n    });\n}\nfunction hide() {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!$(\"#quoteReportPopupWrapper\").hasClass(\"hidden\")) {\n            const noAnim = state.previousPopupShowCallback ? true : false;\n            $(\"#quoteReportPopupWrapper\")\n                .stop(true, true)\n                .css(\"opacity\", 1)\n                .animate({\n                opacity: 0,\n            }, noAnim ? 0 : 100, () => {\n                grecaptcha.reset(CAPTCHA_ID);\n                $(\"#quoteReportPopupWrapper\").addClass(\"hidden\");\n                if (state.previousPopupShowCallback) {\n                    state.previousPopupShowCallback();\n                }\n            });\n        }\n    });\n}\nfunction submitReport() {\n    var _a;\n    return __awaiter(this, void 0, void 0, function* () {\n        const captchaResponse = grecaptcha.getResponse(CAPTCHA_ID);\n        if (!captchaResponse) {\n            return _elements_notifications__WEBPACK_IMPORTED_MODULE_4__.add(\"Please complete the captcha.\");\n        }\n        const quoteId = (_a = state.quoteToReport) === null || _a === void 0 ? void 0 : _a.id.toString();\n        const quoteLanguage = _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].language;\n        const reason = $(\"#quoteReportPopup .reason\").val();\n        const comment = $(\"#quoteReportPopup .comment\").val();\n        const captcha = captchaResponse;\n        if (!quoteId) {\n            return _elements_notifications__WEBPACK_IMPORTED_MODULE_4__.add(\"Please select a quote.\");\n        }\n        if (!reason) {\n            return _elements_notifications__WEBPACK_IMPORTED_MODULE_4__.add(\"Please select a valid report reason.\");\n        }\n        const characterDifference = comment.length - 250;\n        if (characterDifference > 0) {\n            return _elements_notifications__WEBPACK_IMPORTED_MODULE_4__.add(`Report comment is ${characterDifference} character(s) too long.`);\n        }\n        _elements_loader__WEBPACK_IMPORTED_MODULE_3__.show();\n        const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].quotes.report(quoteId, quoteLanguage, reason, comment, captcha);\n        _elements_loader__WEBPACK_IMPORTED_MODULE_3__.hide();\n        if (response.status !== 200) {\n            return _elements_notifications__WEBPACK_IMPORTED_MODULE_4__.add(\"Failed to report quote: \" + response.message, -1);\n        }\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_4__.add(\"Report submitted. Thank you!\", 1);\n        hide();\n    });\n}\n$(\"#quoteReportPopupWrapper\").on(\"mousedown\", (e) => {\n    if ($(e.target).attr(\"id\") === \"quoteReportPopupWrapper\") {\n        hide();\n    }\n});\n$(\"#quoteReportPopup .comment\").on(\"input\", () => {\n    setTimeout(() => {\n        const len = $(\"#quoteReportPopup .comment\").val().length;\n        $(\"#quoteReportPopup .characterCount\").text(len);\n        if (len > 250) {\n            $(\"#quoteReportPopup .characterCount\").addClass(\"red\");\n        }\n        else {\n            $(\"#quoteReportPopup .characterCount\").removeClass(\"red\");\n        }\n    }, 1);\n});\n$(\"#quoteReportPopup .submit\").on(\"click\", () => __awaiter(void 0, void 0, void 0, function* () {\n    yield submitReport();\n}));\n$(\".pageTest #reportQuoteButton\").on(\"click\", () => __awaiter(void 0, void 0, void 0, function* () {\n    var _a;\n    show({\n        quoteId: (_a = _test_test_words__WEBPACK_IMPORTED_MODULE_2__.randomQuote) === null || _a === void 0 ? void 0 : _a.id,\n        noAnim: false,\n    });\n}));\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/popups/quote-report-popup.ts?");

/***/ }),

/***/ "./src/scripts/popups/quote-search-popup.ts":
/*!**************************************************!*\
  !*** ./src/scripts/popups/quote-search-popup.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"selectedId\": () => (/* binding */ selectedId),\n/* harmony export */   \"setSelectedId\": () => (/* binding */ setSelectedId),\n/* harmony export */   \"show\": () => (/* binding */ show),\n/* harmony export */   \"hide\": () => (/* binding */ hide),\n/* harmony export */   \"apply\": () => (/* binding */ apply)\n/* harmony export */ });\n/* harmony import */ var _test_test_ui__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../test/test-ui */ \"./src/scripts/test/test-ui.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../db */ \"./src/scripts/db.ts\");\n/* harmony import */ var _test_manual_restart_tracker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../test/manual-restart-tracker */ \"./src/scripts/test/manual-restart-tracker.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../elements/notifications */ \"./src/scripts/elements/notifications.ts\");\n/* harmony import */ var _quote_submit_popup__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./quote-submit-popup */ \"./src/scripts/popups/quote-submit-popup.ts\");\n/* harmony import */ var _quote_approve_popup__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./quote-approve-popup */ \"./src/scripts/popups/quote-approve-popup.ts\");\n/* harmony import */ var _quote_report_popup__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./quote-report-popup */ \"./src/scripts/popups/quote-report-popup.ts\");\n/* harmony import */ var _utils_search_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/search-service */ \"./src/scripts/utils/search-service.ts\");\n/* harmony import */ var _utils_debounce__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/debounce */ \"./src/scripts/utils/debounce.ts\");\n/* harmony import */ var _utils_strings__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils/strings */ \"./src/scripts/utils/strings.ts\");\n/* harmony import */ var _controllers_quotes_controller__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../controllers/quotes-controller */ \"./src/scripts/controllers/quotes-controller.ts\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../firebase */ \"./src/scripts/firebase.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\nlet selectedId = 1;\nfunction setSelectedId(val) {\n    selectedId = val;\n}\nconst searchServiceCache = {};\nfunction getSearchService(language, data, textExtractor) {\n    if (language in searchServiceCache) {\n        return searchServiceCache[language];\n    }\n    const newSearchService = (0,_utils_search_service__WEBPACK_IMPORTED_MODULE_8__.buildSearchService)(data, textExtractor);\n    searchServiceCache[language] = newSearchService;\n    return newSearchService;\n}\nfunction highlightMatches(text, matchedText) {\n    if (matchedText.length === 0) {\n        return text;\n    }\n    const words = (0,_utils_strings__WEBPACK_IMPORTED_MODULE_10__.splitByAndKeep)(text, `.,\"/#!$%^&*;:{}=-_\\`~() `.split(\"\"));\n    const normalizedWords = words.map((word) => {\n        const shouldHighlight = matchedText.find((match) => {\n            return word.startsWith(match);\n        });\n        return shouldHighlight ? `<span class=\"highlight\">${word}</span>` : word;\n    });\n    return normalizedWords.join(\"\");\n}\nfunction applyQuoteLengthFilter(quotes) {\n    const quoteLengthFilterValue = $(\"#quoteSearchPopup .quoteLengthFilter\").val();\n    if (quoteLengthFilterValue.length === 0) {\n        return quotes;\n    }\n    const quoteLengthFilter = quoteLengthFilterValue.map((filterValue) => parseInt(filterValue, 10));\n    const filteredQuotes = quotes.filter((quote) => quoteLengthFilter.includes(quote.group));\n    return filteredQuotes;\n}\nfunction buildQuoteSearchResult(quote, matchedSearchTerms) {\n    let lengthDesc;\n    if (quote.length < 101) {\n        lengthDesc = \"short\";\n    }\n    else if (quote.length < 301) {\n        lengthDesc = \"medium\";\n    }\n    else if (quote.length < 601) {\n        lengthDesc = \"long\";\n    }\n    else {\n        lengthDesc = \"thicc\";\n    }\n    const isNotAuthed = !_firebase__WEBPACK_IMPORTED_MODULE_12__.Auth.currentUser;\n    return `\n  <div class=\"searchResult\" id=\"${quote.id}\">\n    <div class=\"text\">\n      ${highlightMatches(quote.text, matchedSearchTerms)}\n    </div>\n    <div class=\"id\">\n      <div class=\"sub\">id</div>\n      <span class=\"quote-id\">\n        ${highlightMatches(quote.id.toString(), matchedSearchTerms)}\n      </span>\n    </div>\n    <div class=\"length\">\n      <div class=\"sub\">length</div>\n      ${lengthDesc}\n    </div>\n    <div class=\"source\">\n      <div class=\"sub\">source</div>\n      ${highlightMatches(quote.source, matchedSearchTerms)}</div>\n    <div class=\"icon-button report ${isNotAuthed && \"hidden\"}\" aria-label=\"Report quote\" data-balloon-pos=\"left\">\n      <i class=\"fas fa-flag report\"></i>\n    </div>\n  </div>\n  `;\n}\nfunction updateResults(searchText) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { quotes } = yield _controllers_quotes_controller__WEBPACK_IMPORTED_MODULE_11__[\"default\"].getQuotes(_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].language);\n        const quoteSearchService = getSearchService(_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].language, quotes, (quote) => {\n            return `${quote.text} ${quote.id} ${quote.source}`;\n        });\n        const { results: matches, matchedQueryTerms } = quoteSearchService.query(searchText);\n        const quotesToShow = applyQuoteLengthFilter(searchText === \"\" ? quotes : matches);\n        const resultsList = $(\"#quoteSearchResults\");\n        resultsList.empty();\n        quotesToShow.slice(0, 100).forEach((quote) => {\n            const quoteSearchResult = buildQuoteSearchResult(quote, matchedQueryTerms);\n            resultsList.append(quoteSearchResult);\n        });\n        const resultsExceededText = quotesToShow.length > 100\n            ? \"<span style='opacity: 0.5'>(only showing 100)</span>\"\n            : \"\";\n        $(\"#extraResults\").html(`${quotesToShow.length} results ${resultsExceededText}`);\n    });\n}\nfunction show(clearText = true) {\n    var _a;\n    return __awaiter(this, void 0, void 0, function* () {\n        if ($(\"#quoteSearchPopupWrapper\").hasClass(\"hidden\")) {\n            if (clearText) {\n                $(\"#quoteSearchPopup input\").val(\"\");\n            }\n            const quoteSearchInputValue = $(\"#quoteSearchPopup input\").val();\n            if (!_firebase__WEBPACK_IMPORTED_MODULE_12__.Auth.currentUser) {\n                $(\"#quoteSearchPopup #gotoSubmitQuoteButton\").addClass(\"hidden\");\n            }\n            else {\n                $(\"#quoteSearchPopup #gotoSubmitQuoteButton\").removeClass(\"hidden\");\n            }\n            if ((_a = _db__WEBPACK_IMPORTED_MODULE_2__.getSnapshot()) === null || _a === void 0 ? void 0 : _a.quoteMod) {\n                $(\"#quoteSearchPopup #goToApproveQuotes\").removeClass(\"hidden\");\n            }\n            else {\n                $(\"#quoteSearchPopup #goToApproveQuotes\").addClass(\"hidden\");\n            }\n            $(\"#quoteSearchPopup .quoteLengthFilter\").select2({\n                placeholder: \"Filter by length\",\n                maximumSelectionLength: Infinity,\n                multiple: true,\n                width: \"100%\",\n                data: [\n                    {\n                        id: 0,\n                        text: \"short\",\n                        selected: false,\n                    },\n                    {\n                        id: 1,\n                        text: \"medium\",\n                        selected: false,\n                    },\n                    {\n                        id: 2,\n                        text: \"long\",\n                        selected: false,\n                    },\n                    {\n                        id: 3,\n                        text: \"thicc\",\n                        selected: false,\n                    },\n                ],\n            });\n            $(\"#quoteSearchPopupWrapper\")\n                .stop(true, true)\n                .css(\"opacity\", 0)\n                .removeClass(\"hidden\")\n                .animate({ opacity: 1 }, 100, () => {\n                if (clearText) {\n                    $(\"#quoteSearchPopup input\").trigger(\"focus\").select();\n                }\n                updateResults(quoteSearchInputValue);\n            });\n        }\n    });\n}\nfunction hide(noAnim = false, focusWords = true) {\n    if (!$(\"#quoteSearchPopupWrapper\").hasClass(\"hidden\")) {\n        $(\"#quoteSearchPopupWrapper\")\n            .stop(true, true)\n            .css(\"opacity\", 1)\n            .animate({\n            opacity: 0,\n        }, noAnim ? 0 : 100, () => {\n            $(\"#quoteSearchPopupWrapper\").addClass(\"hidden\");\n            if (focusWords) {\n                _test_test_ui__WEBPACK_IMPORTED_MODULE_0__.focusWords();\n                $(\"#quoteSearchPopup .quoteLengthFilter\").val([]);\n                $(\"#quoteSearchPopup .quoteLengthFilter\").trigger(\"change\");\n            }\n        });\n    }\n}\nfunction apply(val) {\n    if (isNaN(val)) {\n        val = parseInt(document.getElementById(\"searchBox\").value);\n    }\n    let ret;\n    if (val !== null && !isNaN(val) && val >= 0) {\n        _config__WEBPACK_IMPORTED_MODULE_1__.setQuoteLength(-2, false);\n        selectedId = val;\n        _test_manual_restart_tracker__WEBPACK_IMPORTED_MODULE_3__.set();\n        ret = true;\n    }\n    else {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_4__.add(\"Quote ID must be at least 1\", 0);\n        ret = false;\n    }\n    hide();\n    return ret;\n}\nconst searchForQuotes = (0,_utils_debounce__WEBPACK_IMPORTED_MODULE_9__.debounce)(() => {\n    const searchText = document.getElementById(\"searchBox\")\n        .value;\n    updateResults(searchText);\n});\n$(\"#quoteSearchPopup .searchBox\").on(\"keyup\", (e) => {\n    if (e.code === \"Escape\")\n        return;\n    searchForQuotes();\n});\n$(\"#quoteSearchPopup .quoteLengthFilter\").on(\"change\", searchForQuotes);\n$(\"#quoteSearchPopupWrapper\").on(\"click\", (e) => {\n    if ($(e.target).attr(\"id\") === \"quoteSearchPopupWrapper\") {\n        hide();\n    }\n});\n$(document).on(\"click\", \"#quoteSearchPopup #gotoSubmitQuoteButton\", () => {\n    hide(true);\n    _quote_submit_popup__WEBPACK_IMPORTED_MODULE_5__.show(true);\n});\n$(document).on(\"click\", \"#quoteSearchPopup #goToApproveQuotes\", () => {\n    hide(true);\n    _quote_approve_popup__WEBPACK_IMPORTED_MODULE_6__.show(true);\n});\n$(document).on(\"click\", \"#quoteSearchPopup .report\", (e) => __awaiter(void 0, void 0, void 0, function* () {\n    const quoteId = e.target.closest(\".searchResult\").id;\n    const quoteIdSelectedForReport = parseInt(quoteId);\n    hide(true, false);\n    _quote_report_popup__WEBPACK_IMPORTED_MODULE_7__.show({\n        quoteId: quoteIdSelectedForReport,\n        noAnim: true,\n        previousPopupShowCallback: () => {\n            show(false);\n        },\n    });\n}));\n$(document).on(\"click\", \"#top .config .quoteLength .text-button\", (e) => {\n    var _a;\n    const len = (_a = $(e.currentTarget).attr(\"quoteLength\")) !== null && _a !== void 0 ? _a : 0;\n    if (len == -2) {\n        show();\n    }\n});\n$(document).on(\"keydown\", (event) => {\n    if (event.key === \"Escape\" &&\n        !$(\"#quoteSearchPopupWrapper\").hasClass(\"hidden\")) {\n        hide();\n        event.preventDefault();\n    }\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/popups/quote-search-popup.ts?");

/***/ }),

/***/ "./src/scripts/popups/quote-submit-popup.ts":
/*!**************************************************!*\
  !*** ./src/scripts/popups/quote-submit-popup.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"show\": () => (/* binding */ show),\n/* harmony export */   \"hide\": () => (/* binding */ hide)\n/* harmony export */ });\n/* harmony import */ var _ape__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ape */ \"./src/scripts/ape/index.ts\");\n/* harmony import */ var _elements_loader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../elements/loader */ \"./src/scripts/elements/loader.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../elements/notifications */ \"./src/scripts/elements/notifications.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n// import Config from \"../config\";\n// import * as Misc from \"../misc\";\n// let dropdownReady = false;\n// async function initDropdown(): Promise<void> {\n//   if (dropdownReady) return;\n//   const languages = await Misc.getLanguageList();\n//   languages.forEach((language) => {\n//     if (\n//       language === \"english_commonly_misspelled\" ||\n//       language === \"hungarian_2.5k\"\n//     )\n//       return;\n//     if (!/_\\d*k$/g.test(language)) {\n//       $(\"#quoteSubmitPopup #submitQuoteLanguage\").append(\n//         `<option value=\"${language}\">${language.replace(/_/g, \" \")}</option>`\n//       );\n//     }\n//   });\n//   $(\"#quoteSubmitPopup #submitQuoteLanguage\").select2();\n//   dropdownReady = true;\n// }\nfunction submitQuote() {\n    return __awaiter(this, void 0, void 0, function* () {\n        const text = $(\"#quoteSubmitPopup #submitQuoteText\").val();\n        const source = $(\"#quoteSubmitPopup #submitQuoteSource\").val();\n        const language = $(\"#quoteSubmitPopup #submitQuoteLanguage\").val();\n        const captcha = $(\"#quoteSubmitPopup #g-recaptcha-response\").val();\n        if (!text || !source || !language) {\n            return _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Please fill in all fields\", 0);\n        }\n        _elements_loader__WEBPACK_IMPORTED_MODULE_1__.show();\n        const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].quotes.submit(text, source, language, captcha);\n        _elements_loader__WEBPACK_IMPORTED_MODULE_1__.hide();\n        if (response.status !== 200) {\n            return _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Failed to submit quote: \" + response.message, -1);\n        }\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Quote submitted.\", 1);\n        $(\"#quoteSubmitPopup #submitQuoteText\").val(\"\");\n        $(\"#quoteSubmitPopup #submitQuoteSource\").val(\"\");\n        $(\"#quoteSubmitPopup .characterCount\").removeClass(\"red\");\n        $(\"#quoteSubmitPopup .characterCount\").text(\"-\");\n        grecaptcha.reset();\n    });\n}\n// @ts-ignore\n// eslint-disable-next-line\nfunction show(noAnim = false) {\n    return __awaiter(this, void 0, void 0, function* () {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Quote submission is disabled temporarily due to a large submission queue.\", 0, 5);\n        return;\n        // if ($(\"#quoteSubmitPopupWrapper\").hasClass(\"hidden\")) {\n        //   await initDropdown();\n        //   $(\"#quoteSubmitPopup #submitQuoteLanguage\").val(\n        //     Config.language.replace(/_\\d*k$/g, \"\")\n        //   );\n        //   $(\"#quoteSubmitPopup #submitQuoteLanguage\").trigger(\"change\");\n        //   $(\"#quoteSubmitPopup input\").val(\"\");\n        //   $(\"#quoteSubmitPopupWrapper\")\n        //     .stop(true, true)\n        //     .css(\"opacity\", 0)\n        //     .removeClass(\"hidden\")\n        //     .animate({ opacity: 1 }, noAnim ? 0 : 100, () => {\n        //       $(\"#quoteSubmitPopup textarea\").trigger(\"focus\").select();\n        //     });\n        // }\n    });\n}\nfunction hide() {\n    if (!$(\"#quoteSubmitPopupWrapper\").hasClass(\"hidden\")) {\n        $(\"#quoteSubmitPopupWrapper\")\n            .stop(true, true)\n            .css(\"opacity\", 1)\n            .animate({\n            opacity: 0,\n        }, 100, () => {\n            $(\"#quoteSubmitPopupWrapper\").addClass(\"hidden\");\n        });\n    }\n}\n$(\"#quoteSubmitPopupWrapper\").on(\"mousedown\", (e) => {\n    if ($(e.target).attr(\"id\") === \"quoteSubmitPopupWrapper\") {\n        hide();\n    }\n});\n$(document).on(\"click\", \"#quoteSubmitPopup #submitQuoteButton\", () => {\n    submitQuote();\n});\n$(\"#quoteSubmitPopup textarea\").on(\"input\", () => {\n    setTimeout(() => {\n        var _a;\n        const len = (_a = $(\"#quoteSubmitPopup textarea\").val()) === null || _a === void 0 ? void 0 : _a.length;\n        $(\"#quoteSubmitPopup .characterCount\").text(len);\n        if (len < 60) {\n            $(\"#quoteSubmitPopup .characterCount\").addClass(\"red\");\n        }\n        else {\n            $(\"#quoteSubmitPopup .characterCount\").removeClass(\"red\");\n        }\n    }, 1);\n});\n$(\"#quoteSubmitPopup input\").on(\"keydown\", (e) => {\n    if (e.key === \"Enter\") {\n        submitQuote();\n    }\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/popups/quote-submit-popup.ts?");

/***/ }),

/***/ "./src/scripts/popups/result-tags-popup.ts":
/*!*************************************************!*\
  !*** ./src/scripts/popups/result-tags-popup.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"updateButtons\": () => (/* binding */ updateButtons)\n/* harmony export */ });\n/* harmony import */ var _ape__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ape */ \"./src/scripts/ape/index.ts\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../db */ \"./src/scripts/db.ts\");\n/* harmony import */ var _elements_loader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../elements/loader */ \"./src/scripts/elements/loader.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../elements/notifications */ \"./src/scripts/elements/notifications.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\nfunction show() {\n    if ($(\"#resultEditTagsPanelWrapper\").hasClass(\"hidden\")) {\n        $(\"#resultEditTagsPanelWrapper\")\n            .stop(true, true)\n            .css(\"opacity\", 0)\n            .removeClass(\"hidden\")\n            .animate({ opacity: 1 }, 125);\n    }\n}\nfunction hide() {\n    if (!$(\"#resultEditTagsPanelWrapper\").hasClass(\"hidden\")) {\n        $(\"#resultEditTagsPanelWrapper\")\n            .stop(true, true)\n            .css(\"opacity\", 1)\n            .animate({\n            opacity: 0,\n        }, 100, () => {\n            $(\"#resultEditTagsPanelWrapper\").addClass(\"hidden\");\n        });\n    }\n}\nfunction updateButtons() {\n    var _a;\n    $(\"#resultEditTagsPanel .buttons\").empty();\n    (_a = _db__WEBPACK_IMPORTED_MODULE_1__.getSnapshot().tags) === null || _a === void 0 ? void 0 : _a.forEach((tag) => {\n        $(\"#resultEditTagsPanel .buttons\").append(`<div class=\"button tag\" tagid=\"${tag._id}\">${tag.name}</div>`);\n    });\n}\nfunction updateActiveButtons(active) {\n    if (active === [])\n        return;\n    $.each($(\"#resultEditTagsPanel .buttons .button\"), (_, obj) => {\n        var _a;\n        const tagid = (_a = $(obj).attr(\"tagid\")) !== null && _a !== void 0 ? _a : \"\";\n        if (active.includes(tagid)) {\n            $(obj).addClass(\"active\");\n        }\n        else {\n            $(obj).removeClass(\"active\");\n        }\n    });\n}\n$(document).on(\"click\", \".pageAccount .group.history #resultEditTags\", (f) => {\n    var _a;\n    if (((_a = _db__WEBPACK_IMPORTED_MODULE_1__.getSnapshot().tags) === null || _a === void 0 ? void 0 : _a.length) || 0 > 0) {\n        const resultid = $(f.target).parents(\"span\").attr(\"resultid\");\n        const tags = $(f.target).parents(\"span\").attr(\"tags\");\n        $(\"#resultEditTagsPanel\").attr(\"resultid\", resultid);\n        $(\"#resultEditTagsPanel\").attr(\"tags\", tags);\n        updateActiveButtons(JSON.parse(tags));\n        show();\n    }\n});\n$(document).on(\"click\", \"#resultEditTagsPanelWrapper .button.tag\", (f) => {\n    $(f.target).toggleClass(\"active\");\n});\n$(\"#resultEditTagsPanelWrapper\").on(\"click\", (e) => {\n    if ($(e.target).attr(\"id\") === \"resultEditTagsPanelWrapper\") {\n        hide();\n    }\n});\n$(\"#resultEditTagsPanel .confirmButton\").on(\"click\", () => __awaiter(void 0, void 0, void 0, function* () {\n    var _a;\n    const resultId = $(\"#resultEditTagsPanel\").attr(\"resultid\");\n    // let oldtags = JSON.parse($(\"#resultEditTagsPanel\").attr(\"tags\"));\n    const newTags = [];\n    $.each($(\"#resultEditTagsPanel .buttons .button\"), (_, obj) => {\n        var _a;\n        const tagid = (_a = $(obj).attr(\"tagid\")) !== null && _a !== void 0 ? _a : \"\";\n        if ($(obj).hasClass(\"active\")) {\n            newTags.push(tagid);\n        }\n    });\n    _elements_loader__WEBPACK_IMPORTED_MODULE_2__.show();\n    hide();\n    const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].results.updateTags(resultId, newTags);\n    _elements_loader__WEBPACK_IMPORTED_MODULE_2__.hide();\n    if (response.status !== 200) {\n        return _elements_notifications__WEBPACK_IMPORTED_MODULE_3__.add(\"Failed to update result tags: \" + response.message, -1);\n    }\n    _elements_notifications__WEBPACK_IMPORTED_MODULE_3__.add(\"Tags updated.\", 1, 2);\n    (_a = _db__WEBPACK_IMPORTED_MODULE_1__.getSnapshot().results) === null || _a === void 0 ? void 0 : _a.forEach((result) => {\n        if (result._id === resultId) {\n            result.tags = newTags;\n        }\n    });\n    let tagNames = \"\";\n    if (newTags.length > 0) {\n        newTags.forEach((tag) => {\n            var _a;\n            (_a = _db__WEBPACK_IMPORTED_MODULE_1__.getSnapshot().tags) === null || _a === void 0 ? void 0 : _a.forEach((snaptag) => {\n                if (tag === snaptag._id) {\n                    tagNames += snaptag.name + \", \";\n                }\n            });\n        });\n        tagNames = tagNames.substring(0, tagNames.length - 2);\n    }\n    let restags;\n    if (newTags === undefined) {\n        restags = \"[]\";\n    }\n    else {\n        restags = JSON.stringify(newTags);\n    }\n    $(`.pageAccount #resultEditTags[resultid='${resultId}']`).attr(\"tags\", restags);\n    if (newTags.length > 0) {\n        $(`.pageAccount #resultEditTags[resultid='${resultId}']`).css(\"opacity\", 1);\n        $(`.pageAccount #resultEditTags[resultid='${resultId}']`).attr(\"aria-label\", tagNames);\n    }\n    else {\n        $(`.pageAccount #resultEditTags[resultid='${resultId}']`).css(\"opacity\", 0.25);\n        $(`.pageAccount #resultEditTags[resultid='${resultId}']`).attr(\"aria-label\", \"no tags\");\n    }\n}));\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/popups/result-tags-popup.ts?");

/***/ }),

/***/ "./src/scripts/popups/saved-texts-popup.ts":
/*!*************************************************!*\
  !*** ./src/scripts/popups/saved-texts-popup.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"show\": () => (/* binding */ show)\n/* harmony export */ });\n/* harmony import */ var _test_custom_text__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../test/custom-text */ \"./src/scripts/test/custom-text.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\nfunction show() {\n    return __awaiter(this, void 0, void 0, function* () {\n        const names = _test_custom_text__WEBPACK_IMPORTED_MODULE_0__.getCustomTextNames();\n        const listEl = $(`#savedTextsPopup .list`).empty();\n        let list = \"\";\n        if (names.length === 0) {\n            list += \"<div>No saved custom texts found</div>\";\n        }\n        else {\n            for (const name of names) {\n                list += `<div class=\"savedText\">\n      <div class=\"button name\">${name}</div>\n      <div class=\"button delete\">\n      <i class=\"fas fa-fw fa-trash\"></i>\n      </div>\n      </div>`;\n            }\n        }\n        listEl.html(list);\n        $(\"#savedTextsPopupWrapper\").removeClass(\"hidden\");\n        $(\"#customTextPopupWrapper\").addClass(\"hidden\");\n    });\n}\nfunction hide(full = false) {\n    $(\"#savedTextsPopupWrapper\").addClass(\"hidden\");\n    if (!full)\n        $(\"#customTextPopupWrapper\").removeClass(\"hidden\");\n}\nfunction applySaved(name) {\n    const text = _test_custom_text__WEBPACK_IMPORTED_MODULE_0__.getCustomText(name);\n    $(`#customTextPopupWrapper textarea`).val(text.join(_test_custom_text__WEBPACK_IMPORTED_MODULE_0__.delimiter));\n}\n$(document).on(\"click\", `#savedTextsPopupWrapper .list .savedText .button.name`, (e) => {\n    const name = $(e.target).text();\n    applySaved(name);\n    hide();\n});\n$(document).on(\"click\", `#savedTextsPopupWrapper .list .savedText .button.delete`, () => {\n    hide(true);\n});\n$(\"#savedTextsPopupWrapper\").mousedown((e) => {\n    if ($(e.target).attr(\"id\") === \"savedTextsPopupWrapper\") {\n        hide();\n    }\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/popups/saved-texts-popup.ts?");

/***/ }),

/***/ "./src/scripts/popups/simple-popups.ts":
/*!*********************************************!*\
  !*** ./src/scripts/popups/simple-popups.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"list\": () => (/* binding */ list),\n/* harmony export */   \"hide\": () => (/* binding */ hide)\n/* harmony export */ });\n/* harmony import */ var _ape__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ape */ \"./src/scripts/ape/index.ts\");\n/* harmony import */ var _controllers_account_controller__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/account-controller */ \"./src/scripts/controllers/account-controller.ts\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../db */ \"./src/scripts/db.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _elements_loader__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../elements/loader */ \"./src/scripts/elements/loader.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../elements/notifications */ \"./src/scripts/elements/notifications.ts\");\n/* harmony import */ var _pages_settings__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../pages/settings */ \"./src/scripts/pages/settings.ts\");\n/* harmony import */ var _popups_ape_keys_popup__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../popups/ape-keys-popup */ \"./src/scripts/popups/ape-keys-popup.ts\");\n/* harmony import */ var _settings_theme_picker__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../settings/theme-picker */ \"./src/scripts/settings/theme-picker.ts\");\n/* harmony import */ var _test_custom_text__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../test/custom-text */ \"./src/scripts/test/custom-text.ts\");\n/* harmony import */ var _popups_custom_text_popup__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../popups/custom-text-popup */ \"./src/scripts/popups/custom-text-popup.ts\");\n/* harmony import */ var _saved_texts_popup__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./saved-texts-popup */ \"./src/scripts/popups/saved-texts-popup.ts\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../firebase */ \"./src/scripts/firebase.ts\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! firebase/auth */ \"./node_modules/firebase/auth/dist/index.esm.js\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlet activePopup = null;\nconst list = {};\nclass SimplePopup {\n    constructor(id, type, title, inputs = [], text = \"\", buttonText = \"Confirm\", execFn, beforeInitFn, beforeShowFn) {\n        this.parameters = [];\n        this.id = id;\n        this.type = type;\n        this.execFn = (thisPopup, ...vals) => execFn(thisPopup, ...vals);\n        this.title = title;\n        this.inputs = inputs;\n        this.text = text;\n        this.wrapper = $(\"#simplePopupWrapper\");\n        this.element = $(\"#simplePopup\");\n        this.buttonText = buttonText;\n        this.beforeInitFn = (thisPopup) => beforeInitFn(thisPopup);\n        this.beforeShowFn = (thisPopup) => beforeShowFn(thisPopup);\n        this.canClose = true;\n    }\n    reset() {\n        this.element.html(`\n    <div class=\"title\"></div>\n    <div class=\"inputs\"></div>\n    <div class=\"text\"></div>\n    <div class=\"button\"></div>`);\n    }\n    init() {\n        const el = this.element;\n        el.find(\"input\").val(\"\");\n        // if (el.attr(\"popupId\") !== this.id) {\n        this.reset();\n        el.attr(\"popupId\", this.id);\n        el.find(\".title\").text(this.title);\n        el.find(\".text\").text(this.text);\n        this.initInputs();\n        if (this.buttonText === \"\") {\n            el.find(\".button\").remove();\n        }\n        else {\n            el.find(\".button\").text(this.buttonText);\n        }\n        if (this.text === \"\") {\n            el.find(\".text\").addClass(\"hidden\");\n        }\n        else {\n            el.find(\".text\").removeClass(\"hidden\");\n        }\n        // }\n    }\n    initInputs() {\n        const el = this.element;\n        if (this.inputs.length > 0) {\n            if (this.type === \"number\") {\n                this.inputs.forEach((input) => {\n                    el.find(\".inputs\").append(`\n            <input\n              type=\"number\"\n              min=\"1\"\n              value=\"${input.initVal}\"\n              placeholder=\"${input.placeholder}\"\n              class=\"${input.hidden ? \"hidden\" : \"\"}\"\n              ${input.hidden ? \"\" : \"required\"}\n              autocomplete=\"off\"\n            >\n          `);\n                });\n            }\n            else if (this.type === \"text\") {\n                this.inputs.forEach((input) => {\n                    if (input.type) {\n                        if (input.type === \"textarea\") {\n                            el.find(\".inputs\").append(`\n                <textarea\n                  placeholder=\"${input.placeholder}\"\n                  class=\"${input.hidden ? \"hidden\" : \"\"}\"\n                  ${input.hidden ? \"\" : \"required\"}\n                  ${input.disabled ? \"disabled\" : \"\"}\n                  autocomplete=\"off\"\n                >${input.initVal}</textarea>\n              `);\n                        }\n                        else if (input.type === \"checkbox\") {\n                            el.find(\".inputs\").append(`\n                <label class=\"checkbox\">\n                  <input type=\"checkbox\">\n                  <div class=\"customTextCheckbox\"></div>\n                  ${input.label}\n                </label>\n              `);\n                        }\n                        else {\n                            el.find(\".inputs\").append(`\n              <input\n              type=\"${input.type}\"\n              value=\"${input.initVal}\"\n              placeholder=\"${input.placeholder}\"\n              class=\"${input.hidden ? \"hidden\" : \"\"}\"\n              ${input.hidden ? \"\" : \"required\"}\n              ${input.disabled ? \"disabled\" : \"\"}\n              autocomplete=\"off\"\n              >\n              `);\n                        }\n                    }\n                    else {\n                        el.find(\".inputs\").append(`\n              <input\n                type=\"text\"\n                value=\"${input.initVal}\"\n                placeholder=\"${input.placeholder}\"\n                class=\"${input.hidden ? \"hidden\" : \"\"}\"\n                ${input.hidden ? \"\" : \"required\"}\n                ${input.disabled ? \"disabled\" : \"\"}\n                autocomplete=\"off\"\n              >\n            `);\n                    }\n                });\n            }\n            el.find(\".inputs\").removeClass(\"hidden\");\n        }\n        else {\n            el.find(\".inputs\").addClass(\"hidden\");\n        }\n    }\n    exec() {\n        if (!this.canClose)\n            return;\n        const vals = [];\n        $.each($(\"#simplePopup input\"), (_, el) => {\n            if ($(el).is(\":checkbox\")) {\n                vals.push($(el).is(\":checked\") ? \"true\" : \"false\");\n            }\n            else {\n                vals.push($(el).val());\n            }\n        });\n        this.execFn(this, ...vals);\n        this.hide();\n    }\n    show(parameters = []) {\n        activePopup = this;\n        this.parameters = parameters;\n        this.beforeInitFn(this);\n        this.init();\n        this.beforeShowFn(this);\n        this.wrapper\n            .stop(true, true)\n            .css(\"opacity\", 0)\n            .removeClass(\"hidden\")\n            .animate({ opacity: 1 }, 125, () => {\n            $($(\"#simplePopup\").find(\"input\")[0]).trigger(\"focus\");\n        });\n    }\n    hide() {\n        if (!this.canClose)\n            return;\n        activePopup = null;\n        this.wrapper\n            .stop(true, true)\n            .css(\"opacity\", 1)\n            .removeClass(\"hidden\")\n            .animate({ opacity: 0 }, 125, () => {\n            this.wrapper.addClass(\"hidden\");\n        });\n    }\n}\nfunction hide() {\n    if (activePopup)\n        return activePopup.hide();\n    $(\"#simplePopupWrapper\")\n        .stop(true, true)\n        .css(\"opacity\", 1)\n        .removeClass(\"hidden\")\n        .animate({ opacity: 0 }, 125, () => {\n        $(\"#simplePopupWrapper\").addClass(\"hidden\");\n    });\n}\n$(\"#simplePopupWrapper\").mousedown((e) => {\n    if ($(e.target).attr(\"id\") === \"simplePopupWrapper\") {\n        if (activePopup)\n            return activePopup.hide();\n        $(\"#simplePopupWrapper\")\n            .stop(true, true)\n            .css(\"opacity\", 1)\n            .removeClass(\"hidden\")\n            .animate({ opacity: 0 }, 125, () => {\n            $(\"#simplePopupWrapper\").addClass(\"hidden\");\n        });\n    }\n});\n$(document).on(\"click\", \"#simplePopupWrapper .button\", () => {\n    var _a;\n    const id = (_a = $(\"#simplePopup\").attr(\"popupId\")) !== null && _a !== void 0 ? _a : \"\";\n    list[id].exec();\n});\n$(document).on(\"keyup\", \"#simplePopupWrapper input\", (e) => {\n    var _a;\n    if (e.key === \"Enter\") {\n        e.preventDefault();\n        const id = (_a = $(\"#simplePopup\").attr(\"popupId\")) !== null && _a !== void 0 ? _a : \"\";\n        list[id].exec();\n    }\n});\nlist[\"updateEmail\"] = new SimplePopup(\"updateEmail\", \"text\", \"Update Email\", [\n    {\n        placeholder: \"Password\",\n        type: \"password\",\n        initVal: \"\",\n    },\n    {\n        placeholder: \"New email\",\n        initVal: \"\",\n    },\n    {\n        placeholder: \"Confirm new email\",\n        initVal: \"\",\n    },\n], \"\", \"Update\", (_thisPopup, password, email, emailConfirm) => __awaiter(void 0, void 0, void 0, function* () {\n    try {\n        const user = _firebase__WEBPACK_IMPORTED_MODULE_12__.Auth.currentUser;\n        if (user === null)\n            return;\n        if (email !== emailConfirm) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Emails don't match\", 0);\n            return;\n        }\n        if (user.providerData[0].providerId === \"password\") {\n            const credential = firebase_auth__WEBPACK_IMPORTED_MODULE_13__.EmailAuthProvider.credential(user.email, password);\n            yield (0,firebase_auth__WEBPACK_IMPORTED_MODULE_13__.reauthenticateWithCredential)(user, credential);\n        }\n        _elements_loader__WEBPACK_IMPORTED_MODULE_4__.show();\n        const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].users.updateEmail(email, user.email);\n        _elements_loader__WEBPACK_IMPORTED_MODULE_4__.hide();\n        if (response.status !== 200) {\n            return _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Failed to update email: \" + response.message, -1);\n        }\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Email updated\", 1);\n        setTimeout(() => {\n            window.location.reload();\n        }, 1000);\n    }\n    catch (e) {\n        const typedError = e;\n        if (typedError.code === \"auth/wrong-password\") {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Incorrect password\", -1);\n        }\n        else {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Something went wrong: \" + e, -1);\n        }\n    }\n}), (thisPopup) => {\n    const user = _firebase__WEBPACK_IMPORTED_MODULE_12__.Auth.currentUser;\n    if (user === null)\n        return;\n    if (!user.providerData.find((p) => (p === null || p === void 0 ? void 0 : p.providerId) === \"password\")) {\n        thisPopup.inputs = [];\n        thisPopup.buttonText = \"\";\n        thisPopup.text = \"Password authentication is not enabled\";\n    }\n}, (_thisPopup) => {\n    //\n});\nlist[\"updateName\"] = new SimplePopup(\"updateName\", \"text\", \"Update Name\", [\n    {\n        placeholder: \"Password\",\n        type: \"password\",\n        initVal: \"\",\n    },\n    {\n        placeholder: \"New name\",\n        type: \"text\",\n        initVal: \"\",\n    },\n], \"\", \"Update\", (_thisPopup, pass, newName) => __awaiter(void 0, void 0, void 0, function* () {\n    try {\n        const user = _firebase__WEBPACK_IMPORTED_MODULE_12__.Auth.currentUser;\n        if (user === null)\n            return;\n        if (user.providerData[0].providerId === \"password\") {\n            const credential = firebase_auth__WEBPACK_IMPORTED_MODULE_13__.EmailAuthProvider.credential(user.email, pass);\n            yield (0,firebase_auth__WEBPACK_IMPORTED_MODULE_13__.reauthenticateWithCredential)(user, credential);\n        }\n        else if (user.providerData[0].providerId === \"google.com\") {\n            yield (0,firebase_auth__WEBPACK_IMPORTED_MODULE_13__.reauthenticateWithPopup)(user, _controllers_account_controller__WEBPACK_IMPORTED_MODULE_1__.gmailProvider);\n        }\n        _elements_loader__WEBPACK_IMPORTED_MODULE_4__.show();\n        const checkNameResponse = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].users.getNameAvailability(newName);\n        if (checkNameResponse.status !== 200) {\n            _elements_loader__WEBPACK_IMPORTED_MODULE_4__.hide();\n            return _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Failed to check name: \" + checkNameResponse.message, -1);\n        }\n        const updateNameResponse = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].users.updateName(newName);\n        if (updateNameResponse.status !== 200) {\n            _elements_loader__WEBPACK_IMPORTED_MODULE_4__.hide();\n            return _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Failed to update name: \" + updateNameResponse.message, -1);\n        }\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Name updated\", 1);\n        _db__WEBPACK_IMPORTED_MODULE_2__.getSnapshot().name = newName;\n        $(\"#menu .icon-button.account .text\").text(newName);\n    }\n    catch (e) {\n        const typedError = e;\n        if (typedError.code === \"auth/wrong-password\") {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Incorrect password\", -1);\n        }\n        else {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Something went wrong: \" + e, -1);\n        }\n    }\n    _elements_loader__WEBPACK_IMPORTED_MODULE_4__.hide();\n}), (thisPopup) => {\n    const user = _firebase__WEBPACK_IMPORTED_MODULE_12__.Auth.currentUser;\n    if (user === null)\n        return;\n    if (user.providerData[0].providerId === \"google.com\") {\n        thisPopup.inputs[0].hidden = true;\n        thisPopup.buttonText = \"Reauthenticate to update\";\n    }\n}, (_thisPopup) => {\n    //\n});\nlist[\"updatePassword\"] = new SimplePopup(\"updatePassword\", \"text\", \"Update Password\", [\n    {\n        placeholder: \"Password\",\n        type: \"password\",\n        initVal: \"\",\n    },\n    {\n        placeholder: \"New password\",\n        type: \"password\",\n        initVal: \"\",\n    },\n    {\n        placeholder: \"Confirm new password\",\n        type: \"password\",\n        initVal: \"\",\n    },\n], \"\", \"Update\", (_thisPopup, previousPass, newPass, newPassConfirm) => __awaiter(void 0, void 0, void 0, function* () {\n    try {\n        const user = _firebase__WEBPACK_IMPORTED_MODULE_12__.Auth.currentUser;\n        if (user === null)\n            return;\n        const credential = firebase_auth__WEBPACK_IMPORTED_MODULE_13__.EmailAuthProvider.credential(user.email, previousPass);\n        if (newPass !== newPassConfirm) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"New passwords don't match\", 0);\n            return;\n        }\n        _elements_loader__WEBPACK_IMPORTED_MODULE_4__.show();\n        yield (0,firebase_auth__WEBPACK_IMPORTED_MODULE_13__.reauthenticateWithCredential)(user, credential);\n        yield (0,firebase_auth__WEBPACK_IMPORTED_MODULE_13__.updatePassword)(user, newPass);\n        _elements_loader__WEBPACK_IMPORTED_MODULE_4__.hide();\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Password updated\", 1);\n        setTimeout(() => {\n            window.location.reload();\n        }, 1000);\n    }\n    catch (e) {\n        const typedError = e;\n        _elements_loader__WEBPACK_IMPORTED_MODULE_4__.hide();\n        if (typedError.code === \"auth/wrong-password\") {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Incorrect password\", -1);\n        }\n        else {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Something went wrong: \" + e, -1);\n        }\n    }\n}), (thisPopup) => {\n    const user = _firebase__WEBPACK_IMPORTED_MODULE_12__.Auth.currentUser;\n    if (user === null)\n        return;\n    if (!user.providerData.find((p) => (p === null || p === void 0 ? void 0 : p.providerId) === \"password\")) {\n        thisPopup.inputs = [];\n        thisPopup.buttonText = \"\";\n        thisPopup.text = \"Password authentication is not enabled\";\n    }\n}, (_thisPopup) => {\n    //\n});\nlist[\"addPasswordAuth\"] = new SimplePopup(\"addPasswordAuth\", \"text\", \"Add Password Authentication\", [\n    {\n        placeholder: \"email\",\n        type: \"email\",\n        initVal: \"\",\n    },\n    {\n        placeholder: \"confirm email\",\n        type: \"email\",\n        initVal: \"\",\n    },\n    {\n        placeholder: \"new password\",\n        type: \"password\",\n        initVal: \"\",\n    },\n    {\n        placeholder: \"confirm new password\",\n        type: \"password\",\n        initVal: \"\",\n    },\n], \"\", \"Add\", (_thisPopup, email, emailConfirm, pass, passConfirm) => __awaiter(void 0, void 0, void 0, function* () {\n    if (email !== emailConfirm) {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Emails don't match\", 0);\n        return;\n    }\n    if (pass !== passConfirm) {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Passwords don't match\", 0);\n        return;\n    }\n    yield _controllers_account_controller__WEBPACK_IMPORTED_MODULE_1__.addPasswordAuth(email, pass);\n}), () => {\n    //\n}, (_thisPopup) => {\n    //\n});\nlist[\"deleteAccount\"] = new SimplePopup(\"deleteAccount\", \"text\", \"Delete Account\", [\n    {\n        placeholder: \"Password\",\n        type: \"password\",\n        initVal: \"\",\n    },\n], \"This is the last time you can change your mind. After pressing the button everything is gone.\", \"Delete\", (_thisPopup, password) => __awaiter(void 0, void 0, void 0, function* () {\n    var _a;\n    //\n    try {\n        const user = _firebase__WEBPACK_IMPORTED_MODULE_12__.Auth.currentUser;\n        if (user === null)\n            return;\n        if (user.providerData[0].providerId === \"password\") {\n            const credential = firebase_auth__WEBPACK_IMPORTED_MODULE_13__.EmailAuthProvider.credential(user.email, password);\n            yield (0,firebase_auth__WEBPACK_IMPORTED_MODULE_13__.reauthenticateWithCredential)(user, credential);\n        }\n        else if (user.providerData[0].providerId === \"google.com\") {\n            yield (0,firebase_auth__WEBPACK_IMPORTED_MODULE_13__.reauthenticateWithPopup)(user, _controllers_account_controller__WEBPACK_IMPORTED_MODULE_1__.gmailProvider);\n        }\n        _elements_loader__WEBPACK_IMPORTED_MODULE_4__.show();\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Deleting stats...\", 0);\n        const usersResponse = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].users[\"delete\"]();\n        _elements_loader__WEBPACK_IMPORTED_MODULE_4__.hide();\n        if (usersResponse.status !== 200) {\n            return _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Failed to delete user stats: \" + usersResponse.message, -1);\n        }\n        _elements_loader__WEBPACK_IMPORTED_MODULE_4__.show();\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Deleting results...\", 0);\n        const resultsResponse = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].results.deleteAll();\n        _elements_loader__WEBPACK_IMPORTED_MODULE_4__.hide();\n        if (resultsResponse.status !== 200) {\n            return _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Failed to delete user results: \" + resultsResponse.message, -1);\n        }\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Deleting login information...\", 0);\n        yield ((_a = _firebase__WEBPACK_IMPORTED_MODULE_12__.Auth.currentUser) === null || _a === void 0 ? void 0 : _a.delete());\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Goodbye\", 1, 5);\n        setTimeout(() => {\n            location.reload();\n        }, 3000);\n    }\n    catch (e) {\n        const typedError = e;\n        _elements_loader__WEBPACK_IMPORTED_MODULE_4__.hide();\n        if (typedError.code === \"auth/wrong-password\") {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Incorrect password\", -1);\n        }\n        else {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Something went wrong: \" + e, -1);\n        }\n    }\n}), (thisPopup) => {\n    const user = _firebase__WEBPACK_IMPORTED_MODULE_12__.Auth.currentUser;\n    if (user === null)\n        return;\n    if (user.providerData[0].providerId === \"google.com\") {\n        thisPopup.inputs = [];\n        thisPopup.buttonText = \"Reauthenticate to delete\";\n    }\n}, (_thisPopup) => {\n    //\n});\nlist[\"clearTagPb\"] = new SimplePopup(\"clearTagPb\", \"text\", \"Clear Tag PB\", [], `Are you sure you want to clear this tags PB?`, \"Clear\", (thisPopup) => __awaiter(void 0, void 0, void 0, function* () {\n    var _b;\n    const tagId = thisPopup.parameters[0];\n    _elements_loader__WEBPACK_IMPORTED_MODULE_4__.show();\n    const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].users.deleteTagPersonalBest(tagId);\n    _elements_loader__WEBPACK_IMPORTED_MODULE_4__.hide();\n    if (response.status !== 200) {\n        return _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Failed to delete tag's PB: \" + response.message);\n    }\n    if (response.data.resultCode === 1) {\n        const tag = (_b = _db__WEBPACK_IMPORTED_MODULE_2__.getSnapshot().tags) === null || _b === void 0 ? void 0 : _b.filter((t) => t._id === tagId)[0];\n        if (tag === undefined)\n            return;\n        tag.personalBests = {\n            time: {},\n            words: {},\n            zen: { zen: [] },\n            quote: { custom: [] },\n            custom: { custom: [] },\n        };\n        $(`.pageSettings .section.tags .tagsList .tag[id=\"${tagId}\"] .clearPbButton`).attr(\"aria-label\", \"No PB found\");\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Tag PB cleared.\", 0);\n    }\n    else {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Something went wrong: \" + response.message, -1);\n    }\n}), (thisPopup) => {\n    thisPopup.text = `Are you sure you want to clear PB for tag ${thisPopup.parameters[1]}?`;\n}, (_thisPopup) => {\n    //\n});\nlist[\"applyCustomFont\"] = new SimplePopup(\"applyCustomFont\", \"text\", \"Custom font\", [{ placeholder: \"Font name\", initVal: \"\" }], \"Make sure you have the font installed on your computer before applying.\", \"Apply\", (_thisPopup, fontName) => {\n    var _a;\n    if (fontName === \"\")\n        return;\n    (_a = _pages_settings__WEBPACK_IMPORTED_MODULE_6__.groups.fontFamily) === null || _a === void 0 ? void 0 : _a.setValue(fontName.replace(/\\s/g, \"_\"));\n}, () => {\n    //\n}, (_thisPopup) => {\n    //\n});\nlist[\"resetPersonalBests\"] = new SimplePopup(\"resetPersonalBests\", \"text\", \"Reset Personal Bests\", [\n    {\n        placeholder: \"Password\",\n        type: \"password\",\n        initVal: \"\",\n    },\n], \"\", \"Reset\", (_thisPopup, password) => __awaiter(void 0, void 0, void 0, function* () {\n    try {\n        const user = _firebase__WEBPACK_IMPORTED_MODULE_12__.Auth.currentUser;\n        if (user === null)\n            return;\n        if (user.providerData[0].providerId === \"password\") {\n            const credential = firebase_auth__WEBPACK_IMPORTED_MODULE_13__.EmailAuthProvider.credential(user.email, password);\n            yield (0,firebase_auth__WEBPACK_IMPORTED_MODULE_13__.reauthenticateWithCredential)(user, credential);\n        }\n        else if (user.providerData[0].providerId === \"google.com\") {\n            yield (0,firebase_auth__WEBPACK_IMPORTED_MODULE_13__.reauthenticateWithPopup)(user, _controllers_account_controller__WEBPACK_IMPORTED_MODULE_1__.gmailProvider);\n        }\n        _elements_loader__WEBPACK_IMPORTED_MODULE_4__.show();\n        const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].users.deletePersonalBests();\n        _elements_loader__WEBPACK_IMPORTED_MODULE_4__.hide();\n        if (response.status !== 200) {\n            return _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Failed to reset personal bests: \" + response.message, -1);\n        }\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Personal bests have been reset\", 1);\n        _db__WEBPACK_IMPORTED_MODULE_2__.getSnapshot().personalBests = {\n            time: {},\n            words: {},\n            zen: { zen: [] },\n            quote: { custom: [] },\n            custom: { custom: [] },\n        };\n    }\n    catch (e) {\n        _elements_loader__WEBPACK_IMPORTED_MODULE_4__.hide();\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(e, -1);\n    }\n}), (thisPopup) => {\n    const user = _firebase__WEBPACK_IMPORTED_MODULE_12__.Auth.currentUser;\n    if (user === null)\n        return;\n    if (user.providerData[0].providerId === \"google.com\") {\n        thisPopup.inputs = [];\n        thisPopup.buttonText = \"Reauthenticate to reset\";\n    }\n}, (_thisPopup) => {\n    //\n});\nlist[\"resetSettings\"] = new SimplePopup(\"resetSettings\", \"text\", \"Reset Settings\", [], \"Are you sure you want to reset all your settings?\", \"Reset\", () => {\n    _config__WEBPACK_IMPORTED_MODULE_3__.reset();\n    // setTimeout(() => {\n    //   location.reload();\n    // }, 1000);\n}, () => {\n    //\n}, (_thisPopup) => {\n    //\n});\nlist[\"unlinkDiscord\"] = new SimplePopup(\"unlinkDiscord\", \"text\", \"Unlink Discord\", [], \"Are you sure you want to unlink your Discord account?\", \"Unlink\", () => __awaiter(void 0, void 0, void 0, function* () {\n    _elements_loader__WEBPACK_IMPORTED_MODULE_4__.show();\n    const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].users.unlinkDiscord();\n    _elements_loader__WEBPACK_IMPORTED_MODULE_4__.hide();\n    if (response.status !== 200) {\n        return _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Failed to unlink Discord: \" + response.message, -1);\n    }\n    _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Accounts unlinked\", 1);\n    _db__WEBPACK_IMPORTED_MODULE_2__.getSnapshot().discordId = undefined;\n    _pages_settings__WEBPACK_IMPORTED_MODULE_6__.updateDiscordSection();\n}), () => {\n    //\n}, (_thisPopup) => {\n    //\n});\nlist[\"generateApeKey\"] = new SimplePopup(\"generateApeKey\", \"text\", \"Generate new key\", [\n    {\n        placeholder: \"Name\",\n        initVal: \"\",\n    },\n], \"\", \"Generate\", (_thisPopup, name) => __awaiter(void 0, void 0, void 0, function* () {\n    _elements_loader__WEBPACK_IMPORTED_MODULE_4__.show();\n    const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].apeKeys.generate(name, false);\n    _elements_loader__WEBPACK_IMPORTED_MODULE_4__.hide();\n    if (response.status !== 200) {\n        return _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Failed to generate key: \" + response.message, -1);\n    }\n    else {\n        const data = response.data;\n        list[\"viewApeKey\"].show([data.apeKey]);\n    }\n}), () => {\n    //\n}, (_thisPopup) => {\n    //\n});\nlist[\"viewApeKey\"] = new SimplePopup(\"viewApeKey\", \"text\", \"Ape Key\", [\n    {\n        type: \"textarea\",\n        disabled: true,\n        placeholder: \"Key\",\n        initVal: \"\",\n    },\n], \"This is your new Ape Key. Please keep it safe. You will only see it once!\", \"Close\", (_thisPopup) => {\n    _popups_ape_keys_popup__WEBPACK_IMPORTED_MODULE_7__.show();\n}, (_thisPopup) => {\n    _thisPopup.inputs[0].initVal = _thisPopup.parameters[0];\n}, (_thisPopup) => {\n    _thisPopup.canClose = false;\n    $(\"#simplePopup textarea\").css(\"height\", \"110px\");\n    $(\"#simplePopup .button\").addClass(\"hidden\");\n    setTimeout(() => {\n        _thisPopup.canClose = true;\n        $(\"#simplePopup .button\").removeClass(\"hidden\");\n    }, 3000);\n});\nlist[\"deleteApeKey\"] = new SimplePopup(\"deleteApeKey\", \"text\", \"Delete Ape Key\", [], \"Are you sure?\", \"Delete\", (_thisPopup) => __awaiter(void 0, void 0, void 0, function* () {\n    _elements_loader__WEBPACK_IMPORTED_MODULE_4__.show();\n    const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].apeKeys[\"delete\"](_thisPopup.parameters[0]);\n    _elements_loader__WEBPACK_IMPORTED_MODULE_4__.hide();\n    if (response.status !== 200) {\n        return _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Failed to delete key: \" + response.message, -1);\n    }\n    _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Key deleted\", 1);\n    _popups_ape_keys_popup__WEBPACK_IMPORTED_MODULE_7__.show();\n}), (_thisPopup) => {\n    //\n}, (_thisPopup) => {\n    //\n});\nlist[\"editApeKey\"] = new SimplePopup(\"editApeKey\", \"text\", \"Edit Ape Key\", [\n    {\n        placeholder: \"Name\",\n        initVal: \"\",\n    },\n], \"\", \"Edit\", (_thisPopup, input) => __awaiter(void 0, void 0, void 0, function* () {\n    _elements_loader__WEBPACK_IMPORTED_MODULE_4__.show();\n    const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].apeKeys.update(_thisPopup.parameters[0], {\n        name: input,\n    });\n    _elements_loader__WEBPACK_IMPORTED_MODULE_4__.hide();\n    if (response.status !== 200) {\n        return _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Failed to update key: \" + response.message, -1);\n    }\n    _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Key updated\", 1);\n    _popups_ape_keys_popup__WEBPACK_IMPORTED_MODULE_7__.show();\n}), (_thisPopup) => {\n    //\n}, (_thisPopup) => {\n    //\n});\nlist[\"saveCustomText\"] = new SimplePopup(\"saveCustomText\", \"text\", \"Save custom text\", [\n    {\n        placeholder: \"Name\",\n        initVal: \"\",\n    },\n], \"\", \"Save\", (_thisPopup, input) => {\n    const text = $(`#customTextPopup textarea`).val().normalize();\n    _test_custom_text__WEBPACK_IMPORTED_MODULE_9__.setCustomText(input, text);\n    _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Custom text saved\", 1);\n    _popups_custom_text_popup__WEBPACK_IMPORTED_MODULE_10__.show();\n}, () => {\n    //\n}, () => {\n    //\n});\nlist[\"deleteCustomText\"] = new SimplePopup(\"deleteCustomText\", \"text\", \"Delete custom text\", [], \"Are you sure?\", \"Delete\", (_thisPopup) => {\n    _test_custom_text__WEBPACK_IMPORTED_MODULE_9__.deleteCustomText(_thisPopup.parameters[0]);\n    _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Custom text deleted\", 1);\n    _saved_texts_popup__WEBPACK_IMPORTED_MODULE_11__.show();\n}, (_thisPopup) => {\n    _thisPopup.text = `Are you sure you want to delete custom text ${_thisPopup.parameters[0]}?`;\n}, () => {\n    //\n});\nlist[\"updateCustomTheme\"] = new SimplePopup(\"updateCustomTheme\", \"text\", \"Update Custom Theme\", [\n    {\n        type: \"text\",\n        placeholder: \"Name\",\n        initVal: \"\",\n    },\n    {\n        type: \"checkbox\",\n        initVal: \"false\",\n        label: \"Update custom theme to current colors\",\n    },\n], \"\", \"Update\", (_thisPopup, name, updateColors) => __awaiter(void 0, void 0, void 0, function* () {\n    const snapshot = _db__WEBPACK_IMPORTED_MODULE_2__.getSnapshot();\n    const customTheme = snapshot.customThemes.find((t) => t._id === _thisPopup.parameters[0]);\n    if (customTheme === undefined) {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Custom theme does not exist!\", -1);\n        return;\n    }\n    let newColors = [];\n    if (updateColors === \"true\") {\n        $.each($(\".pageSettings .customTheme .customThemeEdit [type='color']\"), (_index, element) => {\n            newColors.push($(element).attr(\"value\"));\n        });\n    }\n    else {\n        newColors = customTheme.colors;\n    }\n    const newTheme = {\n        name: name,\n        colors: newColors,\n    };\n    _elements_loader__WEBPACK_IMPORTED_MODULE_4__.show();\n    yield _db__WEBPACK_IMPORTED_MODULE_2__.editCustomTheme(customTheme._id, newTheme);\n    _elements_loader__WEBPACK_IMPORTED_MODULE_4__.hide();\n    _config__WEBPACK_IMPORTED_MODULE_3__.setCustomThemeColors(newColors);\n    _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Custom theme updated\", 1);\n    _settings_theme_picker__WEBPACK_IMPORTED_MODULE_8__.refreshButtons();\n}), (_thisPopup) => {\n    const snapshot = _db__WEBPACK_IMPORTED_MODULE_2__.getSnapshot();\n    const customTheme = snapshot.customThemes.find((t) => t._id === _thisPopup.parameters[0]);\n    if (!customTheme)\n        return;\n    _thisPopup.inputs[0].initVal = customTheme.name;\n}, (_thisPopup) => {\n    //\n});\nlist[\"deleteCustomTheme\"] = new SimplePopup(\"deleteCustomTheme\", \"text\", \"Delete Custom Theme\", [], \"Are you sure?\", \"Delete\", (_thisPopup) => __awaiter(void 0, void 0, void 0, function* () {\n    _elements_loader__WEBPACK_IMPORTED_MODULE_4__.show();\n    yield _db__WEBPACK_IMPORTED_MODULE_2__.deleteCustomTheme(_thisPopup.parameters[0]);\n    _elements_loader__WEBPACK_IMPORTED_MODULE_4__.hide();\n    _elements_notifications__WEBPACK_IMPORTED_MODULE_5__.add(\"Custom theme deleted\", 1);\n    _settings_theme_picker__WEBPACK_IMPORTED_MODULE_8__.refreshButtons();\n}), (_thisPopup) => {\n    //\n}, (_thisPopup) => {\n    //\n});\n$(\".pageSettings .section.discordIntegration #unlinkDiscordButton\").on(\"click\", () => {\n    list[\"unlinkDiscord\"].show();\n});\n$(\"#resetSettingsButton\").on(\"click\", () => {\n    list[\"resetSettings\"].show();\n});\n$(\".pageSettings #resetPersonalBestsButton\").on(\"click\", () => {\n    list[\"resetPersonalBests\"].show();\n});\n$(\".pageSettings #updateAccountName\").on(\"click\", () => {\n    list[\"updateName\"].show();\n});\n$(\".pageSettings #addPasswordAuth\").on(\"click\", () => {\n    list[\"addPasswordAuth\"].show();\n});\n$(\".pageSettings #emailPasswordAuth\").on(\"click\", () => {\n    list[\"updateEmail\"].show();\n});\n$(\".pageSettings #passPasswordAuth\").on(\"click\", () => {\n    list[\"updatePassword\"].show();\n});\n$(\".pageSettings #deleteAccount\").on(\"click\", () => {\n    list[\"deleteAccount\"].show();\n});\n$(\"#apeKeysPopup .generateApeKey\").on(\"click\", () => {\n    list[\"generateApeKey\"].show();\n});\n$(`#customTextPopup .buttonsTop .saveCustomText`).on(\"click\", () => {\n    list[\"saveCustomText\"].show();\n});\n$(document).on(\"click\", \".pageSettings .section.themes .customTheme .delButton\", (e) => {\n    const $parentElement = $(e.currentTarget).parent(\".customTheme.button\");\n    const customThemeId = $parentElement.attr(\"customThemeId\");\n    list[\"deleteCustomTheme\"].show([customThemeId]);\n});\n$(document).on(\"click\", \".pageSettings .section.themes .customTheme .editButton\", (e) => {\n    const $parentElement = $(e.currentTarget).parent(\".customTheme.button\");\n    const customThemeId = $parentElement.attr(\"customThemeId\");\n    list[\"updateCustomTheme\"].show([customThemeId]);\n});\n$(document).on(\"click\", `#savedTextsPopupWrapper .list .savedText .button.delete`, (e) => {\n    const name = $(e.target).siblings(\".button.name\").text();\n    list[\"deleteCustomText\"].show([name]);\n});\n$(document).on(\"click\", \"#apeKeysPopup table tbody tr .button.delete\", (e) => {\n    const keyId = $(e.target).closest(\"tr\").attr(\"keyId\");\n    list[\"deleteApeKey\"].show([keyId]);\n});\n$(document).on(\"click\", \"#apeKeysPopup table tbody tr .button.edit\", (e) => {\n    const keyId = $(e.target).closest(\"tr\").attr(\"keyId\");\n    list[\"editApeKey\"].show([keyId]);\n});\n$(document).on(\"click\", \".pageSettings .section.fontFamily .button.custom\", () => {\n    list[\"applyCustomFont\"].show([]);\n});\n$(document).on(\"keydown\", (event) => {\n    if (event.key === \"Escape\" && !$(\"#simplePopupWrapper\").hasClass(\"hidden\")) {\n        hide();\n        event.preventDefault();\n    }\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/popups/simple-popups.ts?");

/***/ }),

/***/ "./src/scripts/popups/support-popup.ts":
/*!*********************************************!*\
  !*** ./src/scripts/popups/support-popup.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _elements_commandline__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../elements/commandline */ \"./src/scripts/elements/commandline.ts\");\n/* harmony import */ var _elements_commandline_lists__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../elements/commandline-lists */ \"./src/scripts/elements/commandline-lists.ts\");\n\n\n$(document.body).on(\"click\", \"#supportMeButton\", () => {\n    $(\"#supportMeWrapper\")\n        .css(\"opacity\", 0)\n        .removeClass(\"hidden\")\n        .animate({ opacity: 1 }, 125);\n});\n$(document.body).on(\"click\", \"#supportMeWrapper\", () => {\n    $(\"#supportMeWrapper\")\n        .css(\"opacity\", 1)\n        .animate({ opacity: 0 }, 125, () => {\n        $(\"#supportMeWrapper\").addClass(\"hidden\");\n    });\n});\n$(document.body).on(\"click\", \"#supportMeWrapper .button.ads\", () => {\n    _elements_commandline_lists__WEBPACK_IMPORTED_MODULE_1__.pushCurrent(_elements_commandline_lists__WEBPACK_IMPORTED_MODULE_1__.commandsEnableAds);\n    _elements_commandline__WEBPACK_IMPORTED_MODULE_0__.show();\n    $(\"#supportMeWrapper\")\n        .css(\"opacity\", 1)\n        .animate({ opacity: 0 }, 125, () => {\n        $(\"#supportMeWrapper\").addClass(\"hidden\");\n    });\n});\n$(document.body).on(\"click\", \"#supportMeWrapper a.button\", () => {\n    $(\"#supportMeWrapper\")\n        .css(\"opacity\", 1)\n        .animate({ opacity: 0 }, 125, () => {\n        $(\"#supportMeWrapper\").addClass(\"hidden\");\n    });\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/popups/support-popup.ts?");

/***/ }),

/***/ "./src/scripts/popups/version-popup.ts":
/*!*********************************************!*\
  !*** ./src/scripts/popups/version-popup.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"show\": () => (/* binding */ show)\n/* harmony export */ });\nfunction show() {\n    $(\"#versionHistoryWrapper\")\n        .css(\"opacity\", 0)\n        .removeClass(\"hidden\")\n        .animate({ opacity: 1 }, 125);\n}\n$(document.body).on(\"click\", \".version\", (e) => {\n    if (e.shiftKey)\n        return;\n    show();\n});\n$(document.body).on(\"click\", \"#versionHistoryWrapper\", (e) => {\n    if ($(e.target).attr(\"id\") === \"versionHistoryWrapper\") {\n        $(\"#versionHistoryWrapper\")\n            .css(\"opacity\", 1)\n            .animate({ opacity: 0 }, 125, () => {\n            $(\"#versionHistoryWrapper\").addClass(\"hidden\");\n        });\n    }\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/popups/version-popup.ts?");

/***/ }),

/***/ "./src/scripts/popups/word-filter-popup.ts":
/*!*************************************************!*\
  !*** ./src/scripts/popups/word-filter-popup.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"show\": () => (/* binding */ show)\n/* harmony export */ });\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _test_custom_text__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../test/custom-text */ \"./src/scripts/test/custom-text.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\nlet initialised = false;\nfunction init() {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!initialised) {\n            $(\"#wordFilterPopup .languageInput\").empty();\n            const LanguageList = yield _utils_misc__WEBPACK_IMPORTED_MODULE_0__.getLanguageList();\n            LanguageList.forEach((language) => {\n                let prettyLang = language;\n                prettyLang = prettyLang.replace(\"_\", \" \");\n                $(\"#wordFilterPopup .languageInput\").append(`\n        <option value=${language}>${prettyLang}</option>\n      `);\n            });\n            initialised = true;\n        }\n    });\n}\nfunction show() {\n    return __awaiter(this, void 0, void 0, function* () {\n        yield init();\n        $(\"#wordFilterPopupWrapper\").removeClass(\"hidden\");\n        $(\"#customTextPopupWrapper\").addClass(\"hidden\");\n        $(\"#wordFilterPopup .languageInput\").select2({\n            width: \"100%\",\n        });\n    });\n}\nfunction hide() {\n    $(\"#wordFilterPopupWrapper\").addClass(\"hidden\");\n    $(\"#customTextPopupWrapper\").removeClass(\"hidden\");\n}\nfunction filter(language) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let filterin = $(\"#wordFilterPopup .wordIncludeInput\").val();\n        filterin = _utils_misc__WEBPACK_IMPORTED_MODULE_0__.escapeRegExp(filterin === null || filterin === void 0 ? void 0 : filterin.trim());\n        filterin = filterin.replace(/\\s+/gi, \"|\");\n        const regincl = new RegExp(filterin, \"i\");\n        let filterout = $(\"#wordFilterPopup .wordExcludeInput\").val();\n        filterout = _utils_misc__WEBPACK_IMPORTED_MODULE_0__.escapeRegExp(filterout.trim());\n        filterout = filterout.replace(/\\s+/gi, \"|\");\n        const regexcl = new RegExp(filterout, \"i\");\n        const filteredWords = [];\n        const languageWordList = yield _utils_misc__WEBPACK_IMPORTED_MODULE_0__.getLanguage(language);\n        const maxLengthInput = $(\"#wordFilterPopup .wordMaxInput\").val();\n        const minLengthInput = $(\"#wordFilterPopup .wordMinInput\").val();\n        let maxLength;\n        let minLength;\n        if (maxLengthInput == \"\") {\n            maxLength = 999;\n        }\n        else {\n            maxLength = parseInt(maxLengthInput);\n        }\n        if (minLengthInput == \"\") {\n            minLength = 1;\n        }\n        else {\n            minLength = parseInt(minLengthInput);\n        }\n        for (let i = 0; i < languageWordList.words.length; i++) {\n            const word = languageWordList.words[i];\n            const test1 = regincl.test(word);\n            const test2 = regexcl.test(word);\n            if (((test1 && !test2) || (test1 && filterout == \"\")) &&\n                word.length <= maxLength &&\n                word.length >= minLength) {\n                filteredWords.push(word);\n            }\n        }\n        return filteredWords;\n    });\n}\nfunction apply(set) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const language = $(\"#wordFilterPopup .languageInput\").val();\n        const filteredWords = yield filter(language);\n        const customText = filteredWords.join(_test_custom_text__WEBPACK_IMPORTED_MODULE_1__.delimiter);\n        $(\"#customTextPopup textarea\").val((_, val) => (set ? \"\" : val + \" \") + customText);\n        hide();\n    });\n}\n$(\"#wordFilterPopupWrapper\").mousedown((e) => {\n    if ($(e.target).attr(\"id\") === \"wordFilterPopupWrapper\") {\n        hide();\n    }\n});\n$(\"#wordFilterPopup .languageInput\").one(\"select2:open\", function () {\n    $(\"input.select2-search__field\").prop(\"placeholder\", \"search\");\n});\n$(\"#wordFilterPopupWrapper .button\").mousedown((e) => {\n    $(\"#wordFilterPopupWrapper .loadingIndicator\").removeClass(\"hidden\");\n    $(\"#wordFilterPopupWrapper .button\").addClass(\"hidden\");\n    setTimeout(() => {\n        apply($(e.target).is(\"#set\")).then(() => {\n            $(\"#wordFilterPopupWrapper .loadingIndicator\").addClass(\"hidden\");\n            $(\"#wordFilterPopupWrapper .button\").removeClass(\"hidden\");\n        });\n    }, 1);\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/popups/word-filter-popup.ts?");

/***/ }),

/***/ "./src/scripts/ready.ts":
/*!******************************!*\
  !*** ./src/scripts/ready.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _test_manual_restart_tracker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./test/manual-restart-tracker */ \"./src/scripts/test/manual-restart-tracker.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _controllers_verification_controller__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./controllers/verification-controller */ \"./src/scripts/controllers/verification-controller.ts\");\n/* harmony import */ var _controllers_route_controller__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./controllers/route-controller */ \"./src/scripts/controllers/route-controller.ts\");\n/* harmony import */ var _controllers_page_controller__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./controllers/page-controller */ \"./src/scripts/controllers/page-controller.ts\");\n/* harmony import */ var _elements_monkey_power__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./elements/monkey-power */ \"./src/scripts/elements/monkey-power.ts\");\n/* harmony import */ var _elements_version_check__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./elements/version-check */ \"./src/scripts/elements/version-check.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./elements/notifications */ \"./src/scripts/elements/notifications.ts\");\n/* harmony import */ var _test_focus__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./test/focus */ \"./src/scripts/test/focus.ts\");\n\n\n\n\n\n\n\n\n\n\n_test_manual_restart_tracker__WEBPACK_IMPORTED_MODULE_0__.set();\n_config__WEBPACK_IMPORTED_MODULE_1__.loadFromLocalStorage();\nif (window.location.hostname === \"localhost\") {\n    $(\"#bottom .version .text\").text(\"localhost\");\n    $(\"#bottom .version\").css(\"opacity\", 1);\n}\nelse {\n    _utils_misc__WEBPACK_IMPORTED_MODULE_2__.getReleasesFromGitHub().then((v) => {\n        _elements_version_check__WEBPACK_IMPORTED_MODULE_7__.show(v[0].name);\n    });\n}\n_test_focus__WEBPACK_IMPORTED_MODULE_9__.set(true, true);\n_controllers_route_controller__WEBPACK_IMPORTED_MODULE_4__.handleInitialPageClasses(window.location.pathname);\n$(document).ready(() => {\n    if (window.location.pathname === \"/\") {\n        // $(\"#top .config\").removeClass(\"hidden\");\n    }\n    $(\"body\").css(\"transition\", \"all .25s, transform .05s\");\n    if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].quickTab) {\n        $(\"#restartTestButton\").addClass(\"hidden\");\n    }\n    if (!window.localStorage.getItem(\"merchbannerclosed\")) {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_8__.addBanner(`Checkout our merchandise, available at <a target=\"_blank\" href=\"https://monkeytype.store/\">monkeytype.store</a>`, 1, \"images/merchdropwebsite2.png\", false, () => {\n            window.localStorage.setItem(\"merchbannerclosed\", \"true\");\n        });\n    }\n    $(\"#centerContent\")\n        .css(\"opacity\", \"0\")\n        .removeClass(\"hidden\")\n        .stop(true, true)\n        .animate({ opacity: 1 }, 250, () => {\n        if (window.location.pathname === \"/verify\") {\n            const fragment = new URLSearchParams(window.location.hash.slice(1));\n            if (fragment.has(\"access_token\")) {\n                const accessToken = fragment.get(\"access_token\");\n                const tokenType = fragment.get(\"token_type\");\n                _controllers_verification_controller__WEBPACK_IMPORTED_MODULE_3__.set({\n                    accessToken: accessToken,\n                    tokenType: tokenType,\n                });\n                history.replaceState(\"/\", \"\", \"/\");\n            }\n            const page = window.location.pathname.replace(\"/\", \"\");\n            _controllers_page_controller__WEBPACK_IMPORTED_MODULE_5__.change(page);\n        }\n        else if (window.location.pathname === \"/account\") {\n            // history.replaceState(\"/\", null, \"/\");\n        }\n        else if (/challenge_.+/g.test(window.location.pathname)) {\n            //do nothing\n            // }\n        }\n        else if (window.location.pathname !== \"/\") {\n            // let page = window.location.pathname.replace(\"/\", \"\");\n            // PageController.change(page);\n        }\n    });\n    // Settings.settingsFillPromise.then(Settings.update);\n    _elements_monkey_power__WEBPACK_IMPORTED_MODULE_6__.init();\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/ready.ts?");

/***/ }),

/***/ "./src/scripts/settings/settings-group.ts":
/*!************************************************!*\
  !*** ./src/scripts/settings/settings-group.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SettingsGroup)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n\nclass SettingsGroup {\n    constructor(configName, configFunction, mode, setCallback, updateCallback) {\n        this.configName = configName;\n        this.configValue = _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"][configName];\n        this.mode = mode;\n        this.configFunction = configFunction;\n        this.setCallback = setCallback;\n        this.updateCallback = updateCallback;\n        this.updateInput();\n        if (this.mode === \"select\") {\n            $(document).on(\"change\", `.pageSettings .section.${this.configName} select`, (e) => {\n                const target = $(e.currentTarget);\n                if (target.hasClass(\"disabled\") ||\n                    target.hasClass(\"no-auto-handle\")) {\n                    return;\n                }\n                this.setValue(target.val());\n            });\n        }\n        else if (this.mode === \"button\") {\n            $(document).on(\"click\", `.pageSettings .section.${this.configName} .button`, (e) => {\n                const target = $(e.currentTarget);\n                if (target.hasClass(\"disabled\") ||\n                    target.hasClass(\"no-auto-handle\")) {\n                    return;\n                }\n                let value = target.attr(configName);\n                const params = target.attr(\"params\");\n                if (!value && !params)\n                    return;\n                if (value === \"true\")\n                    value = true;\n                if (value === \"false\")\n                    value = false;\n                this.setValue(value, params);\n            });\n        }\n    }\n    setValue(value, params) {\n        if (params === undefined) {\n            this.configFunction(value);\n        }\n        else {\n            this.configFunction(value, ...params);\n        }\n        this.updateInput();\n        if (this.setCallback)\n            this.setCallback();\n    }\n    updateInput() {\n        this.configValue = _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"][this.configName];\n        $(`.pageSettings .section.${this.configName} .button`).removeClass(\"active\");\n        if (this.mode === \"select\") {\n            $(`.pageSettings .section.${this.configName} select`)\n                .val(this.configValue)\n                .trigger(\"change.select2\");\n        }\n        else if (this.mode === \"button\") {\n            $(`.pageSettings .section.${this.configName} .button[${this.configName}='${this.configValue}']`).addClass(\"active\");\n        }\n        if (this.updateCallback)\n            this.updateCallback();\n    }\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/settings/settings-group.ts?");

/***/ }),

/***/ "./src/scripts/settings/theme-picker.ts":
/*!**********************************************!*\
  !*** ./src/scripts/settings/theme-picker.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"updateActiveButton\": () => (/* binding */ updateActiveButton),\n/* harmony export */   \"refreshButtons\": () => (/* binding */ refreshButtons),\n/* harmony export */   \"setCustomInputs\": () => (/* binding */ setCustomInputs),\n/* harmony export */   \"saveCustomThemeColors\": () => (/* binding */ saveCustomThemeColors),\n/* harmony export */   \"updateActiveTab\": () => (/* binding */ updateActiveTab)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _controllers_theme_controller__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/theme-controller */ \"./src/scripts/controllers/theme-controller.ts\");\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../elements/notifications */ \"./src/scripts/elements/notifications.ts\");\n/* harmony import */ var _elements_theme_colors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../elements/theme-colors */ \"./src/scripts/elements/theme-colors.ts\");\n/* harmony import */ var _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../controllers/chart-controller */ \"./src/scripts/controllers/chart-controller.js\");\n/* harmony import */ var _popups_custom_theme_popup__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../popups/custom-theme-popup */ \"./src/scripts/popups/custom-theme-popup.ts\");\n/* harmony import */ var _elements_loader__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../elements/loader */ \"./src/scripts/elements/loader.ts\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../db */ \"./src/scripts/db.ts\");\n/* harmony import */ var _observables_config_event__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../observables/config-event */ \"./src/scripts/observables/config-event.ts\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../firebase */ \"./src/scripts/firebase.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\n\n\n\n\n\nfunction updateActiveButton() {\n    let activeThemeName = _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].theme;\n    if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].randomTheme !== \"off\" &&\n        _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].randomTheme !== \"custom\" &&\n        _controllers_theme_controller__WEBPACK_IMPORTED_MODULE_1__.randomTheme !== null) {\n        activeThemeName = _controllers_theme_controller__WEBPACK_IMPORTED_MODULE_1__.randomTheme;\n    }\n    $(`.pageSettings .section.themes .theme`).removeClass(\"active\");\n    $(`.pageSettings .section.themes .theme[theme=${activeThemeName}]`).addClass(\"active\");\n}\nfunction updateColors(colorPicker, color, onlyStyle = false, noThemeUpdate = false) {\n    if (onlyStyle) {\n        const colorID = colorPicker.find(\"input[type=color]\").attr(\"id\");\n        if (colorID === undefined)\n            console.error(\"Could not find color ID!\");\n        if (!noThemeUpdate && colorID !== undefined) {\n            document.documentElement.style.setProperty(colorID, color);\n        }\n        const pickerButton = colorPicker.find(\"label\");\n        pickerButton.val(color);\n        pickerButton.attr(\"value\", color);\n        if (pickerButton.attr(\"for\") !== \"--bg-color\") {\n            pickerButton.css(\"background-color\", color);\n        }\n        colorPicker.find(\"input[type=text]\").val(color);\n        colorPicker.find(\"input[type=color]\").attr(\"value\", color);\n        return;\n    }\n    const colorREGEX = [\n        {\n            rule: /\\b[0-9]{1,3},\\s?[0-9]{1,3},\\s?[0-9]{1,3}\\s*\\b/,\n            start: \"rgb(\",\n            end: \")\",\n        },\n        {\n            rule: /\\b[A-Z, a-z, 0-9]{6}\\b/,\n            start: \"#\",\n            end: \"\",\n        },\n        {\n            rule: /\\b[0-9]{1,3},\\s?[0-9]{1,3}%,\\s?[0-9]{1,3}%?\\s*\\b/,\n            start: \"hsl(\",\n            end: \")\",\n        },\n    ];\n    color = color.replace(\"\", \"\");\n    for (const regex of colorREGEX) {\n        if (color.match(regex.rule)) {\n            color = regex.start + color + regex.end;\n            break;\n        }\n    }\n    $(\".colorConverter\").css(\"color\", color);\n    const hexColor = _utils_misc__WEBPACK_IMPORTED_MODULE_2__.convertRGBtoHEX($(\".colorConverter\").css(\"color\"));\n    if (hexColor === undefined) {\n        return;\n    }\n    color = hexColor;\n    const colorID = colorPicker.find(\"input[type=color]\").attr(\"id\");\n    if (colorID === undefined)\n        console.error(\"Could not find color ID!\");\n    if (!noThemeUpdate && colorID !== undefined) {\n        document.documentElement.style.setProperty(colorID, color);\n    }\n    const pickerButton = colorPicker.find(\"label\");\n    pickerButton.val(color);\n    pickerButton.attr(\"value\", color);\n    if (pickerButton.attr(\"for\") !== \"--bg-color\") {\n        pickerButton.css(\"background-color\", color);\n    }\n    colorPicker.find(\"input[type=text]\").val(color);\n    colorPicker.find(\"input[type=color]\").attr(\"value\", color);\n}\nfunction refreshButtons() {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].customTheme) {\n            // Update custom theme buttons\n            const customThemesEl = $(\".pageSettings .section.themes .allCustomThemes.buttons\").empty();\n            const addButton = $(\".pageSettings .section.themes .addCustomThemeButton\");\n            if (_firebase__WEBPACK_IMPORTED_MODULE_10__.Auth.currentUser === null) {\n                $(\".pageSettings .section.themes .customThemeEdit .saveCustomThemeButton\").text(\"save\");\n                return;\n            }\n            else {\n                $(\".pageSettings .section.themes .customThemeEdit .saveCustomThemeButton\").text(\"save as new\");\n            }\n            addButton.removeClass(\"hidden\");\n            const customThemes = _db__WEBPACK_IMPORTED_MODULE_8__.getSnapshot().customThemes;\n            customThemes.forEach((customTheme) => {\n                // const activeTheme =\n                //   Config.customThemeId === customTheme._id ? \"active\" : \"\";\n                const bgColor = customTheme.colors[0];\n                const mainColor = customTheme.colors[1];\n                customThemesEl.append(`<div class=\"customTheme button\" customThemeId='${customTheme._id}' \n        style=\"color:${mainColor};background:${bgColor}\">\n        <div class=\"editButton\"><i class=\"fas fa-pen\"></i></div>\n        <div class=\"text\">${customTheme.name.replace(/_/g, \" \")}</div>\n        <div class=\"delButton\"><i class=\"fas fa-trash fa-fw\"></i></div>\n        </div>`);\n            });\n        }\n        else {\n            // Update theme buttons\n            const favThemesEl = $(\".pageSettings .section.themes .favThemes.buttons\").empty();\n            const themesEl = $(\".pageSettings .section.themes .allThemes.buttons\").empty();\n            let activeThemeName = _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].theme;\n            if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].randomTheme !== \"off\" &&\n                _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].randomTheme !== \"custom\" &&\n                _controllers_theme_controller__WEBPACK_IMPORTED_MODULE_1__.randomTheme !== null) {\n                activeThemeName = _controllers_theme_controller__WEBPACK_IMPORTED_MODULE_1__.randomTheme;\n            }\n            const themes = yield _utils_misc__WEBPACK_IMPORTED_MODULE_2__.getSortedThemesList();\n            //first show favourites\n            if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].favThemes.length > 0) {\n                favThemesEl.css({ paddingBottom: \"1rem\" });\n                themes.forEach((theme) => {\n                    if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].favThemes.includes(theme.name)) {\n                        const activeTheme = activeThemeName === theme.name ? \"active\" : \"\";\n                        favThemesEl.append(`<div class=\"theme button ${activeTheme}\" theme='${theme.name}' \n            style=\"color:${theme.mainColor};background:${theme.bgColor}\">\n            <div class=\"activeIndicator\"><i class=\"fas fa-circle\"></i></div>\n            <div class=\"text\">${theme.name.replace(/_/g, \" \")}</div>\n            <div class=\"favButton active\"><i class=\"fas fa-star\"></i></div></div>`);\n                    }\n                });\n            }\n            else {\n                favThemesEl.css({ paddingBottom: \"0\" });\n            }\n            //then the rest\n            themes.forEach((theme) => {\n                if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].favThemes.includes(theme.name)) {\n                    return;\n                }\n                const activeTheme = activeThemeName === theme.name ? \"active\" : \"\";\n                themesEl.append(`<div class=\"theme button ${activeTheme}\" theme='${theme.name}' style=\"color:${theme.mainColor};background:${theme.bgColor}\">\n        <div class=\"activeIndicator\"><i class=\"fas fa-circle\"></i></div>\n        <div class=\"text\">${theme.name.replace(/_/g, \" \")}</div>\n        <div class=\"favButton\"><i class=\"far fa-star\"></i></div></div>`);\n            });\n        }\n        updateActiveButton();\n    });\n}\nfunction setCustomInputs(noThemeUpdate = false) {\n    $(\".pageSettings .section.themes .tabContainer .customTheme .colorPicker\").each((_index, element) => {\n        const currentColor = _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].customThemeColors[_controllers_theme_controller__WEBPACK_IMPORTED_MODULE_1__.colorVars.indexOf($(element).find(\"input[type=color]\").attr(\"id\"))];\n        updateColors($(element), currentColor, false, noThemeUpdate);\n    });\n}\nfunction toggleFavourite(themeName) {\n    if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].favThemes.includes(themeName)) {\n        // already favourite, remove\n        _config__WEBPACK_IMPORTED_MODULE_0__.setFavThemes(_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].favThemes.filter((t) => t !== themeName));\n    }\n    else {\n        // add to favourites\n        const newList = _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].favThemes;\n        newList.push(themeName);\n        _config__WEBPACK_IMPORTED_MODULE_0__.setFavThemes(newList);\n    }\n    _config__WEBPACK_IMPORTED_MODULE_0__.saveFullConfigToLocalStorage();\n}\nfunction saveCustomThemeColors() {\n    const newColors = [];\n    $.each($(\".pageSettings .customTheme .customThemeEdit [type='color']\"), (_index, element) => {\n        newColors.push($(element).attr(\"value\"));\n    });\n    _config__WEBPACK_IMPORTED_MODULE_0__.setCustomThemeColors(newColors);\n    _elements_notifications__WEBPACK_IMPORTED_MODULE_3__.add(\"Custom theme saved\", 1);\n}\nfunction updateActiveTab(forced = false) {\n    // Set force to true only when some change for the active tab has taken place\n    // Prevent theme buttons from being added twice by doing an update only when the state has changed\n    const $presetTabButton = $(\".pageSettings .section.themes .tabs .button[tab='preset']\");\n    const $customTabButton = $(\".pageSettings .section.themes .tabs .button[tab='custom']\");\n    if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].customTheme) {\n        $presetTabButton.removeClass(\"active\");\n        if (!$customTabButton.hasClass(\"active\") || forced) {\n            $customTabButton.addClass(\"active\");\n            refreshButtons();\n        }\n        _utils_misc__WEBPACK_IMPORTED_MODULE_2__.swapElements($('.pageSettings [tabContent=\"preset\"]'), $('.pageSettings [tabContent=\"custom\"]'), 250);\n    }\n    else {\n        $customTabButton.removeClass(\"active\");\n        if (!$presetTabButton.hasClass(\"active\") || forced) {\n            $presetTabButton.addClass(\"active\");\n            refreshButtons();\n        }\n        _utils_misc__WEBPACK_IMPORTED_MODULE_2__.swapElements($('.pageSettings [tabContent=\"custom\"]'), $('.pageSettings [tabContent=\"preset\"]'), 250);\n    }\n}\n// Add events to the DOM\n// Handle click on theme: preset or custom tab\n$(\".pageSettings .section.themes .tabs .button\").on(\"click\", (e) => {\n    $(\".pageSettings .section.themes .tabs .button\").removeClass(\"active\");\n    const $target = $(e.currentTarget);\n    $target.addClass(\"active\");\n    setCustomInputs();\n    if ($target.attr(\"tab\") == \"preset\") {\n        _config__WEBPACK_IMPORTED_MODULE_0__.setCustomTheme(false);\n    }\n    else {\n        _config__WEBPACK_IMPORTED_MODULE_0__.setCustomTheme(true);\n    }\n});\n// Handle click on custom theme button\n$(document).on(\"click\", \".pageSettings .section.themes .customTheme.button\", (e) => {\n    var _a;\n    // Do not apply if user wanted to delete it\n    if ($(e.target).hasClass(\"delButton\"))\n        return;\n    if ($(e.target).hasClass(\"editButton\"))\n        return;\n    const customThemeId = (_a = $(e.currentTarget).attr(\"customThemeId\")) !== null && _a !== void 0 ? _a : \"\";\n    _controllers_theme_controller__WEBPACK_IMPORTED_MODULE_1__.set(customThemeId, true);\n});\n// Handle click on favorite preset theme button\n$(document).on(\"click\", \".pageSettings .section.themes .theme .favButton\", (e) => {\n    const theme = $(e.currentTarget).parents(\".theme.button\").attr(\"theme\");\n    if (theme !== undefined)\n        toggleFavourite(theme);\n    else {\n        console.error(\"Could not find the theme attribute attached to the button clicked!\");\n    }\n});\n// Handle click on preset theme button\n$(document).on(\"click\", \".pageSettings .section.themes .theme.button\", (e) => {\n    const theme = $(e.currentTarget).attr(\"theme\");\n    if (!$(e.target).hasClass(\"favButton\") && theme !== undefined) {\n        _config__WEBPACK_IMPORTED_MODULE_0__.setTheme(theme);\n        updateActiveButton();\n    }\n});\n$(\".pageSettings .section.themes .tabContainer .customTheme input[type=color]\").on(\"input\", (e) => {\n    const $colorVar = $(e.currentTarget).attr(\"id\");\n    const $pickedColor = $(e.currentTarget).val();\n    updateColors($(\".colorPicker #\" + $colorVar).parent(), $pickedColor, true);\n});\n$(\".pageSettings .section.themes .tabContainer .customTheme input[type=color]\").on(\"change\", (e) => {\n    const $colorVar = $(e.currentTarget).attr(\"id\");\n    const $pickedColor = $(e.currentTarget).val();\n    updateColors($(\".colorPicker #\" + $colorVar).parent(), $pickedColor);\n});\n$(\".pageSettings .section.themes .tabContainer .customTheme input[type=text]\")\n    .on(\"blur\", (e) => {\n    if (e.target.id === \"name\")\n        return;\n    const $colorVar = $(e.currentTarget).attr(\"id\");\n    const $pickedColor = $(e.currentTarget).val();\n    updateColors($(\".colorPicker #\" + $colorVar).parent(), $pickedColor);\n})\n    .on(\"keypress\", function (e) {\n    if (e.target.id === \"name\")\n        return;\n    if (e.code === \"Enter\") {\n        $(this).attr(\"disabled\", \"disabled\");\n        const $colorVar = $(e.currentTarget).attr(\"id\");\n        const $pickedColor = $(e.currentTarget).val();\n        updateColors($(\".colorPicker #\" + $colorVar).parent(), $pickedColor);\n        $(this).removeAttr(\"disabled\");\n    }\n});\n$(\".pageSettings #loadCustomColorsFromPreset\").on(\"click\", () => {\n    // previewTheme(Config.theme);\n    $(\"#currentTheme\").attr(\"href\", `themes/${_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].theme}.css`);\n    _controllers_theme_controller__WEBPACK_IMPORTED_MODULE_1__.colorVars.forEach((e) => {\n        document.documentElement.style.setProperty(e, \"\");\n    });\n    setTimeout(() => __awaiter(void 0, void 0, void 0, function* () {\n        _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_5__.updateAllChartColors();\n        const themeColors = yield _elements_theme_colors__WEBPACK_IMPORTED_MODULE_4__.getAll();\n        _controllers_theme_controller__WEBPACK_IMPORTED_MODULE_1__.colorVars.forEach((colorName) => {\n            let color;\n            if (colorName === \"--bg-color\") {\n                color = themeColors.bg;\n            }\n            else if (colorName === \"--main-color\") {\n                color = themeColors.main;\n            }\n            else if (colorName === \"--sub-color\") {\n                color = themeColors.sub;\n            }\n            else if (colorName === \"--caret-color\") {\n                color = themeColors.caret;\n            }\n            else if (colorName === \"--text-color\") {\n                color = themeColors.text;\n            }\n            else if (colorName === \"--error-color\") {\n                color = themeColors.error;\n            }\n            else if (colorName === \"--error-extra-color\") {\n                color = themeColors.errorExtra;\n            }\n            else if (colorName === \"--colorful-error-color\") {\n                color = themeColors.colorfulError;\n            }\n            else if (colorName === \"--colorful-error-extra-color\") {\n                color = themeColors.colorfulErrorExtra;\n            }\n            updateColors($(\".colorPicker #\" + colorName).parent(), color);\n        });\n    }), 250);\n});\n// Handles click on share custom theme button\n$(\"#shareCustomThemeButton\").on(\"click\", () => {\n    const share = [];\n    $.each($(\".pageSettings .customTheme .customThemeEdit [type='color']\"), (_, element) => {\n        share.push($(element).attr(\"value\"));\n    });\n    const url = \"https://monkeytype.com?customTheme=\" + btoa(JSON.stringify(share));\n    navigator.clipboard.writeText(url).then(function () {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_3__.add(\"URL Copied to clipboard\", 0);\n    }, function () {\n        _popups_custom_theme_popup__WEBPACK_IMPORTED_MODULE_6__.show(url);\n    });\n});\n$(\".pageSettings .saveCustomThemeButton\").on(\"click\", () => __awaiter(void 0, void 0, void 0, function* () {\n    saveCustomThemeColors();\n    if (_firebase__WEBPACK_IMPORTED_MODULE_10__.Auth.currentUser) {\n        const newCustomTheme = {\n            name: \"custom\",\n            colors: _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].customThemeColors,\n        };\n        _elements_loader__WEBPACK_IMPORTED_MODULE_7__.show();\n        const response = yield _db__WEBPACK_IMPORTED_MODULE_8__.addCustomTheme(newCustomTheme);\n        _elements_loader__WEBPACK_IMPORTED_MODULE_7__.hide();\n        if (response) {\n            updateActiveTab(true);\n        }\n    }\n    else {\n        updateActiveTab(true);\n    }\n}));\n_observables_config_event__WEBPACK_IMPORTED_MODULE_9__.subscribe((eventKey) => {\n    if (eventKey === \"customThemeId\")\n        refreshButtons();\n    // if (eventKey === \"customTheme\") updateActiveTab();\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/settings/theme-picker.ts?");

/***/ }),

/***/ "./src/scripts/states/active-page.ts":
/*!*******************************************!*\
  !*** ./src/scripts/states/active-page.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"get\": () => (/* binding */ get),\n/* harmony export */   \"set\": () => (/* binding */ set)\n/* harmony export */ });\nlet activePage = \"loading\";\nfunction get() {\n    return activePage;\n}\nfunction set(active) {\n    activePage = active;\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/states/active-page.ts?");

/***/ }),

/***/ "./src/scripts/states/glarses-mode.ts":
/*!********************************************!*\
  !*** ./src/scripts/states/glarses-mode.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"get\": () => (/* binding */ get),\n/* harmony export */   \"enable\": () => (/* binding */ enable)\n/* harmony export */ });\nlet glarsesMode = false;\nfunction get() {\n    return glarsesMode;\n}\nfunction enable() {\n    glarsesMode = true;\n    console.log(\"Glarses Mode On - test result will be hidden. You can check the stats in the console (here)\");\n    console.log(\"To disable Glarses Mode refresh the page.\");\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/states/glarses-mode.ts?");

/***/ }),

/***/ "./src/scripts/states/page-transition.ts":
/*!***********************************************!*\
  !*** ./src/scripts/states/page-transition.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"set\": () => (/* binding */ set),\n/* harmony export */   \"get\": () => (/* binding */ get)\n/* harmony export */ });\nlet transition = true;\nfunction set(val) {\n    transition = val;\n}\nfunction get() {\n    return transition;\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/states/page-transition.ts?");

/***/ }),

/***/ "./src/scripts/states/slow-timer.ts":
/*!******************************************!*\
  !*** ./src/scripts/states/slow-timer.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"set\": () => (/* binding */ set),\n/* harmony export */   \"clear\": () => (/* binding */ clear),\n/* harmony export */   \"get\": () => (/* binding */ get)\n/* harmony export */ });\nlet slowTimer = false;\nfunction set() {\n    if (slowTimer)\n        return;\n    slowTimer = true;\n    console.error(\"Slow timer, disabling animations\");\n    // Notifications.add(\"Slow timer detected\", -1, 5);\n}\nfunction clear() {\n    slowTimer = false;\n}\nfunction get() {\n    return slowTimer;\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/states/slow-timer.ts?");

/***/ }),

/***/ "./src/scripts/states/test-active.ts":
/*!*******************************************!*\
  !*** ./src/scripts/states/test-active.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"get\": () => (/* binding */ get),\n/* harmony export */   \"set\": () => (/* binding */ set)\n/* harmony export */ });\nlet testActive = false;\nfunction get() {\n    return testActive;\n}\nfunction set(active) {\n    testActive = active;\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/states/test-active.ts?");

/***/ }),

/***/ "./src/scripts/states/time.ts":
/*!************************************!*\
  !*** ./src/scripts/states/time.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"get\": () => (/* binding */ get),\n/* harmony export */   \"set\": () => (/* binding */ set),\n/* harmony export */   \"increment\": () => (/* binding */ increment)\n/* harmony export */ });\nlet time = 0;\nfunction get() {\n    return time;\n}\nfunction set(active) {\n    time = active;\n}\nfunction increment() {\n    time++;\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/states/time.ts?");

/***/ }),

/***/ "./src/scripts/test/british-english.ts":
/*!*********************************************!*\
  !*** ./src/scripts/test/british-english.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getList\": () => (/* binding */ getList),\n/* harmony export */   \"replace\": () => (/* binding */ replace)\n/* harmony export */ });\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\nlet list = [];\nfunction getList() {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (list.length === 0) {\n            return $.getJSON(\"languages/britishenglish.json\", function (data) {\n                list = data;\n                return list;\n            });\n        }\n        else {\n            return list;\n        }\n    });\n}\nfunction replace(word) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const list = yield getList();\n        const replacement = list.find((a) => word.match(RegExp(`^([\\\\W]*${a[0]}[\\\\W]*)$`, \"gi\")));\n        return replacement\n            ? word.replace(RegExp(`^(?:([\\\\W]*)(${replacement[0]})([\\\\W]*))$`, \"gi\"), (_, $1, $2, $3) => $1 +\n                ($2.charAt(0) === $2.charAt(0).toUpperCase()\n                    ? $2 === $2.toUpperCase()\n                        ? replacement[1].toUpperCase()\n                        : (0,_utils_misc__WEBPACK_IMPORTED_MODULE_0__.capitalizeFirstLetterOfEachWord)(replacement[1])\n                    : replacement[1]) +\n                $3)\n            : word;\n    });\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/british-english.ts?");

/***/ }),

/***/ "./src/scripts/test/caps-warning.ts":
/*!******************************************!*\
  !*** ./src/scripts/test/caps-warning.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"capsState\": () => (/* binding */ capsState)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n\nlet capsState = false;\nfunction show() {\n    if ($(\"#capsWarning\").hasClass(\"hidden\")) {\n        $(\"#capsWarning\").removeClass(\"hidden\");\n    }\n}\nfunction hide() {\n    if (!$(\"#capsWarning\").hasClass(\"hidden\")) {\n        $(\"#capsWarning\").addClass(\"hidden\");\n    }\n}\n$(document).keydown(function (event) {\n    var _a, _b;\n    if (((_a = event === null || event === void 0 ? void 0 : event.originalEvent) === null || _a === void 0 ? void 0 : _a.getModifierState) &&\n        ((_b = event === null || event === void 0 ? void 0 : event.originalEvent) === null || _b === void 0 ? void 0 : _b.getModifierState(\"CapsLock\"))) {\n        capsState = true;\n    }\n    else {\n        capsState = false;\n    }\n    try {\n        if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].capsLockWarning && capsState) {\n            show();\n        }\n        else {\n            hide();\n        }\n    }\n    catch (_c) { }\n});\n$(document).keyup(function (event) {\n    var _a, _b;\n    if (((_a = event === null || event === void 0 ? void 0 : event.originalEvent) === null || _a === void 0 ? void 0 : _a.getModifierState) &&\n        ((_b = event === null || event === void 0 ? void 0 : event.originalEvent) === null || _b === void 0 ? void 0 : _b.getModifierState(\"CapsLock\"))) {\n        //filthy fix but optional chaining refues to work\n        capsState = true;\n    }\n    else {\n        capsState = false;\n    }\n    try {\n        if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].capsLockWarning && capsState) {\n            show();\n        }\n        else {\n            hide();\n        }\n    }\n    catch (_c) { }\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/caps-warning.ts?");

/***/ }),

/***/ "./src/scripts/test/caret.ts":
/*!***********************************!*\
  !*** ./src/scripts/test/caret.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"caretAnimating\": () => (/* binding */ caretAnimating),\n/* harmony export */   \"stopAnimation\": () => (/* binding */ stopAnimation),\n/* harmony export */   \"startAnimation\": () => (/* binding */ startAnimation),\n/* harmony export */   \"hide\": () => (/* binding */ hide),\n/* harmony export */   \"updatePosition\": () => (/* binding */ updatePosition),\n/* harmony export */   \"show\": () => (/* binding */ show)\n/* harmony export */ });\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _test_input__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./test-input */ \"./src/scripts/test/test-input.ts\");\n/* harmony import */ var _states_slow_timer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../states/slow-timer */ \"./src/scripts/states/slow-timer.ts\");\n/* harmony import */ var _states_test_active__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../states/test-active */ \"./src/scripts/states/test-active.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\nlet caretAnimating = true;\nfunction stopAnimation() {\n    if (caretAnimating === true) {\n        $(\"#caret\").css(\"animation-name\", \"none\");\n        $(\"#caret\").css(\"opacity\", \"1\");\n        caretAnimating = false;\n    }\n}\nfunction startAnimation() {\n    if (caretAnimating === false) {\n        if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].smoothCaret && !_states_slow_timer__WEBPACK_IMPORTED_MODULE_3__.get()) {\n            $(\"#caret\").css(\"animation-name\", \"caretFlashSmooth\");\n        }\n        else {\n            $(\"#caret\").css(\"animation-name\", \"caretFlashHard\");\n        }\n        caretAnimating = true;\n    }\n}\nfunction hide() {\n    $(\"#caret\").addClass(\"hidden\");\n}\nfunction updatePosition() {\n    var _a, _b;\n    return __awaiter(this, void 0, void 0, function* () {\n        if ($(\"#wordsWrapper\").hasClass(\"hidden\"))\n            return;\n        // if ($(\"#caret\").hasClass(\"off\")) {\n        //   return;\n        // }\n        const caret = $(\"#caret\");\n        let inputLen = _test_input__WEBPACK_IMPORTED_MODULE_2__.input.current.length;\n        inputLen = _utils_misc__WEBPACK_IMPORTED_MODULE_0__.trailingComposeChars.test(_test_input__WEBPACK_IMPORTED_MODULE_2__.input.current)\n            ? _test_input__WEBPACK_IMPORTED_MODULE_2__.input.current.search(_utils_misc__WEBPACK_IMPORTED_MODULE_0__.trailingComposeChars) + 1\n            : inputLen;\n        let currentLetterIndex = inputLen - 1;\n        if (currentLetterIndex == -1) {\n            currentLetterIndex = 0;\n        }\n        //insert temporary character so the caret will work in zen mode\n        const activeWordEmpty = $(\"#words .active\").children().length == 0;\n        if (activeWordEmpty) {\n            $(\"#words .active\").append('<letter style=\"opacity: 0;\">_</letter>');\n        }\n        const currentWordNodeList = (_a = document === null || document === void 0 ? void 0 : document.querySelector(\"#words .active\")) === null || _a === void 0 ? void 0 : _a.querySelectorAll(\"letter\");\n        if (!currentWordNodeList)\n            return;\n        let currentLetter = currentWordNodeList[currentLetterIndex];\n        if (inputLen > currentWordNodeList.length) {\n            currentLetter = currentWordNodeList[currentWordNodeList.length - 1];\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].mode != \"zen\" && $(currentLetter).length == 0)\n            return;\n        const currentLanguage = yield _utils_misc__WEBPACK_IMPORTED_MODULE_0__.getCurrentLanguage(_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].language);\n        const isLanguageLeftToRight = currentLanguage.leftToRight;\n        const currentLetterPosLeft = isLanguageLeftToRight\n            ? currentLetter.offsetLeft\n            : currentLetter.offsetLeft + ((_b = $(currentLetter).width()) !== null && _b !== void 0 ? _b : 0);\n        const currentLetterPosTop = currentLetter.offsetTop;\n        const letterHeight = $(currentLetter).height();\n        let newTop = 0;\n        let newLeft = 0;\n        newTop = currentLetterPosTop - Math.round(letterHeight / 5);\n        if (inputLen == 0) {\n            newLeft = isLanguageLeftToRight\n                ? currentLetterPosLeft - caret.width() / 2\n                : currentLetterPosLeft + caret.width() / 2;\n        }\n        else {\n            newLeft = isLanguageLeftToRight\n                ? currentLetterPosLeft +\n                    $(currentLetter).width() -\n                    caret.width() / 2\n                : currentLetterPosLeft -\n                    $(currentLetter).width() +\n                    caret.width() / 2;\n        }\n        let smoothlinescroll = $(\"#words .smoothScroller\").height();\n        if (smoothlinescroll === undefined)\n            smoothlinescroll = 0;\n        if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].smoothCaret) {\n            caret.stop(true, false).animate({\n                top: newTop - smoothlinescroll,\n                left: newLeft,\n            }, _states_slow_timer__WEBPACK_IMPORTED_MODULE_3__.get() ? 0 : 100);\n        }\n        else {\n            caret.stop(true, true).animate({\n                top: newTop - smoothlinescroll,\n                left: newLeft,\n            }, 0);\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].showAllLines) {\n            const browserHeight = window.innerHeight;\n            const middlePos = browserHeight / 2 - $(\"#caret\").outerHeight() / 2;\n            const contentHeight = document.body.scrollHeight;\n            if (newTop >= middlePos &&\n                contentHeight > browserHeight &&\n                _states_test_active__WEBPACK_IMPORTED_MODULE_4__.get()) {\n                const newscrolltop = newTop - middlePos / 2;\n                // console.log('---------');\n                // console.log(newTop);\n                // console.log(middlePos);\n                // console.log(browserHeight);\n                // console.log(contentHeight);\n                window.scrollTo({\n                    left: 0,\n                    top: newscrolltop,\n                    behavior: \"smooth\",\n                });\n            }\n        }\n        if (activeWordEmpty) {\n            $(\"#words .active\").children().remove();\n        }\n    });\n}\nfunction show() {\n    if ($(\"#result\").hasClass(\"hidden\")) {\n        updatePosition();\n        $(\"#caret\").removeClass(\"hidden\");\n        startAnimation();\n    }\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/caret.ts?");

/***/ }),

/***/ "./src/scripts/test/custom-text.ts":
/*!*****************************************!*\
  !*** ./src/scripts/test/custom-text.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"text\": () => (/* binding */ text),\n/* harmony export */   \"isWordRandom\": () => (/* binding */ isWordRandom),\n/* harmony export */   \"isTimeRandom\": () => (/* binding */ isTimeRandom),\n/* harmony export */   \"word\": () => (/* binding */ word),\n/* harmony export */   \"time\": () => (/* binding */ time),\n/* harmony export */   \"delimiter\": () => (/* binding */ delimiter),\n/* harmony export */   \"setText\": () => (/* binding */ setText),\n/* harmony export */   \"setIsWordRandom\": () => (/* binding */ setIsWordRandom),\n/* harmony export */   \"setIsTimeRandom\": () => (/* binding */ setIsTimeRandom),\n/* harmony export */   \"setTime\": () => (/* binding */ setTime),\n/* harmony export */   \"setWord\": () => (/* binding */ setWord),\n/* harmony export */   \"setDelimiter\": () => (/* binding */ setDelimiter),\n/* harmony export */   \"getCustomText\": () => (/* binding */ getCustomText),\n/* harmony export */   \"setCustomText\": () => (/* binding */ setCustomText),\n/* harmony export */   \"deleteCustomText\": () => (/* binding */ deleteCustomText),\n/* harmony export */   \"getCustomTextNames\": () => (/* binding */ getCustomTextNames)\n/* harmony export */ });\nlet text = [\n    \"The\",\n    \"quick\",\n    \"brown\",\n    \"fox\",\n    \"jumps\",\n    \"over\",\n    \"the\",\n    \"lazy\",\n    \"dog\",\n];\nlet isWordRandom = false;\nlet isTimeRandom = false;\nlet word;\nlet time;\nlet delimiter = \" \";\nfunction setText(txt) {\n    text = txt;\n}\nfunction setIsWordRandom(val) {\n    isWordRandom = val;\n}\nfunction setIsTimeRandom(val) {\n    isTimeRandom = val;\n}\nfunction setTime(val) {\n    time = val;\n}\nfunction setWord(val) {\n    word = val;\n}\nfunction setDelimiter(val) {\n    delimiter = val;\n}\nfunction getCustomText(name) {\n    const customText = getCustomTextObject();\n    return customText[name].split(/ +/);\n}\nfunction setCustomText(name, text) {\n    const customText = getCustomTextObject();\n    if (typeof text === \"string\")\n        customText[name] = text;\n    else\n        customText[name] = text.join(\" \");\n    window.localStorage.setItem(\"customText\", JSON.stringify(customText));\n}\nfunction deleteCustomText(name) {\n    const customText = getCustomTextObject();\n    if (customText[name])\n        delete customText[name];\n    window.localStorage.setItem(\"customText\", JSON.stringify(customText));\n}\nfunction getCustomTextObject() {\n    var _a;\n    return JSON.parse((_a = window.localStorage.getItem(\"customText\")) !== null && _a !== void 0 ? _a : \"{}\");\n}\nfunction getCustomTextNames() {\n    return Object.keys(getCustomTextObject());\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/custom-text.ts?");

/***/ }),

/***/ "./src/scripts/test/focus.ts":
/*!***********************************!*\
  !*** ./src/scripts/test/focus.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"set\": () => (/* binding */ set)\n/* harmony export */ });\n/* harmony import */ var _caret__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./caret */ \"./src/scripts/test/caret.ts\");\n/* harmony import */ var _states_active_page__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../states/active-page */ \"./src/scripts/states/active-page.ts\");\n\n\nconst unfocusPx = 3;\nlet state = false;\nfunction set(foc, withCursor = false) {\n    if (foc && !state) {\n        state = true;\n        _caret__WEBPACK_IMPORTED_MODULE_0__.stopAnimation();\n        $(\"#top\").addClass(\"focus\");\n        $(\"#bottom\").addClass(\"focus\");\n        if (!withCursor)\n            $(\"body\").css(\"cursor\", \"none\");\n        $(\"#middle\").addClass(\"focus\");\n    }\n    else if (!foc && state) {\n        state = false;\n        _caret__WEBPACK_IMPORTED_MODULE_0__.startAnimation();\n        $(\"#top\").removeClass(\"focus\");\n        $(\"#bottom\").removeClass(\"focus\");\n        $(\"body\").css(\"cursor\", \"default\");\n        $(\"#middle\").removeClass(\"focus\");\n    }\n}\n$(document).mousemove(function (event) {\n    if (!state)\n        return;\n    if (_states_active_page__WEBPACK_IMPORTED_MODULE_1__.get() == \"loading\")\n        return;\n    if (_states_active_page__WEBPACK_IMPORTED_MODULE_1__.get() == \"account\" && state == true)\n        return;\n    if ($(\"#top\").hasClass(\"focus\") &&\n        event.originalEvent &&\n        // To avoid mouse/desk vibration from creating a flashy effect, we'll unfocus @ >5px instead of >0px\n        (event.originalEvent.movementX > unfocusPx ||\n            event.originalEvent.movementY > unfocusPx)) {\n        set(false);\n    }\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/focus.ts?");

/***/ }),

/***/ "./src/scripts/test/funbox.ts":
/*!************************************!*\
  !*** ./src/scripts/test/funbox.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"resetMemoryTimer\": () => (/* binding */ resetMemoryTimer),\n/* harmony export */   \"startMemoryTimer\": () => (/* binding */ startMemoryTimer),\n/* harmony export */   \"reset\": () => (/* binding */ reset),\n/* harmony export */   \"toggleScript\": () => (/* binding */ toggleScript),\n/* harmony export */   \"setFunbox\": () => (/* binding */ setFunbox),\n/* harmony export */   \"clear\": () => (/* binding */ clear),\n/* harmony export */   \"activate\": () => (/* binding */ activate),\n/* harmony export */   \"rememberSettings\": () => (/* binding */ rememberSettings)\n/* harmony export */ });\n/* harmony import */ var _test_words__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./test-words */ \"./src/scripts/test/test-words.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../elements/notifications */ \"./src/scripts/elements/notifications.ts\");\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _manual_restart_tracker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./manual-restart-tracker */ \"./src/scripts/test/manual-restart-tracker.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _tts__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./tts */ \"./src/scripts/test/tts.ts\");\n/* harmony import */ var _elements_modes_notice__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../elements/modes-notice */ \"./src/scripts/elements/modes-notice.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\n\nlet modeSaved = null;\nlet memoryTimer = null;\nlet memoryInterval = null;\nlet settingsMemory = {};\nfunction rememberSetting(settingName, value, setFunction) {\n    var _a;\n    (_a = settingsMemory[settingName]) !== null && _a !== void 0 ? _a : (settingsMemory[settingName] = {\n        value,\n        setFunction,\n    });\n}\nfunction loadMemory() {\n    _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Reverting funbox settings\", 0);\n    Object.keys(settingsMemory).forEach((setting) => {\n        settingsMemory[setting].setFunction(settingsMemory[setting].value, true);\n    });\n    settingsMemory = {};\n}\nfunction showMemoryTimer() {\n    $(\"#typingTest #memoryTimer\").stop(true, true).animate({\n        opacity: 1,\n    }, 125);\n}\nfunction hideMemoryTimer() {\n    $(\"#typingTest #memoryTimer\").stop(true, true).animate({\n        opacity: 0,\n    }, 125);\n}\nfunction resetMemoryTimer() {\n    if (memoryInterval !== null) {\n        clearInterval(memoryInterval);\n        memoryInterval = null;\n    }\n    memoryTimer = null;\n    hideMemoryTimer();\n}\nfunction updateMemoryTimer(sec) {\n    $(\"#typingTest #memoryTimer\").text(`Timer left to memorise all words: ${sec}s`);\n}\nfunction startMemoryTimer() {\n    resetMemoryTimer();\n    memoryTimer = Math.round(Math.pow(_test_words__WEBPACK_IMPORTED_MODULE_0__.words.length, 1.2));\n    updateMemoryTimer(memoryTimer);\n    showMemoryTimer();\n    memoryInterval = setInterval(() => {\n        if (memoryTimer === null)\n            return;\n        memoryTimer -= 1;\n        memoryTimer == 0 ? hideMemoryTimer() : updateMemoryTimer(memoryTimer);\n        if (memoryTimer <= 0) {\n            resetMemoryTimer();\n            $(\"#wordsWrapper\").addClass(\"hidden\");\n        }\n    }, 1000);\n}\nfunction reset() {\n    resetMemoryTimer();\n}\nfunction toggleScript(...params) {\n    if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].funbox === \"tts\") {\n        _tts__WEBPACK_IMPORTED_MODULE_5__.speak(params[0]);\n    }\n}\nfunction setFunbox(funbox, mode) {\n    modeSaved = mode;\n    _config__WEBPACK_IMPORTED_MODULE_4__.setFunbox(funbox, false);\n    if (funbox === \"none\")\n        loadMemory();\n    return true;\n}\nfunction clear() {\n    return __awaiter(this, void 0, void 0, function* () {\n        $(\"#funBoxTheme\").attr(\"href\", ``);\n        $(\"#words\").removeClass(\"nospace\");\n        $(\"#words\").removeClass(\"arrows\");\n        reset();\n        $(\"#wordsWrapper\").removeClass(\"hidden\");\n        _manual_restart_tracker__WEBPACK_IMPORTED_MODULE_3__.set();\n        _elements_modes_notice__WEBPACK_IMPORTED_MODULE_6__.update();\n        return true;\n    });\n}\nfunction activate(funbox) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let mode = modeSaved;\n        if (funbox === undefined || funbox === null) {\n            funbox = _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].funbox;\n        }\n        const funboxInfo = yield _utils_misc__WEBPACK_IMPORTED_MODULE_2__.getFunbox(funbox);\n        $(\"#funBoxTheme\").attr(\"href\", ``);\n        $(\"#words\").removeClass(\"nospace\");\n        $(\"#words\").removeClass(\"arrows\");\n        if ((yield _utils_misc__WEBPACK_IMPORTED_MODULE_2__.getCurrentLanguage(_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].language)).ligatures) {\n            if (funbox == \"choo_choo\" || funbox == \"earthquake\") {\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Current language does not support this funbox mode\", 0);\n                _config__WEBPACK_IMPORTED_MODULE_4__.setFunbox(\"none\", true);\n                yield clear();\n                return;\n            }\n        }\n        if (funbox !== \"none\" && (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode === \"zen\" || _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode == \"quote\")) {\n            if ((funboxInfo === null || funboxInfo === void 0 ? void 0 : funboxInfo.affectsWordGeneration) === true) {\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(`${_utils_misc__WEBPACK_IMPORTED_MODULE_2__.capitalizeFirstLetterOfEachWord(_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode)} mode does not support the ${funbox} funbox`, 0);\n                _config__WEBPACK_IMPORTED_MODULE_4__.setFunbox(\"none\", true);\n                yield clear();\n                return;\n            }\n        }\n        // if (funbox === \"none\") {\n        reset();\n        $(\"#wordsWrapper\").removeClass(\"hidden\");\n        // }\n        if (funbox === \"none\" && mode === undefined) {\n            mode = null;\n        }\n        else if ((funbox !== \"none\" && mode === undefined) ||\n            (funbox !== \"none\" && mode === null)) {\n            const list = yield _utils_misc__WEBPACK_IMPORTED_MODULE_2__.getFunboxList();\n            mode = list.filter((f) => f.name === funbox)[0].type;\n        }\n        _manual_restart_tracker__WEBPACK_IMPORTED_MODULE_3__.set();\n        if (mode === \"style\") {\n            if (funbox != undefined) {\n                $(\"#funBoxTheme\").attr(\"href\", `funbox/${funbox}.css`);\n            }\n            if (funbox === \"simon_says\") {\n                _config__WEBPACK_IMPORTED_MODULE_4__.setKeymapMode(\"next\", true);\n            }\n            if (funbox === \"read_ahead\" ||\n                funbox === \"read_ahead_easy\" ||\n                funbox === \"read_ahead_hard\") {\n                _config__WEBPACK_IMPORTED_MODULE_4__.setHighlightMode(\"letter\", true);\n            }\n        }\n        else if (mode === \"script\") {\n            if (funbox === \"tts\") {\n                $(\"#funBoxTheme\").attr(\"href\", `funbox/simon_says.css`);\n                _config__WEBPACK_IMPORTED_MODULE_4__.setKeymapMode(\"off\", true);\n                _config__WEBPACK_IMPORTED_MODULE_4__.setHighlightMode(\"letter\", true);\n            }\n            else if (funbox === \"layoutfluid\") {\n                _config__WEBPACK_IMPORTED_MODULE_4__.setLayout(_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].customLayoutfluid\n                    ? _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].customLayoutfluid.split(\"#\")[0]\n                    : \"qwerty\", true);\n                _config__WEBPACK_IMPORTED_MODULE_4__.setKeymapLayout(_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].customLayoutfluid\n                    ? _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].customLayoutfluid.split(\"#\")[0]\n                    : \"qwerty\", true);\n            }\n            else if (funbox === \"memory\") {\n                _config__WEBPACK_IMPORTED_MODULE_4__.setMode(\"words\", true);\n                _config__WEBPACK_IMPORTED_MODULE_4__.setShowAllLines(true, true);\n                if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].keymapMode === \"next\") {\n                    _config__WEBPACK_IMPORTED_MODULE_4__.setKeymapMode(\"react\", true);\n                }\n            }\n            else if (funbox === \"nospace\") {\n                $(\"#words\").addClass(\"nospace\");\n                _config__WEBPACK_IMPORTED_MODULE_4__.setHighlightMode(\"letter\", true);\n            }\n            else if (funbox === \"arrows\") {\n                $(\"#words\").addClass(\"arrows\");\n                _config__WEBPACK_IMPORTED_MODULE_4__.setHighlightMode(\"letter\", true);\n            }\n        }\n        // ModesNotice.update();\n        return true;\n    });\n}\nfunction rememberSettings() {\n    return __awaiter(this, void 0, void 0, function* () {\n        const funbox = _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].funbox;\n        let mode = modeSaved;\n        if (funbox === \"none\" && mode === undefined) {\n            mode = null;\n        }\n        else if ((funbox !== \"none\" && mode === undefined) ||\n            (funbox !== \"none\" && mode === null)) {\n            const list = yield _utils_misc__WEBPACK_IMPORTED_MODULE_2__.getFunboxList();\n            mode = list.filter((f) => f.name === funbox)[0].type;\n        }\n        if (mode === \"style\") {\n            if (funbox === \"simon_says\") {\n                rememberSetting(\"keymapMode\", _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].keymapMode, _config__WEBPACK_IMPORTED_MODULE_4__.setKeymapMode);\n            }\n            if (funbox === \"read_ahead\" ||\n                funbox === \"read_ahead_easy\" ||\n                funbox === \"read_ahead_hard\") {\n                rememberSetting(\"highlightMode\", _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].highlightMode, _config__WEBPACK_IMPORTED_MODULE_4__.setHighlightMode);\n            }\n        }\n        else if (mode === \"script\") {\n            if (funbox === \"tts\") {\n                rememberSetting(\"keymapMode\", _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].keymapMode, _config__WEBPACK_IMPORTED_MODULE_4__.setKeymapMode);\n            }\n            else if (funbox === \"layoutfluid\") {\n                rememberSetting(\"keymapMode\", _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].keymapMode, _config__WEBPACK_IMPORTED_MODULE_4__.setKeymapMode);\n                rememberSetting(\"layout\", _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].layout, _config__WEBPACK_IMPORTED_MODULE_4__.setLayout);\n                rememberSetting(\"keymapLayout\", _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].keymapLayout, _config__WEBPACK_IMPORTED_MODULE_4__.setKeymapLayout);\n            }\n            else if (funbox === \"memory\") {\n                rememberSetting(\"mode\", _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].mode, _config__WEBPACK_IMPORTED_MODULE_4__.setMode);\n                rememberSetting(\"showAllLines\", _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].showAllLines, _config__WEBPACK_IMPORTED_MODULE_4__.setShowAllLines);\n                if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].keymapMode === \"next\") {\n                    rememberSetting(\"keymapMode\", _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].keymapMode, _config__WEBPACK_IMPORTED_MODULE_4__.setKeymapMode);\n                }\n            }\n            else if (funbox === \"nospace\") {\n                rememberSetting(\"highlightMode\", _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].highlightMode, _config__WEBPACK_IMPORTED_MODULE_4__.setHighlightMode);\n            }\n            else if (funbox === \"arrows\") {\n                rememberSetting(\"highlightMode\", _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].highlightMode, _config__WEBPACK_IMPORTED_MODULE_4__.setHighlightMode);\n            }\n            else if (funbox === \"58008\") {\n                rememberSetting(\"numbers\", _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].numbers, _config__WEBPACK_IMPORTED_MODULE_4__.setNumbers);\n            }\n        }\n    });\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/funbox.ts?");

/***/ }),

/***/ "./src/scripts/test/layout-emulator.ts":
/*!*********************************************!*\
  !*** ./src/scripts/test/layout-emulator.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getCharFromEvent\": () => (/* binding */ getCharFromEvent)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _caps_warning__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./caps-warning */ \"./src/scripts/test/caps-warning.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\nfunction getCharFromEvent(event) {\n    return __awaiter(this, void 0, void 0, function* () {\n        function emulatedLayoutShouldShiftKey(event, newKeyPreview) {\n            if (_caps_warning__WEBPACK_IMPORTED_MODULE_2__.capsState)\n                return _utils_misc__WEBPACK_IMPORTED_MODULE_1__.isASCIILetter(newKeyPreview) !== event.shiftKey;\n            return event.shiftKey;\n        }\n        const layout = yield _utils_misc__WEBPACK_IMPORTED_MODULE_1__.getLayout(_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].layout);\n        let keyEventCodes = [];\n        if (layout.type === \"ansi\") {\n            keyEventCodes = [\n                \"Backquote\",\n                \"Digit1\",\n                \"Digit2\",\n                \"Digit3\",\n                \"Digit4\",\n                \"Digit5\",\n                \"Digit6\",\n                \"Digit7\",\n                \"Digit8\",\n                \"Digit9\",\n                \"Digit0\",\n                \"Minus\",\n                \"Equal\",\n                \"KeyQ\",\n                \"KeyW\",\n                \"KeyE\",\n                \"KeyR\",\n                \"KeyT\",\n                \"KeyY\",\n                \"KeyU\",\n                \"KeyI\",\n                \"KeyO\",\n                \"KeyP\",\n                \"BracketLeft\",\n                \"BracketRight\",\n                \"Backslash\",\n                \"KeyA\",\n                \"KeyS\",\n                \"KeyD\",\n                \"KeyF\",\n                \"KeyG\",\n                \"KeyH\",\n                \"KeyJ\",\n                \"KeyK\",\n                \"KeyL\",\n                \"Semicolon\",\n                \"Quote\",\n                \"KeyZ\",\n                \"KeyX\",\n                \"KeyC\",\n                \"KeyV\",\n                \"KeyB\",\n                \"KeyN\",\n                \"KeyM\",\n                \"Comma\",\n                \"Period\",\n                \"Slash\",\n                \"Space\",\n            ];\n        }\n        else if (layout.type === \"iso\") {\n            keyEventCodes = [\n                \"Backquote\",\n                \"Digit1\",\n                \"Digit2\",\n                \"Digit3\",\n                \"Digit4\",\n                \"Digit5\",\n                \"Digit6\",\n                \"Digit7\",\n                \"Digit8\",\n                \"Digit9\",\n                \"Digit0\",\n                \"Minus\",\n                \"Equal\",\n                \"KeyQ\",\n                \"KeyW\",\n                \"KeyE\",\n                \"KeyR\",\n                \"KeyT\",\n                \"KeyY\",\n                \"KeyU\",\n                \"KeyI\",\n                \"KeyO\",\n                \"KeyP\",\n                \"BracketLeft\",\n                \"BracketRight\",\n                \"KeyA\",\n                \"KeyS\",\n                \"KeyD\",\n                \"KeyF\",\n                \"KeyG\",\n                \"KeyH\",\n                \"KeyJ\",\n                \"KeyK\",\n                \"KeyL\",\n                \"Semicolon\",\n                \"Quote\",\n                \"IntlBackslash\",\n                \"Backquote\",\n                \"KeyZ\",\n                \"KeyX\",\n                \"KeyC\",\n                \"KeyV\",\n                \"KeyB\",\n                \"KeyN\",\n                \"KeyM\",\n                \"Comma\",\n                \"Period\",\n                \"Slash\",\n                \"Space\",\n            ];\n        }\n        else if (layout.type === \"matrix\") {\n            keyEventCodes = [\n                \"Backquote\",\n                \"Digit1\",\n                \"Digit2\",\n                \"Digit3\",\n                \"Digit4\",\n                \"Digit5\",\n                \"Digit6\",\n                \"Digit7\",\n                \"Digit8\",\n                \"Digit9\",\n                \"Digit0\",\n                \"Minus\",\n                \"Equal\",\n                \"KeyQ\",\n                \"KeyW\",\n                \"KeyE\",\n                \"KeyR\",\n                \"KeyT\",\n                \"KeyY\",\n                \"KeyU\",\n                \"KeyI\",\n                \"KeyO\",\n                \"KeyP\",\n                \"BracketLeft\",\n                \"BracketRight\",\n                \"Backslash\",\n                \"KeyA\",\n                \"KeyS\",\n                \"KeyD\",\n                \"KeyF\",\n                \"KeyG\",\n                \"KeyH\",\n                \"KeyJ\",\n                \"KeyK\",\n                \"KeyL\",\n                \"Semicolon\",\n                \"Quote\",\n                \"KeyZ\",\n                \"KeyX\",\n                \"KeyC\",\n                \"KeyV\",\n                \"KeyB\",\n                \"KeyN\",\n                \"KeyM\",\n                \"Comma\",\n                \"Period\",\n                \"Slash\",\n                \"Space\",\n            ];\n        }\n        const layoutKeys = layout.keys;\n        const layoutMap = layoutKeys[\"row1\"]\n            .concat(layoutKeys[\"row2\"])\n            .concat(layoutKeys[\"row3\"])\n            .concat(layoutKeys[\"row4\"])\n            .concat(layoutKeys[\"row5\"]);\n        let mapIndex = null;\n        for (let i = 0; i < keyEventCodes.length; i++) {\n            if (event.code == keyEventCodes[i]) {\n                mapIndex = i;\n            }\n        }\n        if (!mapIndex)\n            return null;\n        const newKeyPreview = layoutMap[mapIndex][0];\n        const shift = emulatedLayoutShouldShiftKey(event, newKeyPreview) ? 1 : 0;\n        const char = layoutMap[mapIndex][shift];\n        if (char) {\n            return char;\n        }\n        else {\n            return event.key;\n        }\n    });\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/layout-emulator.ts?");

/***/ }),

/***/ "./src/scripts/test/lazy-mode.ts":
/*!***************************************!*\
  !*** ./src/scripts/test/lazy-mode.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"replaceAccents\": () => (/* binding */ replaceAccents)\n/* harmony export */ });\nconst accents = [\n    [\"\", \"a\"],\n    [\"\", \"e\"],\n    [\"\", \"i\"],\n    [\"\", \"o\"],\n    [\"\", \"u\"],\n    [\"\", \"n\"],\n    [\"\", \"c\"],\n    [\"\", \"r\"],\n    [\"\", \"d\"],\n    [\"\", \"t\"],\n    [\"\", \"ae\"],\n    [\"\", \"oe\"],\n    [\"\", \"w\"],\n    [\"g\", \"g\"],\n    [\"\", \"h\"],\n    [\"\", \"j\"],\n    [\"\", \"n\"],\n    [\"\", \"s\"],\n    [\"\", \"z\"],\n    [\"\", \"y\"],\n    [\"\", \"l\"],\n    [\"\", \"\"],\n    [\"\", \"\"],\n    [\"\", \"\"],\n    [\"\", \"\"],\n    [\"\", \"\"],\n    [\"\", \"\"],\n    [\"\", \"\"],\n    [\"\", \"\"],\n    [\"\", \"\"],\n];\nfunction replaceAccents(word, accentsOverride) {\n    let newWord = word;\n    if (!accents && !accentsOverride)\n        return newWord;\n    let regex;\n    const list = accentsOverride || accents;\n    for (let i = 0; i < list.length; i++) {\n        regex = new RegExp(`[${list[i][0]}]`, \"gi\");\n        newWord = newWord.replace(regex, list[i][1]);\n    }\n    return newWord;\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/lazy-mode.ts?");

/***/ }),

/***/ "./src/scripts/test/live-acc.ts":
/*!**************************************!*\
  !*** ./src/scripts/test/live-acc.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"update\": () => (/* binding */ update),\n/* harmony export */   \"show\": () => (/* binding */ show),\n/* harmony export */   \"hide\": () => (/* binding */ hide)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _states_test_active__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../states/test-active */ \"./src/scripts/states/test-active.ts\");\n/* harmony import */ var _observables_config_event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../observables/config-event */ \"./src/scripts/observables/config-event.ts\");\n\n\n\nfunction update(acc) {\n    let number = Math.floor(acc);\n    if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].blindMode) {\n        number = 100;\n    }\n    document.querySelector(\"#miniTimerAndLiveWpm .acc\").innerHTML =\n        number + \"%\";\n    document.querySelector(\"#liveAcc\").innerHTML = number + \"%\";\n}\nfunction show() {\n    if (!_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].showLiveAcc)\n        return;\n    if (!_states_test_active__WEBPACK_IMPORTED_MODULE_1__.get())\n        return;\n    if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timerStyle === \"mini\") {\n        // $(\"#miniTimerAndLiveWpm .wpm\").css(\"opacity\", Config.timerOpacity);\n        if (!$(\"#miniTimerAndLiveWpm .acc\").hasClass(\"hidden\"))\n            return;\n        $(\"#miniTimerAndLiveWpm .acc\")\n            .removeClass(\"hidden\")\n            .css(\"opacity\", 0)\n            .animate({\n            opacity: _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timerOpacity,\n        }, 125);\n    }\n    else {\n        // $(\"#liveWpm\").css(\"opacity\", Config.timerOpacity);\n        if (!$(\"#liveAcc\").hasClass(\"hidden\"))\n            return;\n        $(\"#liveAcc\").removeClass(\"hidden\").css(\"opacity\", 0).animate({\n            opacity: _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timerOpacity,\n        }, 125);\n    }\n}\nfunction hide() {\n    // $(\"#liveWpm\").css(\"opacity\", 0);\n    // $(\"#miniTimerAndLiveWpm .wpm\").css(\"opacity\", 0);\n    $(\"#liveAcc\").animate({\n        opacity: _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timerOpacity,\n    }, 125, () => {\n        $(\"#liveAcc\").addClass(\"hidden\");\n    });\n    $(\"#miniTimerAndLiveWpm .acc\").animate({\n        opacity: _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timerOpacity,\n    }, 125, () => {\n        $(\"#miniTimerAndLiveWpm .acc\").addClass(\"hidden\");\n    });\n}\n_observables_config_event__WEBPACK_IMPORTED_MODULE_2__.subscribe((eventKey, eventValue) => {\n    if (eventKey === \"showLiveAcc\")\n        eventValue ? show() : hide();\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/live-acc.ts?");

/***/ }),

/***/ "./src/scripts/test/live-burst.ts":
/*!****************************************!*\
  !*** ./src/scripts/test/live-burst.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"update\": () => (/* binding */ update),\n/* harmony export */   \"show\": () => (/* binding */ show),\n/* harmony export */   \"hide\": () => (/* binding */ hide)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _states_test_active__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../states/test-active */ \"./src/scripts/states/test-active.ts\");\n/* harmony import */ var _observables_config_event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../observables/config-event */ \"./src/scripts/observables/config-event.ts\");\n\n\n\nfunction update(burst) {\n    let number = burst;\n    if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].blindMode) {\n        number = 0;\n    }\n    document.querySelector(\"#miniTimerAndLiveWpm .burst\").innerHTML =\n        number.toString();\n    document.querySelector(\"#liveBurst\").innerHTML =\n        number.toString();\n}\nfunction show() {\n    if (!_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].showLiveBurst)\n        return;\n    if (!_states_test_active__WEBPACK_IMPORTED_MODULE_1__.get())\n        return;\n    if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timerStyle === \"mini\") {\n        if (!$(\"#miniTimerAndLiveWpm .burst\").hasClass(\"hidden\"))\n            return;\n        $(\"#miniTimerAndLiveWpm .burst\")\n            .removeClass(\"hidden\")\n            .css(\"opacity\", 0)\n            .animate({\n            opacity: _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timerOpacity,\n        }, 125);\n    }\n    else {\n        if (!$(\"#liveBurst\").hasClass(\"hidden\"))\n            return;\n        $(\"#liveBurst\").removeClass(\"hidden\").css(\"opacity\", 0).animate({\n            opacity: _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timerOpacity,\n        }, 125);\n    }\n}\nfunction hide() {\n    $(\"#liveBurst\").animate({\n        opacity: _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timerOpacity,\n    }, 125, () => {\n        $(\"#liveBurst\").addClass(\"hidden\");\n    });\n    $(\"#miniTimerAndLiveWpm .burst\").animate({\n        opacity: _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timerOpacity,\n    }, 125, () => {\n        $(\"#miniTimerAndLiveWpm .burst\").addClass(\"hidden\");\n    });\n}\n_observables_config_event__WEBPACK_IMPORTED_MODULE_2__.subscribe((eventKey, eventValue) => {\n    if (eventKey === \"showLiveBurst\")\n        eventValue ? show() : hide();\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/live-burst.ts?");

/***/ }),

/***/ "./src/scripts/test/live-wpm.ts":
/*!**************************************!*\
  !*** ./src/scripts/test/live-wpm.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"update\": () => (/* binding */ update),\n/* harmony export */   \"show\": () => (/* binding */ show),\n/* harmony export */   \"hide\": () => (/* binding */ hide)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _states_test_active__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../states/test-active */ \"./src/scripts/states/test-active.ts\");\n/* harmony import */ var _observables_config_event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../observables/config-event */ \"./src/scripts/observables/config-event.ts\");\n\n\n\nconst liveWpmElement = document.querySelector(\"#liveWpm\");\nconst miniLiveWpmElement = document.querySelector(\"#miniTimerAndLiveWpm .wpm\");\nfunction update(wpm, raw) {\n    // if (!TestActive.get() || !Config.showLiveWpm) {\n    //   hideLiveWpm();\n    // } else {\n    //   showLiveWpm();\n    // }\n    let number = wpm;\n    if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].blindMode) {\n        number = raw;\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].alwaysShowCPM) {\n        number = Math.round(number * 5);\n    }\n    miniLiveWpmElement.innerHTML = number.toString();\n    liveWpmElement.innerHTML = number.toString();\n}\nfunction show() {\n    if (!_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].showLiveWpm)\n        return;\n    if (!_states_test_active__WEBPACK_IMPORTED_MODULE_1__.get())\n        return;\n    if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timerStyle === \"mini\") {\n        // $(\"#miniTimerAndLiveWpm .wpm\").css(\"opacity\", Config.timerOpacity);\n        if (!$(\"#miniTimerAndLiveWpm .wpm\").hasClass(\"hidden\"))\n            return;\n        $(\"#miniTimerAndLiveWpm .wpm\")\n            .removeClass(\"hidden\")\n            .css(\"opacity\", 0)\n            .animate({\n            opacity: _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timerOpacity,\n        }, 125);\n    }\n    else {\n        // $(\"#liveWpm\").css(\"opacity\", Config.timerOpacity);\n        if (!$(\"#liveWpm\").hasClass(\"hidden\"))\n            return;\n        $(\"#liveWpm\").removeClass(\"hidden\").css(\"opacity\", 0).animate({\n            opacity: _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timerOpacity,\n        }, 125);\n    }\n}\nfunction hide() {\n    $(\"#liveWpm\").animate({\n        opacity: _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timerOpacity,\n    }, 125, () => {\n        $(\"#liveWpm\").addClass(\"hidden\");\n    });\n    $(\"#miniTimerAndLiveWpm .wpm\").animate({\n        opacity: _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timerOpacity,\n    }, 125, () => {\n        $(\"#miniTimerAndLiveWpm .wpm\").addClass(\"hidden\");\n    });\n}\n_observables_config_event__WEBPACK_IMPORTED_MODULE_2__.subscribe((eventKey, eventValue) => {\n    if (eventKey === \"showLiveWpm\")\n        eventValue ? show() : hide();\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/live-wpm.ts?");

/***/ }),

/***/ "./src/scripts/test/manual-restart-tracker.ts":
/*!****************************************************!*\
  !*** ./src/scripts/test/manual-restart-tracker.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"set\": () => (/* binding */ set),\n/* harmony export */   \"reset\": () => (/* binding */ reset),\n/* harmony export */   \"get\": () => (/* binding */ get)\n/* harmony export */ });\nlet state = false;\nfunction set() {\n    state = true;\n}\nfunction reset() {\n    state = false;\n}\nfunction get() {\n    return state;\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/manual-restart-tracker.ts?");

/***/ }),

/***/ "./src/scripts/test/monkey.ts":
/*!************************************!*\
  !*** ./src/scripts/test/monkey.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"updateFastOpacity\": () => (/* binding */ updateFastOpacity),\n/* harmony export */   \"type\": () => (/* binding */ type),\n/* harmony export */   \"stop\": () => (/* binding */ stop),\n/* harmony export */   \"show\": () => (/* binding */ show),\n/* harmony export */   \"hide\": () => (/* binding */ hide)\n/* harmony export */ });\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _observables_config_event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../observables/config-event */ \"./src/scripts/observables/config-event.ts\");\n/* harmony import */ var _states_test_active__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../states/test-active */ \"./src/scripts/states/test-active.ts\");\n\n\n\n\n_observables_config_event__WEBPACK_IMPORTED_MODULE_2__.subscribe((eventKey) => {\n    if (eventKey === \"monkey\" && _states_test_active__WEBPACK_IMPORTED_MODULE_3__.get()) {\n        if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].monkey) {\n            $(\"#monkey\").removeClass(\"hidden\");\n        }\n        else {\n            $(\"#monkey\").addClass(\"hidden\");\n        }\n    }\n});\nlet left = false;\nlet right = false;\n// 0 hand up\n// 1 hand down\n// 00 both hands up\n// 01 right hand down\n// 10 left hand down\n// 11 both hands down\nconst elements = {\n    \"00\": document.querySelector(\"#monkey .up\"),\n    \"01\": document.querySelector(\"#monkey .right\"),\n    \"10\": document.querySelector(\"#monkey .left\"),\n    \"11\": document.querySelector(\"#monkey .both\"),\n};\nconst elementsFast = {\n    \"00\": document.querySelector(\"#monkey .fast .up\"),\n    \"01\": document.querySelector(\"#monkey .fast .right\"),\n    \"10\": document.querySelector(\"#monkey .fast .left\"),\n    \"11\": document.querySelector(\"#monkey .fast .both\"),\n};\nlet last = \"right\";\nfunction toBit(b) {\n    return b ? \"1\" : \"0\";\n}\nfunction update() {\n    var _a, _b, _c;\n    if (!_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].monkey)\n        return;\n    if (!((_a = document.querySelector(\"#monkey\")) === null || _a === void 0 ? void 0 : _a.classList.contains(\"hidden\"))) {\n        Object.keys(elements).forEach((key) => {\n            var _a;\n            (_a = elements[key]) === null || _a === void 0 ? void 0 : _a.classList.add(\"hidden\");\n        });\n        Object.keys(elementsFast).forEach((key) => {\n            var _a;\n            (_a = elementsFast[key]) === null || _a === void 0 ? void 0 : _a.classList.add(\"hidden\");\n        });\n        const id = `${toBit(left)}${toBit(right)}`;\n        (_b = elements[id]) === null || _b === void 0 ? void 0 : _b.classList.remove(\"hidden\");\n        (_c = elementsFast[id]) === null || _c === void 0 ? void 0 : _c.classList.remove(\"hidden\");\n    }\n}\nfunction updateFastOpacity(num) {\n    if (!_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].monkey)\n        return;\n    const opacity = (0,_utils_misc__WEBPACK_IMPORTED_MODULE_0__.mapRange)(num, 130, 180, 0, 1);\n    $(\"#monkey .fast\").animate({ opacity: opacity }, 1000);\n    let animDuration = (0,_utils_misc__WEBPACK_IMPORTED_MODULE_0__.mapRange)(num, 130, 180, 0.25, 0.01);\n    if (animDuration == 0.25)\n        animDuration = 0;\n    $(\"#monkey\").css({ animationDuration: animDuration + \"s\" });\n}\nfunction type() {\n    if (!_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].monkey)\n        return;\n    if (!left && last == \"right\") {\n        left = true;\n        last = \"left\";\n    }\n    else if (!right) {\n        right = true;\n        last = \"right\";\n    }\n    update();\n}\nfunction stop() {\n    if (!_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].monkey)\n        return;\n    if (left) {\n        left = false;\n    }\n    else if (right) {\n        right = false;\n    }\n    update();\n}\nfunction show() {\n    if (!_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].monkey)\n        return;\n    $(\"#monkey\")\n        .css(\"opacity\", 0)\n        .removeClass(\"hidden\")\n        .animate({ opacity: 1 }, 125);\n}\nfunction hide() {\n    $(\"#monkey\")\n        .css(\"opacity\", 1)\n        .animate({ opacity: 1 }, 125, () => {\n        $(\"#monkey\").addClass(\"hidden\");\n    });\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/monkey.ts?");

/***/ }),

/***/ "./src/scripts/test/out-of-focus.ts":
/*!******************************************!*\
  !*** ./src/scripts/test/out-of-focus.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"hide\": () => (/* binding */ hide),\n/* harmony export */   \"show\": () => (/* binding */ show)\n/* harmony export */ });\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n\nconst outOfFocusTimeouts = [];\nfunction hide() {\n    $(\"#words\").css(\"transition\", \"none\").removeClass(\"blurred\");\n    $(\".outOfFocusWarning\").addClass(\"hidden\");\n    _utils_misc__WEBPACK_IMPORTED_MODULE_0__.clearTimeouts(outOfFocusTimeouts);\n}\nfunction show() {\n    outOfFocusTimeouts.push(setTimeout(() => {\n        $(\"#words\").css(\"transition\", \"0.25s\").addClass(\"blurred\");\n        $(\".outOfFocusWarning\").removeClass(\"hidden\");\n    }, 1000));\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/out-of-focus.ts?");

/***/ }),

/***/ "./src/scripts/test/pace-caret.ts":
/*!****************************************!*\
  !*** ./src/scripts/test/pace-caret.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"settings\": () => (/* binding */ settings),\n/* harmony export */   \"init\": () => (/* binding */ init),\n/* harmony export */   \"update\": () => (/* binding */ update),\n/* harmony export */   \"reset\": () => (/* binding */ reset),\n/* harmony export */   \"handleSpace\": () => (/* binding */ handleSpace),\n/* harmony export */   \"start\": () => (/* binding */ start)\n/* harmony export */ });\n/* harmony import */ var _test_stats__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./test-stats */ \"./src/scripts/test/test-stats.ts\");\n/* harmony import */ var _test_words__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./test-words */ \"./src/scripts/test/test-words.ts\");\n/* harmony import */ var _test_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./test-ui */ \"./src/scripts/test/test-ui.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../db */ \"./src/scripts/db.ts\");\n/* harmony import */ var _states_slow_timer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../states/slow-timer */ \"./src/scripts/states/slow-timer.ts\");\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _states_test_active__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../states/test-active */ \"./src/scripts/states/test-active.ts\");\n/* harmony import */ var _test_state__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./test-state */ \"./src/scripts/test/test-state.ts\");\n/* harmony import */ var _observables_config_event__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../observables/config-event */ \"./src/scripts/observables/config-event.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\n\n\n\n\nlet settings = null;\nfunction resetCaretPosition() {\n    var _a;\n    if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].paceCaret === \"off\" && !_test_state__WEBPACK_IMPORTED_MODULE_8__.isPaceRepeat)\n        return;\n    if (!$(\"#paceCaret\").hasClass(\"hidden\")) {\n        $(\"#paceCaret\").addClass(\"hidden\");\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode === \"zen\")\n        return;\n    const caret = $(\"#paceCaret\");\n    const firstLetter = ((_a = document === null || document === void 0 ? void 0 : document.querySelector(\"#words .word\")) === null || _a === void 0 ? void 0 : _a.querySelector(\"letter\"));\n    const firstLetterHeight = $(firstLetter).height();\n    if (firstLetter === undefined || firstLetterHeight === undefined)\n        return;\n    caret.stop(true, true).animate({\n        top: firstLetter.offsetTop - firstLetterHeight / 4,\n        left: firstLetter.offsetLeft,\n    }, 0, \"linear\");\n}\nfunction init() {\n    return __awaiter(this, void 0, void 0, function* () {\n        $(\"#paceCaret\").addClass(\"hidden\");\n        const mode2 = _utils_misc__WEBPACK_IMPORTED_MODULE_6__.getMode2(_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"], _test_words__WEBPACK_IMPORTED_MODULE_1__.randomQuote);\n        let wpm;\n        if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].paceCaret === \"pb\") {\n            wpm = yield _db__WEBPACK_IMPORTED_MODULE_4__.getLocalPB(_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode, mode2, _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].punctuation, _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].language, _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].difficulty, _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].lazyMode, _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox);\n        }\n        else if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].paceCaret === \"average\") {\n            wpm = yield _db__WEBPACK_IMPORTED_MODULE_4__.getUserAverageWpm10(_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode, mode2, _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].punctuation, _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].language, _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].difficulty, _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].lazyMode);\n            wpm = Math.round(wpm);\n        }\n        else if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].paceCaret === \"custom\") {\n            wpm = _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].paceCaretCustomSpeed;\n        }\n        else if (_test_state__WEBPACK_IMPORTED_MODULE_8__.isPaceRepeat == true) {\n            wpm = _test_stats__WEBPACK_IMPORTED_MODULE_0__.lastTestWpm;\n        }\n        if (wpm === undefined || wpm < 1 || Number.isNaN(wpm)) {\n            settings = null;\n            return;\n        }\n        const characters = wpm * 5;\n        const cps = characters / 60; //characters per step\n        const spc = 60 / characters; //seconds per character\n        settings = {\n            wpm: wpm,\n            cps: cps,\n            spc: spc,\n            correction: 0,\n            currentWordIndex: 0,\n            currentLetterIndex: -1,\n            wordsStatus: {},\n            timeout: null,\n        };\n        resetCaretPosition();\n    });\n}\nfunction update(expectedStepEnd) {\n    if (settings === null || !_states_test_active__WEBPACK_IMPORTED_MODULE_7__.get() || _test_ui__WEBPACK_IMPORTED_MODULE_2__.resultVisible) {\n        return;\n    }\n    if ($(\"#paceCaret\").hasClass(\"hidden\")) {\n        $(\"#paceCaret\").removeClass(\"hidden\");\n    }\n    try {\n        settings.currentLetterIndex++;\n        if (settings.currentLetterIndex >=\n            _test_words__WEBPACK_IMPORTED_MODULE_1__.words.get(settings.currentWordIndex).length) {\n            //go to the next word\n            settings.currentLetterIndex = -1;\n            settings.currentWordIndex++;\n        }\n        if (!_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].blindMode) {\n            if (settings.correction < 0) {\n                while (settings.correction < 0) {\n                    settings.currentLetterIndex--;\n                    if (settings.currentLetterIndex <= -2) {\n                        //go to the previous word\n                        settings.currentLetterIndex =\n                            _test_words__WEBPACK_IMPORTED_MODULE_1__.words.get(settings.currentWordIndex - 1).length - 1;\n                        settings.currentWordIndex--;\n                    }\n                    settings.correction++;\n                }\n            }\n            else if (settings.correction > 0) {\n                while (settings.correction > 0) {\n                    settings.currentLetterIndex++;\n                    if (settings.currentLetterIndex >=\n                        _test_words__WEBPACK_IMPORTED_MODULE_1__.words.get(settings.currentWordIndex).length) {\n                        //go to the next word\n                        settings.currentLetterIndex = -1;\n                        settings.currentWordIndex++;\n                    }\n                    settings.correction--;\n                }\n            }\n        }\n    }\n    catch (e) {\n        //out of words\n        settings = null;\n        $(\"#paceCaret\").addClass(\"hidden\");\n        return;\n    }\n    try {\n        const caret = $(\"#paceCaret\");\n        let currentLetter;\n        let newTop;\n        let newLeft;\n        try {\n            const newIndex = settings.currentWordIndex -\n                (_test_words__WEBPACK_IMPORTED_MODULE_1__.words.currentIndex - _test_ui__WEBPACK_IMPORTED_MODULE_2__.currentWordElementIndex);\n            const word = document.querySelectorAll(\"#words .word\")[newIndex];\n            if (settings.currentLetterIndex === -1) {\n                currentLetter = word.querySelectorAll(\"letter\")[0];\n            }\n            else {\n                currentLetter = (word.querySelectorAll(\"letter\")[settings.currentLetterIndex]);\n            }\n            const currentLetterHeight = $(currentLetter).height(), currentLetterWidth = $(currentLetter).width(), caretWidth = caret.width();\n            if (currentLetterHeight === undefined ||\n                currentLetterWidth === undefined ||\n                caretWidth === undefined) {\n                throw ``;\n            }\n            newTop = currentLetter.offsetTop - currentLetterHeight / 5;\n            newLeft;\n            if (settings.currentLetterIndex === -1) {\n                newLeft = currentLetter.offsetLeft;\n            }\n            else {\n                newLeft =\n                    currentLetter.offsetLeft + currentLetterWidth - caretWidth / 2;\n            }\n            caret.removeClass(\"hidden\");\n        }\n        catch (e) {\n            caret.addClass(\"hidden\");\n        }\n        if (newTop === undefined)\n            return;\n        let smoothlinescroll = $(\"#words .smoothScroller\").height();\n        if (smoothlinescroll === undefined)\n            smoothlinescroll = 0;\n        $(\"#paceCaret\").css({\n            top: newTop - smoothlinescroll,\n        });\n        const duration = expectedStepEnd - performance.now();\n        if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].smoothCaret) {\n            caret.stop(true, true).animate({\n                left: newLeft,\n            }, _states_slow_timer__WEBPACK_IMPORTED_MODULE_5__.get() ? 0 : duration, \"linear\");\n        }\n        else {\n            caret.stop(true, true).animate({\n                left: newLeft,\n            }, 0, \"linear\");\n        }\n        settings.timeout = setTimeout(() => {\n            var _a;\n            try {\n                update(expectedStepEnd + ((_a = settings === null || settings === void 0 ? void 0 : settings.spc) !== null && _a !== void 0 ? _a : 0) * 1000);\n            }\n            catch (e) {\n                settings = null;\n            }\n        }, duration);\n    }\n    catch (e) {\n        console.error(e);\n        $(\"#paceCaret\").addClass(\"hidden\");\n    }\n}\nfunction reset() {\n    if (settings !== null && settings.timeout !== null) {\n        clearTimeout(settings.timeout);\n    }\n    settings = null;\n}\nfunction handleSpace(correct, currentWord) {\n    if (correct) {\n        if (settings !== null &&\n            settings.wordsStatus[_test_words__WEBPACK_IMPORTED_MODULE_1__.words.currentIndex] === true &&\n            !_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].blindMode) {\n            settings.wordsStatus[_test_words__WEBPACK_IMPORTED_MODULE_1__.words.currentIndex] = undefined;\n            settings.correction -= currentWord.length + 1;\n        }\n    }\n    else {\n        if (settings !== null &&\n            settings.wordsStatus[_test_words__WEBPACK_IMPORTED_MODULE_1__.words.currentIndex] === undefined &&\n            !_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].blindMode) {\n            settings.wordsStatus[_test_words__WEBPACK_IMPORTED_MODULE_1__.words.currentIndex] = true;\n            settings.correction += currentWord.length + 1;\n        }\n    }\n}\nfunction start() {\n    var _a;\n    update(performance.now() + ((_a = settings === null || settings === void 0 ? void 0 : settings.spc) !== null && _a !== void 0 ? _a : 0) * 1000);\n}\n_observables_config_event__WEBPACK_IMPORTED_MODULE_9__.subscribe((eventKey) => {\n    if (eventKey === \"paceCaret\")\n        init();\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/pace-caret.ts?");

/***/ }),

/***/ "./src/scripts/test/pb-crown.ts":
/*!**************************************!*\
  !*** ./src/scripts/test/pb-crown.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"hide\": () => (/* binding */ hide),\n/* harmony export */   \"show\": () => (/* binding */ show)\n/* harmony export */ });\nfunction hide() {\n    $(\"#result .stats .wpm .crown\").css(\"opacity\", 0).addClass(\"hidden\");\n}\nfunction show() {\n    $(\"#result .stats .wpm .crown\")\n        .removeClass(\"hidden\")\n        .css(\"opacity\", \"0\")\n        .animate({\n        opacity: 1,\n    }, 250, \"easeOutCubic\");\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/pb-crown.ts?");

/***/ }),

/***/ "./src/scripts/test/poetry.ts":
/*!************************************!*\
  !*** ./src/scripts/test/poetry.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Poem\": () => (/* binding */ Poem),\n/* harmony export */   \"getPoem\": () => (/* binding */ getPoem)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\nconst bannedChars = [\"\", \"_\", \" \"];\nconst maxWords = 100;\nconst apiURL = \"https://poetrydb.org/random\";\nclass Poem {\n    constructor(title, author, words) {\n        this.title = title;\n        this.author = author;\n        this.words = words;\n        this.cleanUpText();\n    }\n    cleanUpText() {\n        let count = 0;\n        const scrubbedWords = [];\n        for (let i = 0; i < this.words.length; i++) {\n            let scrubbed = \"\";\n            for (let j = 0; j < this.words[i].length; j++) {\n                if (!bannedChars.includes(this.words[i][j])) {\n                    scrubbed += this.words[i][j];\n                }\n            }\n            if (scrubbed == \"\")\n                continue;\n            scrubbedWords.push(scrubbed);\n            count++;\n            if (count == maxWords)\n                break;\n        }\n        this.words = scrubbedWords;\n    }\n}\nfunction getPoem() {\n    return __awaiter(this, void 0, void 0, function* () {\n        console.log(\"Getting poem\");\n        const response = yield axios__WEBPACK_IMPORTED_MODULE_0___default().get(apiURL);\n        try {\n            const poemObj = response.data[0];\n            const words = [];\n            poemObj.lines.forEach((line) => {\n                line.split(/ +/).forEach((word) => {\n                    words.push(word);\n                });\n            });\n            return new Poem(poemObj.title, poemObj.author, words);\n        }\n        catch (e) {\n            console.log(e);\n        }\n        return;\n    });\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/poetry.ts?");

/***/ }),

/***/ "./src/scripts/test/practise-words.ts":
/*!********************************************!*\
  !*** ./src/scripts/test/practise-words.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"before\": () => (/* binding */ before),\n/* harmony export */   \"init\": () => (/* binding */ init),\n/* harmony export */   \"resetBefore\": () => (/* binding */ resetBefore),\n/* harmony export */   \"showPopup\": () => (/* binding */ showPopup),\n/* harmony export */   \"hidePopup\": () => (/* binding */ hidePopup)\n/* harmony export */ });\n/* harmony import */ var _test_words__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./test-words */ \"./src/scripts/test/test-words.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../elements/notifications */ \"./src/scripts/elements/notifications.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _custom_text__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./custom-text */ \"./src/scripts/test/custom-text.ts\");\n/* harmony import */ var _test_input__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./test-input */ \"./src/scripts/test/test-input.ts\");\n/* harmony import */ var _observables_config_event__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../observables/config-event */ \"./src/scripts/observables/config-event.ts\");\n\n\n\n\n\n\nconst before = {\n    mode: null,\n    punctuation: null,\n    numbers: null,\n};\nfunction init(missed, slow) {\n    if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].mode === \"zen\")\n        return;\n    let limit;\n    if ((missed && !slow) || (!missed && slow)) {\n        limit = 20;\n    }\n    else if (missed && slow) {\n        limit = 10;\n    }\n    else {\n        limit = 10;\n    }\n    let sortableMissedWords = [];\n    if (missed) {\n        Object.keys(_test_input__WEBPACK_IMPORTED_MODULE_4__.missedWords).forEach((missedWord) => {\n            sortableMissedWords.push([missedWord, _test_input__WEBPACK_IMPORTED_MODULE_4__.missedWords[missedWord]]);\n        });\n        sortableMissedWords.sort((a, b) => {\n            return b[1] - a[1];\n        });\n        sortableMissedWords = sortableMissedWords.slice(0, limit);\n    }\n    if (missed && !slow && sortableMissedWords.length == 0) {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"You haven't missed any words\", 0);\n        return;\n    }\n    let sortableSlowWords = [];\n    if (slow) {\n        sortableSlowWords = _test_words__WEBPACK_IMPORTED_MODULE_0__.words.get().map((e, i) => [\n            e,\n            _test_input__WEBPACK_IMPORTED_MODULE_4__.burstHistory[i],\n        ]);\n        sortableSlowWords.sort((a, b) => {\n            return a[1] - b[1];\n        });\n        sortableSlowWords = sortableSlowWords.slice(0, Math.min(limit, Math.round(_test_words__WEBPACK_IMPORTED_MODULE_0__.words.length * 0.2)));\n    }\n    // console.log(sortableMissedWords);\n    // console.log(sortableSlowWords);\n    if (sortableMissedWords.length == 0 && sortableSlowWords.length == 0) {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Could not start a new custom test\", 0);\n        return;\n    }\n    const newCustomText = [];\n    sortableMissedWords.forEach((missed) => {\n        for (let i = 0; i < missed[1]; i++) {\n            newCustomText.push(missed[0]);\n        }\n    });\n    sortableSlowWords.forEach((slow, index) => {\n        for (let i = 0; i < sortableSlowWords.length - index; i++) {\n            newCustomText.push(slow[0]);\n        }\n    });\n    // console.log(newCustomText);\n    const mode = before.mode === null ? _config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].mode : before.mode;\n    const punctuation = before.punctuation === null ? _config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].punctuation : before.punctuation;\n    const numbers = before.numbers === null ? _config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].numbers : before.numbers;\n    _config__WEBPACK_IMPORTED_MODULE_2__.setMode(\"custom\");\n    _custom_text__WEBPACK_IMPORTED_MODULE_3__.setText(newCustomText);\n    _custom_text__WEBPACK_IMPORTED_MODULE_3__.setIsWordRandom(true);\n    _custom_text__WEBPACK_IMPORTED_MODULE_3__.setWord((sortableSlowWords.length + sortableMissedWords.length) * 5);\n    _custom_text__WEBPACK_IMPORTED_MODULE_3__.setTime(-1);\n    before.mode = mode;\n    before.punctuation = punctuation;\n    before.numbers = numbers;\n}\nfunction resetBefore() {\n    before.mode = null;\n    before.punctuation = null;\n    before.numbers = null;\n}\nfunction showPopup(focus = false) {\n    if ($(\"#practiseWordsPopupWrapper\").hasClass(\"hidden\")) {\n        if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].mode === \"zen\") {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_1__.add(\"Practice words is unsupported in zen mode\", 0);\n            return;\n        }\n        $(\"#practiseWordsPopupWrapper\")\n            .stop(true, true)\n            .css(\"opacity\", 0)\n            .removeClass(\"hidden\")\n            .animate({ opacity: 1 }, 100, () => {\n            if (focus) {\n                console.log(\"focusing\");\n                $(\"#practiseWordsPopup .missed\").trigger(\"focus\");\n            }\n        });\n    }\n}\nfunction hidePopup() {\n    if (!$(\"#practiseWordsPopupWrapper\").hasClass(\"hidden\")) {\n        $(\"#practiseWordsPopupWrapper\")\n            .stop(true, true)\n            .css(\"opacity\", 1)\n            .animate({\n            opacity: 0,\n        }, 100, () => {\n            $(\"#practiseWordsPopupWrapper\").addClass(\"hidden\");\n        });\n    }\n}\n$(\"#practiseWordsPopupWrapper\").on(\"click\", (e) => {\n    if ($(e.target).attr(\"id\") === \"practiseWordsPopupWrapper\") {\n        hidePopup();\n    }\n});\n$(\"#practiseWordsPopup .button\").on(\"keypress\", (e) => {\n    if (e.key === \"Enter\") {\n        $(e.currentTarget).click();\n    }\n});\n$(\"#practiseWordsPopup .button.both\").on(\"focusout\", (e) => {\n    e.preventDefault();\n    $(\"#practiseWordsPopup .missed\").trigger(\"focus\");\n});\n$(document).on(\"keydown\", (event) => {\n    if (event.key === \"Escape\" &&\n        !$(\"#practiseWordsPopupWrapper\").hasClass(\"hidden\")) {\n        hidePopup();\n        event.preventDefault();\n    }\n});\n$(document).on(\"keypress\", \"#practiseWordsButton\", (event) => {\n    if (event.key === \"Enter\") {\n        showPopup(true);\n    }\n});\n$(document.body).on(\"click\", \"#practiseWordsButton\", () => {\n    showPopup();\n});\n_observables_config_event__WEBPACK_IMPORTED_MODULE_5__.subscribe((eventKey) => {\n    if (eventKey === \"mode\")\n        resetBefore();\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/practise-words.ts?");

/***/ }),

/***/ "./src/scripts/test/replay.ts":
/*!************************************!*\
  !*** ./src/scripts/test/replay.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"pauseReplay\": () => (/* binding */ pauseReplay),\n/* harmony export */   \"startReplayRecording\": () => (/* binding */ startReplayRecording),\n/* harmony export */   \"stopReplayRecording\": () => (/* binding */ stopReplayRecording),\n/* harmony export */   \"addReplayEvent\": () => (/* binding */ addReplayEvent),\n/* harmony export */   \"replayGetWordsList\": () => (/* binding */ replayGetWordsList),\n/* harmony export */   \"getReplayExport\": () => (/* binding */ getReplayExport)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _controllers_sound_controller__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/sound-controller */ \"./src/scripts/controllers/sound-controller.ts\");\nvar _a;\n\n\nlet wordsList = [];\nlet replayData = [];\nlet replayStartTime = 0;\nlet replayRecording = true;\nlet wordPos = 0;\nlet curPos = 0;\nlet targetWordPos = 0;\nlet targetCurPos = 0;\nlet timeoutList = [];\nlet stopwatchList = [];\nconst toggleButton = (_a = document.getElementById(\"playpauseReplayButton\")) === null || _a === void 0 ? void 0 : _a.children[0];\nfunction replayGetWordsList(wordsListFromScript) {\n    wordsList = wordsListFromScript;\n}\nfunction initializeReplayPrompt() {\n    const replayWordsElement = document.getElementById(\"replayWords\");\n    if (replayWordsElement === null)\n        return;\n    replayWordsElement.innerHTML = \"\";\n    let wordCount = 0;\n    replayData.forEach((item) => {\n        //trim wordsList for timed tests\n        if (item.action === \"backWord\") {\n            wordCount--;\n        }\n        else if (item.action === \"submitCorrectWord\" ||\n            item.action === \"submitErrorWord\") {\n            wordCount++;\n        }\n    });\n    wordsList.forEach((item, i) => {\n        if (i > wordCount)\n            return;\n        const x = document.createElement(\"div\");\n        x.className = \"word\";\n        for (i = 0; i < item.length; i++) {\n            const letter = document.createElement(\"letter\");\n            letter.innerHTML = item[i];\n            x.appendChild(letter);\n        }\n        replayWordsElement.appendChild(x);\n    });\n}\nfunction pauseReplay() {\n    var _a;\n    timeoutList.forEach((item) => {\n        clearTimeout(item);\n    });\n    timeoutList = [];\n    stopwatchList.forEach((item) => {\n        clearTimeout(item);\n    });\n    stopwatchList = [];\n    targetCurPos = curPos;\n    targetWordPos = wordPos;\n    if (toggleButton === undefined)\n        return;\n    toggleButton.className = \"fas fa-play\";\n    (_a = toggleButton.parentNode) === null || _a === void 0 ? void 0 : _a.setAttribute(\"aria-label\", \"Resume replay\");\n}\nfunction playSound(error = false) {\n    if (error) {\n        if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].playSoundOnError) {\n            _controllers_sound_controller__WEBPACK_IMPORTED_MODULE_1__.playError();\n        }\n        else {\n            _controllers_sound_controller__WEBPACK_IMPORTED_MODULE_1__.playClick();\n        }\n    }\n    else {\n        _controllers_sound_controller__WEBPACK_IMPORTED_MODULE_1__.playClick();\n    }\n}\nfunction handleDisplayLogic(item, nosound = false) {\n    var _a, _b, _c;\n    let activeWord = (_a = document.getElementById(\"replayWords\")) === null || _a === void 0 ? void 0 : _a.children[wordPos];\n    if (activeWord === undefined)\n        return;\n    if (item.action === \"correctLetter\") {\n        if (!nosound)\n            playSound();\n        activeWord.children[curPos].classList.add(\"correct\");\n        curPos++;\n    }\n    else if (item.action === \"incorrectLetter\") {\n        if (!nosound)\n            playSound(true);\n        let myElement;\n        if (curPos >= activeWord.children.length) {\n            //if letter is an extra\n            myElement = document.createElement(\"letter\");\n            myElement.classList.add(\"extra\");\n            myElement.innerHTML = (_c = (_b = item.value) === null || _b === void 0 ? void 0 : _b.toString()) !== null && _c !== void 0 ? _c : \"\";\n            activeWord.appendChild(myElement);\n        }\n        myElement = activeWord.children[curPos];\n        myElement.classList.add(\"incorrect\");\n        curPos++;\n    }\n    else if (item.action === \"setLetterIndex\" &&\n        typeof item.value === \"number\") {\n        if (!nosound)\n            playSound();\n        curPos = item.value;\n        // remove all letters from cursor to end of word\n        for (const myElement of [...activeWord.children].slice(curPos)) {\n            if (myElement.classList.contains(\"extra\")) {\n                myElement.remove();\n            }\n            else {\n                myElement.className = \"\";\n            }\n        }\n    }\n    else if (item.action === \"submitCorrectWord\") {\n        if (!nosound)\n            playSound();\n        wordPos++;\n        curPos = 0;\n    }\n    else if (item.action === \"submitErrorWord\") {\n        if (!nosound)\n            playSound(true);\n        activeWord.classList.add(\"error\");\n        wordPos++;\n        curPos = 0;\n    }\n    else if (item.action === \"backWord\") {\n        if (!nosound)\n            playSound();\n        wordPos--;\n        const replayWords = document.getElementById(\"replayWords\");\n        if (replayWords !== null)\n            activeWord = replayWords.children[wordPos];\n        curPos = activeWord.children.length;\n        while (activeWord.children[curPos - 1].className === \"\")\n            curPos--;\n        activeWord.classList.remove(\"error\");\n    }\n}\nfunction loadOldReplay() {\n    let startingIndex = 0;\n    curPos = 0;\n    wordPos = 0;\n    replayData.forEach((item, i) => {\n        if (wordPos < targetWordPos ||\n            (wordPos === targetWordPos && curPos < targetCurPos)) {\n            //quickly display everything up to the target\n            handleDisplayLogic(item, true);\n            startingIndex = i + 1;\n        }\n    });\n    const time = Math.floor(replayData[startingIndex].time / 1000);\n    $(\"#replayStopwatch\").text(time + \"s\");\n    return startingIndex;\n}\nfunction toggleReplayDisplay() {\n    var _a;\n    if ($(\"#resultReplay\").stop(true, true).hasClass(\"hidden\")) {\n        initializeReplayPrompt();\n        loadOldReplay();\n        //show\n        if (!$(\"#watchReplayButton\").hasClass(\"loaded\")) {\n            $(\"#words\").html(`<div class=\"preloader\"><i class=\"fas fa-fw fa-spin fa-circle-notch\"></i></div>`);\n            $(\"#resultReplay\")\n                .removeClass(\"hidden\")\n                .css(\"display\", \"none\")\n                .slideDown(250);\n        }\n        else {\n            $(\"#resultReplay\")\n                .removeClass(\"hidden\")\n                .css(\"display\", \"none\")\n                .slideDown(250);\n        }\n    }\n    else {\n        //hide\n        if (((_a = toggleButton === null || toggleButton === void 0 ? void 0 : toggleButton.parentNode) === null || _a === void 0 ? void 0 : _a.getAttribute(\"aria-label\")) !=\n            \"Start replay\") {\n            pauseReplay();\n        }\n        $(\"#resultReplay\").slideUp(250, () => {\n            $(\"#resultReplay\").addClass(\"hidden\");\n        });\n    }\n}\nfunction startReplayRecording() {\n    if (!$(\"#resultReplay\").stop(true, true).hasClass(\"hidden\")) {\n        //hide replay display if user left it open\n        toggleReplayDisplay();\n    }\n    $(\"#replayStopwatch\").text(0 + \"s\");\n    replayData = [];\n    replayStartTime = performance.now();\n    replayRecording = true;\n    targetCurPos = 0;\n    targetWordPos = 0;\n}\nfunction stopReplayRecording() {\n    replayRecording = false;\n}\nfunction addReplayEvent(action, value) {\n    if (!replayRecording) {\n        return;\n    }\n    const timeDelta = performance.now() - replayStartTime;\n    replayData.push({ action: action, value: value, time: timeDelta });\n}\nfunction playReplay() {\n    var _a;\n    curPos = 0;\n    wordPos = 0;\n    if (toggleButton === undefined)\n        return;\n    toggleButton.className = \"fas fa-pause\";\n    (_a = toggleButton.parentNode) === null || _a === void 0 ? void 0 : _a.setAttribute(\"aria-label\", \"Pause replay\");\n    initializeReplayPrompt();\n    const startingIndex = loadOldReplay();\n    const lastTime = replayData[startingIndex].time;\n    let swTime = Math.round(lastTime / 1000); //starting time\n    const swEndTime = Math.round(replayData[replayData.length - 1].time / 1000);\n    while (swTime <= swEndTime) {\n        const time = swTime;\n        stopwatchList.push(setTimeout(() => {\n            $(\"#replayStopwatch\").text(time + \"s\");\n        }, time * 1000 - lastTime));\n        swTime++;\n    }\n    replayData.forEach((item, i) => {\n        if (i < startingIndex)\n            return;\n        timeoutList.push(setTimeout(() => {\n            handleDisplayLogic(item);\n        }, item.time - lastTime));\n    });\n    timeoutList.push(setTimeout(() => {\n        //after the replay has finished, this will run\n        targetCurPos = 0;\n        targetWordPos = 0;\n        toggleButton.className = \"fas fa-play\";\n        toggleButton.parentNode.setAttribute(\"aria-label\", \"Start replay\");\n    }, replayData[replayData.length - 1].time - lastTime));\n}\nfunction getReplayExport() {\n    return JSON.stringify({\n        replayData: replayData,\n        wordsList: wordsList,\n    });\n}\n$(\".pageTest #playpauseReplayButton\").on(\"click\", () => {\n    if ((toggleButton === null || toggleButton === void 0 ? void 0 : toggleButton.className) === \"fas fa-play\") {\n        playReplay();\n    }\n    else if ((toggleButton === null || toggleButton === void 0 ? void 0 : toggleButton.className) === \"fas fa-pause\") {\n        pauseReplay();\n    }\n});\n$(\"#replayWords\").on(\"click\", \"letter\", (event) => {\n    var _a;\n    //allows user to click on the place they want to start their replay at\n    pauseReplay();\n    const replayWords = document.querySelector(\"#replayWords\");\n    const words = [...((_a = replayWords === null || replayWords === void 0 ? void 0 : replayWords.children) !== null && _a !== void 0 ? _a : [])];\n    targetWordPos = words.indexOf(event.target.parentNode);\n    const letters = [...words[targetWordPos].children];\n    targetCurPos = letters.indexOf(event.target);\n    initializeReplayPrompt();\n    loadOldReplay();\n});\n$(document).on(\"keypress\", \"#watchReplayButton\", (event) => {\n    if (event.key === \"Enter\") {\n        toggleReplayDisplay();\n    }\n});\n$(document.body).on(\"click\", \"#watchReplayButton\", () => {\n    toggleReplayDisplay();\n});\n\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/replay.ts?");

/***/ }),

/***/ "./src/scripts/test/result.ts":
/*!************************************!*\
  !*** ./src/scripts/test/result.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"toggleUnsmoothedRaw\": () => (/* binding */ toggleUnsmoothedRaw),\n/* harmony export */   \"updateGraphPBLine\": () => (/* binding */ updateGraphPBLine),\n/* harmony export */   \"updateTodayTracker\": () => (/* binding */ updateTodayTracker),\n/* harmony export */   \"showCrown\": () => (/* binding */ showCrown),\n/* harmony export */   \"hideCrown\": () => (/* binding */ hideCrown),\n/* harmony export */   \"updateCrown\": () => (/* binding */ updateCrown),\n/* harmony export */   \"updateRateQuote\": () => (/* binding */ updateRateQuote),\n/* harmony export */   \"update\": () => (/* binding */ update)\n/* harmony export */ });\n/* harmony import */ var _test_ui__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./test-ui */ \"./src/scripts/test/test-ui.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _test_stats__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./test-stats */ \"./src/scripts/test/test-stats.ts\");\n/* harmony import */ var _elements_keymap__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../elements/keymap */ \"./src/scripts/elements/keymap.ts\");\n/* harmony import */ var _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../controllers/chart-controller */ \"./src/scripts/controllers/chart-controller.js\");\n/* harmony import */ var _elements_theme_colors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../elements/theme-colors */ \"./src/scripts/elements/theme-colors.ts\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../db */ \"./src/scripts/db.ts\");\n/* harmony import */ var _today_tracker__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./today-tracker */ \"./src/scripts/test/today-tracker.ts\");\n/* harmony import */ var _pb_crown__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./pb-crown */ \"./src/scripts/test/pb-crown.ts\");\n/* harmony import */ var _popups_quote_rate_popup__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../popups/quote-rate-popup */ \"./src/scripts/popups/quote-rate-popup.ts\");\n/* harmony import */ var _states_glarses_mode__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../states/glarses-mode */ \"./src/scripts/states/glarses-mode.ts\");\n/* harmony import */ var _test_input__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./test-input */ \"./src/scripts/test/test-input.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../elements/notifications */ \"./src/scripts/elements/notifications.ts\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../firebase */ \"./src/scripts/firebase.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlet result;\nlet maxChartVal;\nlet useUnsmoothedRaw = false;\nfunction toggleUnsmoothedRaw() {\n    useUnsmoothedRaw = !useUnsmoothedRaw;\n    _elements_notifications__WEBPACK_IMPORTED_MODULE_13__.add(useUnsmoothedRaw ? \"on\" : \"off\", 1);\n}\nfunction updateGraph() {\n    var _a, _b;\n    return __awaiter(this, void 0, void 0, function* () {\n        _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_5__.result.options.annotation.annotations = [];\n        const labels = [];\n        for (let i = 1; i <= _test_input__WEBPACK_IMPORTED_MODULE_12__.wpmHistory.length; i++) {\n            if (_test_stats__WEBPACK_IMPORTED_MODULE_3__.lastSecondNotRound && i === _test_input__WEBPACK_IMPORTED_MODULE_12__.wpmHistory.length) {\n                labels.push(_utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(result.testDuration).toString());\n            }\n            else {\n                labels.push(i.toString());\n            }\n        }\n        _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_5__.result.updateColors();\n        _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_5__.result.data.labels = labels;\n        _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_5__.result.options.scales.yAxes[0].scaleLabel.labelString =\n            _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].alwaysShowCPM ? \"Character per Minute\" : \"Words per Minute\";\n        const chartData1 = _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].alwaysShowCPM\n            ? _test_input__WEBPACK_IMPORTED_MODULE_12__.wpmHistory.map((a) => a * 5)\n            : _test_input__WEBPACK_IMPORTED_MODULE_12__.wpmHistory;\n        let chartData2;\n        if (result.chartData === \"toolong\")\n            return;\n        if (useUnsmoothedRaw) {\n            chartData2 =\n                (_b = (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].alwaysShowCPM\n                    ? (_a = result.chartData.unsmoothedRaw) === null || _a === void 0 ? void 0 : _a.map((a) => a * 5)\n                    : result.chartData.unsmoothedRaw)) !== null && _b !== void 0 ? _b : [];\n        }\n        else {\n            chartData2 = _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].alwaysShowCPM\n                ? result.chartData.raw.map((a) => a * 5)\n                : result.chartData.raw;\n        }\n        _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_5__.result.data.datasets[0].data = chartData1;\n        _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_5__.result.data.datasets[1].data = chartData2;\n        _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_5__.result.data.datasets[0].label = _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].alwaysShowCPM\n            ? \"cpm\"\n            : \"wpm\";\n        maxChartVal = Math.max(...[Math.max(...chartData2), Math.max(...chartData1)]);\n        if (!_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].startGraphsAtZero) {\n            const minChartVal = Math.min(...[Math.min(...chartData2), Math.min(...chartData1)]);\n            _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_5__.result.options.scales.yAxes[0].ticks.min = minChartVal;\n            _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_5__.result.options.scales.yAxes[1].ticks.min = minChartVal;\n        }\n        else {\n            _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_5__.result.options.scales.yAxes[0].ticks.min = 0;\n            _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_5__.result.options.scales.yAxes[1].ticks.min = 0;\n        }\n        _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_5__.result.data.datasets[2].data = result.chartData.err;\n        const fc = yield _elements_theme_colors__WEBPACK_IMPORTED_MODULE_6__.get(\"sub\");\n        if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].funbox !== \"none\") {\n            let content = _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].funbox;\n            if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].funbox === \"layoutfluid\") {\n                content += \" \" + _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].customLayoutfluid.replace(/#/g, \" \");\n            }\n            _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_5__.result.options.annotation.annotations.push({\n                enabled: false,\n                type: \"line\",\n                mode: \"horizontal\",\n                scaleID: \"wpm\",\n                value: 0,\n                borderColor: \"transparent\",\n                borderWidth: 1,\n                borderDash: [2, 2],\n                label: {\n                    backgroundColor: \"transparent\",\n                    fontFamily: _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].fontFamily.replace(/_/g, \" \"),\n                    fontSize: 11,\n                    fontStyle: \"normal\",\n                    fontColor: fc,\n                    xPadding: 6,\n                    yPadding: 6,\n                    cornerRadius: 3,\n                    position: \"left\",\n                    enabled: true,\n                    content: `${content}`,\n                    yAdjust: -11,\n                },\n            });\n        }\n        _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_5__.result.options.scales.yAxes[0].ticks.max = maxChartVal;\n        _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_5__.result.options.scales.yAxes[1].ticks.max = maxChartVal;\n        _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_5__.result.update();\n        _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_5__.result.resize();\n    });\n}\nfunction updateGraphPBLine() {\n    var _a, _b, _c;\n    return __awaiter(this, void 0, void 0, function* () {\n        const themecolors = yield _elements_theme_colors__WEBPACK_IMPORTED_MODULE_6__.getAll();\n        const lpb = yield _db__WEBPACK_IMPORTED_MODULE_7__.getLocalPB(result.mode, result.mode2, (_a = result.punctuation) !== null && _a !== void 0 ? _a : false, result.language, result.difficulty, (_b = result.lazyMode) !== null && _b !== void 0 ? _b : false, (_c = result.funbox) !== null && _c !== void 0 ? _c : \"none\");\n        if (lpb == 0)\n            return;\n        const chartlpb = _utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].alwaysShowCPM ? lpb * 5 : lpb).toFixed(2);\n        _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_5__.result.options.annotation.annotations.push({\n            enabled: false,\n            type: \"line\",\n            mode: \"horizontal\",\n            scaleID: \"wpm\",\n            value: chartlpb,\n            borderColor: themecolors[\"sub\"],\n            borderWidth: 1,\n            borderDash: [2, 2],\n            label: {\n                backgroundColor: themecolors[\"sub\"],\n                fontFamily: _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].fontFamily.replace(/_/g, \" \"),\n                fontSize: 11,\n                fontStyle: \"normal\",\n                fontColor: themecolors[\"bg\"],\n                xPadding: 6,\n                yPadding: 6,\n                cornerRadius: 3,\n                position: \"center\",\n                enabled: true,\n                content: `PB: ${chartlpb}`,\n            },\n        });\n        if (maxChartVal >= parseFloat(chartlpb) - 20 &&\n            maxChartVal <= parseFloat(chartlpb) + 20) {\n            maxChartVal = parseFloat(chartlpb) + 20;\n        }\n        _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_5__.result.options.scales.yAxes[0].ticks.max =\n            Math.round(maxChartVal);\n        _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_5__.result.options.scales.yAxes[1].ticks.max =\n            Math.round(maxChartVal);\n        _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_5__.result.update();\n    });\n}\nfunction updateWpmAndAcc() {\n    let inf = false;\n    if (result.wpm >= 1000) {\n        inf = true;\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].alwaysShowDecimalPlaces) {\n        if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].alwaysShowCPM == false) {\n            $(\"#result .stats .wpm .top .text\").text(\"wpm\");\n            if (inf) {\n                $(\"#result .stats .wpm .bottom\").text(\"Infinite\");\n            }\n            else {\n                $(\"#result .stats .wpm .bottom\").text(_utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(result.wpm).toFixed(2));\n            }\n            $(\"#result .stats .raw .bottom\").text(_utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(result.rawWpm).toFixed(2));\n            $(\"#result .stats .wpm .bottom\").attr(\"aria-label\", _utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(result.wpm * 5).toFixed(2) + \" cpm\");\n        }\n        else {\n            $(\"#result .stats .wpm .top .text\").text(\"cpm\");\n            if (inf) {\n                $(\"#result .stats .wpm .bottom\").text(\"Infinite\");\n            }\n            else {\n                $(\"#result .stats .wpm .bottom\").text(_utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(result.wpm * 5).toFixed(2));\n            }\n            $(\"#result .stats .raw .bottom\").text(_utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(result.rawWpm * 5).toFixed(2));\n            $(\"#result .stats .wpm .bottom\").attr(\"aria-label\", _utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(result.wpm).toFixed(2) + \" wpm\");\n        }\n        $(\"#result .stats .acc .bottom\").text(result.acc == 100 ? \"100%\" : _utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(result.acc).toFixed(2) + \"%\");\n        let time = _utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(result.testDuration).toFixed(2) + \"s\";\n        if (result.testDuration > 61) {\n            time = _utils_misc__WEBPACK_IMPORTED_MODULE_2__.secondsToString(_utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(result.testDuration));\n        }\n        $(\"#result .stats .time .bottom .text\").text(time);\n        $(\"#result .stats .raw .bottom\").removeAttr(\"aria-label\");\n        $(\"#result .stats .acc .bottom\").removeAttr(\"aria-label\");\n    }\n    else {\n        //not showing decimal places\n        if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].alwaysShowCPM == false) {\n            $(\"#result .stats .wpm .top .text\").text(\"wpm\");\n            $(\"#result .stats .wpm .bottom\").attr(\"aria-label\", result.wpm + ` (${_utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(result.wpm * 5)} cpm)`);\n            if (inf) {\n                $(\"#result .stats .wpm .bottom\").text(\"Infinite\");\n            }\n            else {\n                $(\"#result .stats .wpm .bottom\").text(Math.round(result.wpm));\n            }\n            $(\"#result .stats .raw .bottom\").text(Math.round(result.rawWpm));\n            $(\"#result .stats .raw .bottom\").attr(\"aria-label\", result.rawWpm);\n        }\n        else {\n            $(\"#result .stats .wpm .top .text\").text(\"cpm\");\n            $(\"#result .stats .wpm .bottom\").attr(\"aria-label\", _utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(result.wpm * 5) + ` (${_utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(result.wpm)} wpm)`);\n            if (inf) {\n                $(\"#result .stats .wpm .bottom\").text(\"Infinite\");\n            }\n            else {\n                $(\"#result .stats .wpm .bottom\").text(Math.round(result.wpm * 5));\n            }\n            $(\"#result .stats .raw .bottom\").text(Math.round(result.rawWpm * 5));\n            $(\"#result .stats .raw .bottom\").attr(\"aria-label\", result.rawWpm * 5);\n        }\n        $(\"#result .stats .acc .bottom\").text(Math.floor(result.acc) + \"%\");\n        $(\"#result .stats .acc .bottom\").attr(\"aria-label\", result.acc + \"%\");\n    }\n}\nfunction updateConsistency() {\n    if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].alwaysShowDecimalPlaces) {\n        $(\"#result .stats .consistency .bottom\").text(_utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(result.consistency).toFixed(2) + \"%\");\n        $(\"#result .stats .consistency .bottom\").attr(\"aria-label\", `${result.keyConsistency.toFixed(2)}% key`);\n    }\n    else {\n        $(\"#result .stats .consistency .bottom\").text(Math.round(result.consistency) + \"%\");\n        $(\"#result .stats .consistency .bottom\").attr(\"aria-label\", `${result.consistency}% (${result.keyConsistency}% key)`);\n    }\n}\nfunction updateTime() {\n    const afkSecondsPercent = _utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2((result.afkDuration / result.testDuration) * 100);\n    $(\"#result .stats .time .bottom .afk\").text(\"\");\n    if (afkSecondsPercent > 0) {\n        $(\"#result .stats .time .bottom .afk\").text(afkSecondsPercent + \"% afk\");\n    }\n    $(\"#result .stats .time .bottom\").attr(\"aria-label\", `${result.afkDuration}s afk ${afkSecondsPercent}%`);\n    if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].alwaysShowDecimalPlaces) {\n        let time = _utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(result.testDuration).toFixed(2) + \"s\";\n        if (result.testDuration > 61) {\n            time = _utils_misc__WEBPACK_IMPORTED_MODULE_2__.secondsToString(_utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(result.testDuration));\n        }\n        $(\"#result .stats .time .bottom .text\").text(time);\n    }\n    else {\n        let time = Math.round(result.testDuration) + \"s\";\n        if (result.testDuration > 61) {\n            time = _utils_misc__WEBPACK_IMPORTED_MODULE_2__.secondsToString(Math.round(result.testDuration));\n        }\n        $(\"#result .stats .time .bottom .text\").text(time);\n        $(\"#result .stats .time .bottom\").attr(\"aria-label\", `${_utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(result.testDuration)}s (${result.afkDuration}s afk ${afkSecondsPercent}%)`);\n    }\n}\nfunction updateTodayTracker() {\n    $(\"#result .stats .time .bottom .timeToday\").text(_today_tracker__WEBPACK_IMPORTED_MODULE_8__.getString());\n}\nfunction updateKey() {\n    $(\"#result .stats .key .bottom\").text(result.charStats[0] +\n        \"/\" +\n        result.charStats[1] +\n        \"/\" +\n        result.charStats[2] +\n        \"/\" +\n        result.charStats[3]);\n}\nfunction showCrown() {\n    _pb_crown__WEBPACK_IMPORTED_MODULE_9__.show();\n}\nfunction hideCrown() {\n    _pb_crown__WEBPACK_IMPORTED_MODULE_9__.hide();\n    $(\"#result .stats .wpm .crown\").attr(\"aria-label\", \"\");\n}\nfunction updateCrown() {\n    return __awaiter(this, void 0, void 0, function* () {\n        let pbDiff = 0;\n        const lpb = yield _db__WEBPACK_IMPORTED_MODULE_7__.getLocalPB(_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].mode, result.mode2, _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].punctuation, _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].language, _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].difficulty, _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].lazyMode, _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].funbox);\n        pbDiff = Math.abs(result.wpm - lpb);\n        $(\"#result .stats .wpm .crown\").attr(\"aria-label\", \"+\" + _utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(pbDiff));\n    });\n}\nfunction updateTags(dontSave) {\n    var _a;\n    const activeTags = [];\n    try {\n        (_a = _db__WEBPACK_IMPORTED_MODULE_7__.getSnapshot().tags) === null || _a === void 0 ? void 0 : _a.forEach((tag) => {\n            if (tag.active === true) {\n                activeTags.push(tag);\n            }\n        });\n    }\n    catch (e) { }\n    $(\"#result .stats .tags\").addClass(\"hidden\");\n    if (activeTags.length == 0) {\n        $(\"#result .stats .tags\").addClass(\"hidden\");\n    }\n    else {\n        $(\"#result .stats .tags\").removeClass(\"hidden\");\n    }\n    $(\"#result .stats .tags .bottom\").text(\"\");\n    let annotationSide = \"left\";\n    let labelAdjust = 15;\n    activeTags.forEach((tag) => __awaiter(this, void 0, void 0, function* () {\n        const tpb = yield _db__WEBPACK_IMPORTED_MODULE_7__.getLocalTagPB(tag._id, _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].mode, result.mode2, _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].punctuation, _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].language, _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].difficulty, _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].lazyMode);\n        $(\"#result .stats .tags .bottom\").append(`\n      <div tagid=\"${tag._id}\" aria-label=\"PB: ${tpb}\" data-balloon-pos=\"up\">${tag.name}<i class=\"fas fa-crown hidden\"></i></div>\n    `);\n        if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].mode != \"quote\" && !dontSave) {\n            if (tpb < result.wpm) {\n                //new pb for that tag\n                _db__WEBPACK_IMPORTED_MODULE_7__.saveLocalTagPB(tag._id, _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].mode, result.mode2, _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].punctuation, _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].language, _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].difficulty, _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].lazyMode, result.wpm, result.acc, result.rawWpm, result.consistency);\n                $(`#result .stats .tags .bottom div[tagid=\"${tag._id}\"] .fas`).removeClass(\"hidden\");\n                $(`#result .stats .tags .bottom div[tagid=\"${tag._id}\"]`).attr(\"aria-label\", \"+\" + _utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(result.wpm - tpb));\n                // console.log(\"new pb for tag \" + tag.name);\n            }\n            else {\n                const themecolors = yield _elements_theme_colors__WEBPACK_IMPORTED_MODULE_6__.getAll();\n                _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_5__.result.options.annotation.annotations.push({\n                    enabled: false,\n                    type: \"line\",\n                    mode: \"horizontal\",\n                    scaleID: \"wpm\",\n                    value: _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].alwaysShowCPM ? tpb * 5 : tpb,\n                    borderColor: themecolors[\"sub\"],\n                    borderWidth: 1,\n                    borderDash: [2, 2],\n                    label: {\n                        backgroundColor: themecolors[\"sub\"],\n                        fontFamily: _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].fontFamily.replace(/_/g, \" \"),\n                        fontSize: 11,\n                        fontStyle: \"normal\",\n                        fontColor: themecolors[\"bg\"],\n                        xPadding: 6,\n                        yPadding: 6,\n                        cornerRadius: 3,\n                        position: annotationSide,\n                        xAdjust: labelAdjust,\n                        enabled: true,\n                        content: `${tag.name} PB: ${_utils_misc__WEBPACK_IMPORTED_MODULE_2__.roundTo2(_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].alwaysShowCPM ? tpb * 5 : tpb).toFixed(2)}`,\n                    },\n                });\n                if (annotationSide === \"left\") {\n                    annotationSide = \"right\";\n                    labelAdjust = -15;\n                }\n                else {\n                    annotationSide = \"left\";\n                    labelAdjust = 15;\n                }\n            }\n        }\n    }));\n}\nfunction updateTestType(randomQuote) {\n    let testType = \"\";\n    testType += _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].mode;\n    if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].mode === \"time\") {\n        testType += \" \" + _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].time;\n    }\n    else if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].mode === \"words\") {\n        testType += \" \" + _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].words;\n    }\n    else if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].mode === \"quote\") {\n        if (randomQuote.group !== undefined) {\n            testType += \" \" + [\"short\", \"medium\", \"long\", \"thicc\"][randomQuote.group];\n        }\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].mode != \"custom\" &&\n        _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].funbox !== \"gibberish\" &&\n        _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].funbox !== \"ascii\" &&\n        _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].funbox !== \"58008\") {\n        testType += \"<br>\" + result.language.replace(/_/g, \" \");\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].punctuation) {\n        testType += \"<br>punctuation\";\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].numbers) {\n        testType += \"<br>numbers\";\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].blindMode) {\n        testType += \"<br>blind\";\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].lazyMode) {\n        testType += \"<br>lazy\";\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].funbox !== \"none\") {\n        testType += \"<br>\" + _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].funbox.replace(/_/g, \" \");\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].difficulty == \"expert\") {\n        testType += \"<br>expert\";\n    }\n    else if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].difficulty == \"master\") {\n        testType += \"<br>master\";\n    }\n    $(\"#result .stats .testType .bottom\").html(testType);\n}\nfunction updateOther(difficultyFailed, failReason, afkDetected, isRepeated, tooShort) {\n    let otherText = \"\";\n    if (difficultyFailed) {\n        otherText += `<br>failed (${failReason})`;\n    }\n    if (afkDetected) {\n        otherText += \"<br>afk detected\";\n    }\n    if (_test_stats__WEBPACK_IMPORTED_MODULE_3__.invalid) {\n        otherText += \"<br>invalid\";\n        let extra = \"\";\n        if (result.wpm < 0 || result.wpm > 350) {\n            extra += \"wpm\";\n        }\n        if (result.acc < 75 || result.acc > 100) {\n            if (extra.length > 0) {\n                extra += \", \";\n            }\n            extra += \"accuracy\";\n        }\n        if (extra.length > 0) {\n            otherText += ` (${extra})`;\n        }\n    }\n    if (isRepeated) {\n        otherText += \"<br>repeated\";\n    }\n    if (result.bailedOut) {\n        otherText += \"<br>bailed out\";\n    }\n    if (tooShort) {\n        otherText += \"<br>too short\";\n    }\n    if (otherText == \"\") {\n        $(\"#result .stats .info\").addClass(\"hidden\");\n    }\n    else {\n        $(\"#result .stats .info\").removeClass(\"hidden\");\n        otherText = otherText.substring(4);\n        $(\"#result .stats .info .bottom\").html(otherText);\n    }\n}\nfunction updateRateQuote(randomQuote) {\n    var _a, _b;\n    if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].mode === \"quote\") {\n        const userqr = (_b = (_a = _db__WEBPACK_IMPORTED_MODULE_7__.getSnapshot().quoteRatings) === null || _a === void 0 ? void 0 : _a[randomQuote.language]) === null || _b === void 0 ? void 0 : _b[randomQuote.id];\n        if (userqr) {\n            $(\".pageTest #result #rateQuoteButton .icon\")\n                .removeClass(\"far\")\n                .addClass(\"fas\");\n        }\n        _popups_quote_rate_popup__WEBPACK_IMPORTED_MODULE_10__.getQuoteStats(randomQuote).then((quoteStats) => {\n            var _a, _b;\n            $(\".pageTest #result #rateQuoteButton .rating\").text((_b = (_a = quoteStats === null || quoteStats === void 0 ? void 0 : quoteStats.average) === null || _a === void 0 ? void 0 : _a.toFixed(1)) !== null && _b !== void 0 ? _b : \"\");\n            $(\".pageTest #result #rateQuoteButton\")\n                .css({ opacity: 0 })\n                .removeClass(\"hidden\")\n                .css({ opacity: 1 });\n        });\n    }\n}\nfunction updateQuoteSource(randomQuote) {\n    if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].mode === \"quote\") {\n        $(\"#result .stats .source\").removeClass(\"hidden\");\n        $(\"#result .stats .source .bottom\").html(randomQuote.source);\n    }\n    else {\n        $(\"#result .stats .source\").addClass(\"hidden\");\n    }\n}\nfunction update(res, difficultyFailed, failReason, afkDetected, isRepeated, tooShort, randomQuote, dontSave) {\n    result = res;\n    $(\"#result #resultWordsHistory\").addClass(\"hidden\");\n    $(\"#retrySavingResultButton\").addClass(\"hidden\");\n    $(\".pageTest #result #rateQuoteButton .icon\")\n        .removeClass(\"fas\")\n        .addClass(\"far\");\n    $(\".pageTest #result #rateQuoteButton .rating\").text(\"\");\n    $(\".pageTest #result #rateQuoteButton\").addClass(\"hidden\");\n    $(\"#testModesNotice\").css(\"opacity\", 0);\n    $(\"#words\").removeClass(\"blurred\");\n    $(\"#wordsInput\").blur();\n    $(\"#result .stats .time .bottom .afk\").text(\"\");\n    if (_firebase__WEBPACK_IMPORTED_MODULE_14__.Auth.currentUser != null) {\n        $(\"#result .loginTip\").addClass(\"hidden\");\n    }\n    else {\n        $(\"#result .loginTip\").removeClass(\"hidden\");\n    }\n    updateWpmAndAcc();\n    updateConsistency();\n    updateTime();\n    updateKey();\n    updateTestType(randomQuote);\n    updateQuoteSource(randomQuote);\n    updateGraph();\n    updateGraphPBLine();\n    updateTags(dontSave);\n    updateOther(difficultyFailed, failReason, afkDetected, isRepeated, tooShort);\n    if ($(\"#result .stats .tags\").hasClass(\"hidden\") &&\n        $(\"#result .stats .info\").hasClass(\"hidden\")) {\n        $(\"#result .stats .infoAndTags\").addClass(\"hidden\");\n    }\n    else {\n        $(\"#result .stats .infoAndTags\").removeClass(\"hidden\");\n    }\n    if (_states_glarses_mode__WEBPACK_IMPORTED_MODULE_11__.get()) {\n        $(\"#middle #result .noStressMessage\").remove();\n        $(\"#middle #result\").prepend(`\n\n      <div class='noStressMessage' style=\"\n        text-align: center;\n        grid-column: 1/3;\n        font-size: 2rem;\n        padding-bottom: 2rem;\n      \">\n      <i class=\"fas fa-check\"></i>\n      </div>\n\n    `);\n        $(\"#middle #result .stats\").addClass(\"hidden\");\n        $(\"#middle #result .chart\").addClass(\"hidden\");\n        $(\"#middle #result #resultWordsHistory\").addClass(\"hidden\");\n        $(\"#middle #result #resultReplay\").addClass(\"hidden\");\n        $(\"#middle #result .loginTip\").addClass(\"hidden\");\n        $(\"#middle #result #showWordHistoryButton\").addClass(\"hidden\");\n        $(\"#middle #result #watchReplayButton\").addClass(\"hidden\");\n        $(\"#middle #result #saveScreenshotButton\").addClass(\"hidden\");\n        console.log(`Test Completed: ${result.wpm} wpm ${result.acc}% acc ${result.rawWpm} raw ${result.consistency}% consistency`);\n    }\n    else {\n        $(\"#middle #result .stats\").removeClass(\"hidden\");\n        $(\"#middle #result .chart\").removeClass(\"hidden\");\n        // $(\"#middle #result #resultWordsHistory\").removeClass(\"hidden\");\n        if (_firebase__WEBPACK_IMPORTED_MODULE_14__.Auth.currentUser == null) {\n            $(\"#middle #result .loginTip\").removeClass(\"hidden\");\n        }\n        $(\"#middle #result #showWordHistoryButton\").removeClass(\"hidden\");\n        $(\"#middle #result #watchReplayButton\").removeClass(\"hidden\");\n        $(\"#middle #result #saveScreenshotButton\").removeClass(\"hidden\");\n    }\n    if (window.scrollY > 0) {\n        $([document.documentElement, document.body])\n            .stop()\n            .animate({ scrollTop: 0 }, 250);\n    }\n    _utils_misc__WEBPACK_IMPORTED_MODULE_2__.swapElements($(\"#typingTest\"), $(\"#result\"), 250, () => {\n        _test_ui__WEBPACK_IMPORTED_MODULE_0__.setResultCalculating(false);\n        $(\"#words\").empty();\n        _controllers_chart_controller__WEBPACK_IMPORTED_MODULE_5__.result.resize();\n        if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].alwaysShowWordsHistory && _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].burstHeatmap) {\n            _test_ui__WEBPACK_IMPORTED_MODULE_0__.applyBurstHeatmap();\n        }\n        $(\"#result\").trigger(\"focus\");\n        window.scrollTo({ top: 0 });\n        $(\"#testModesNotice\").addClass(\"hidden\");\n    }, () => {\n        $(\"#resultExtraButtons\").removeClass(\"hidden\").css(\"opacity\", 0).animate({\n            opacity: 1,\n        }, 125);\n        if (_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].alwaysShowWordsHistory && !_states_glarses_mode__WEBPACK_IMPORTED_MODULE_11__.get()) {\n            _test_ui__WEBPACK_IMPORTED_MODULE_0__.toggleResultWords();\n        }\n        _elements_keymap__WEBPACK_IMPORTED_MODULE_4__.hide();\n    });\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/result.ts?");

/***/ }),

/***/ "./src/scripts/test/shift-tracker.ts":
/*!*******************************************!*\
  !*** ./src/scripts/test/shift-tracker.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"leftState\": () => (/* binding */ leftState),\n/* harmony export */   \"rightState\": () => (/* binding */ rightState),\n/* harmony export */   \"reset\": () => (/* binding */ reset),\n/* harmony export */   \"isUsingOppositeShift\": () => (/* binding */ isUsingOppositeShift)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _caps_warning__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./caps-warning */ \"./src/scripts/test/caps-warning.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\nlet leftState = false;\nlet rightState = false;\nlet caseState = false;\nconst keymapStrings = {\n    left: null,\n    right: null,\n    keymap: null,\n};\nfunction dynamicKeymapLegendStyle(uppercase) {\n    const keymapKeys = [\n        ...document.getElementsByClassName(\"keymap-key\"),\n    ];\n    const layoutKeys = keymapKeys.map((el) => el.dataset[\"key\"]);\n    const keys = keymapKeys.map((el) => el.childNodes[1]);\n    if (_caps_warning__WEBPACK_IMPORTED_MODULE_2__.capsState)\n        uppercase = !uppercase;\n    if (layoutKeys.filter((v) => v === undefined).length > 2)\n        return;\n    if ((uppercase && caseState) || (!uppercase && !caseState))\n        return;\n    caseState = uppercase;\n    const index = caseState ? 1 : 0;\n    for (let i = 0; i < layoutKeys.length; i++) {\n        const layoutKey = layoutKeys[i], key = keys[i];\n        if (key === undefined || layoutKey === undefined)\n            continue;\n        key.textContent = layoutKey[index];\n    }\n}\nfunction buildKeymapStrings() {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (keymapStrings.keymap === _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keymapLayout)\n            return;\n        const layout = yield _utils_misc__WEBPACK_IMPORTED_MODULE_1__.getLayout(_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keymapLayout);\n        if (layout === undefined)\n            return;\n        const layoutKeys = layout.keys;\n        const layoutKeysEntries = Object.entries(layoutKeys);\n        keymapStrings.keymap = _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keymapLayout;\n        if (!layout) {\n            keymapStrings.left = null;\n            keymapStrings.right = null;\n        }\n        else {\n            keymapStrings.left = layoutKeysEntries\n                .map(([rowName, row]) => row\n                // includes \"6\" and \"y\" (buttons on qwerty) into the left hand\n                .slice(0, [\"row1\", \"row2\"].includes(rowName)\n                ? rowName === \"row1\"\n                    ? 7\n                    : 6\n                : 5)\n                .map((key) => key.split(\"\")))\n                .flat(2);\n            keymapStrings.right = layoutKeysEntries\n                .map(([rowName, row]) => row\n                // includes \"b\" (buttons on qwerty) into the right hand\n                .slice([\"row1\", \"row4\"].includes(rowName)\n                ? rowName === \"row1\"\n                    ? 6\n                    : 4\n                : 5)\n                .map((key) => key.split(\"\")))\n                .flat(2);\n        }\n    });\n}\n$(document).on(\"keydown\", (e) => {\n    if (e.code === \"ShiftLeft\") {\n        leftState = true;\n        rightState = false;\n    }\n    else if (e.code === \"ShiftRight\") {\n        leftState = false;\n        rightState = true;\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keymapLegendStyle === \"dynamic\") {\n        dynamicKeymapLegendStyle(leftState || rightState);\n    }\n});\n$(document).keyup((e) => {\n    if (e.code === \"ShiftLeft\" || e.code === \"ShiftRight\") {\n        leftState = false;\n        rightState = false;\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keymapLegendStyle === \"dynamic\") {\n        dynamicKeymapLegendStyle(leftState || rightState);\n    }\n});\nfunction reset() {\n    leftState = false;\n    rightState = false;\n}\nconst leftSideKeys = [\n    \"KeyQ\",\n    \"KeyW\",\n    \"KeyE\",\n    \"KeyR\",\n    \"KeyT\",\n    \"KeyA\",\n    \"KeyS\",\n    \"KeyD\",\n    \"KeyF\",\n    \"KeyG\",\n    \"KeyZ\",\n    \"KeyX\",\n    \"KeyC\",\n    \"KeyV\",\n    \"Backquote\",\n    \"Digit1\",\n    \"Digit2\",\n    \"Digit3\",\n    \"Digit4\",\n    \"Digit5\",\n];\nconst rightSideKeys = [\n    \"KeyU\",\n    \"KeyI\",\n    \"KeyO\",\n    \"KeyP\",\n    \"KeyH\",\n    \"KeyJ\",\n    \"KeyK\",\n    \"KeyL\",\n    \"KeyN\",\n    \"KeyM\",\n    \"Digit7\",\n    \"Digit8\",\n    \"Digit9\",\n    \"Digit0\",\n    \"Backslash\",\n    \"BracketLeft\",\n    \"BracketRight\",\n    \"Semicolon\",\n    \"Quote\",\n    \"Comma\",\n    \"Period\",\n    \"Slash\",\n];\nfunction isUsingOppositeShift(event) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!leftState && !rightState)\n            return null;\n        if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].oppositeShiftMode === \"on\") {\n            if (!rightSideKeys.includes(event.code) &&\n                !leftSideKeys.includes(event.code)) {\n                return null;\n            }\n            if ((leftState && rightSideKeys.includes(event.code)) ||\n                (rightState && leftSideKeys.includes(event.code))) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        }\n        else if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].oppositeShiftMode === \"keymap\") {\n            yield buildKeymapStrings();\n            if (!keymapStrings.left || !keymapStrings.right)\n                return null;\n            if ((leftState && keymapStrings.right.includes(event.key)) ||\n                (rightState && keymapStrings.left.includes(event.key))) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        }\n        return true;\n    });\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/shift-tracker.ts?");

/***/ }),

/***/ "./src/scripts/test/test-config.ts":
/*!*****************************************!*\
  !*** ./src/scripts/test/test-config.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"show\": () => (/* binding */ show),\n/* harmony export */   \"hide\": () => (/* binding */ hide),\n/* harmony export */   \"update\": () => (/* binding */ update)\n/* harmony export */ });\n/* harmony import */ var _observables_config_event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../observables/config-event */ \"./src/scripts/observables/config-event.ts\");\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n\n\n// export function show() {\n//   $(\"#top .config\").removeClass(\"hidden\").css(\"opacity\", 1);\n// }\n// export function hide() {\n//   $(\"#top .config\").css(\"opacity\", 0).addClass(\"hidden\");\n// }\nfunction show() {\n    $(\"#top .config\")\n        .stop(true, true)\n        .removeClass(\"hidden\")\n        .css(\"opacity\", 0)\n        .animate({\n        opacity: 1,\n    }, 125);\n}\nfunction hide() {\n    $(\"#top .config\")\n        .stop(true, true)\n        .css(\"opacity\", 1)\n        .animate({\n        opacity: 0,\n    }, 125, () => {\n        $(\"#top .config\").addClass(\"hidden\");\n    });\n}\nfunction update(previous, current) {\n    if (previous === current)\n        return;\n    $(\"#top .config .mode .text-button\").removeClass(\"active\");\n    $(\"#top .config .mode .text-button[mode='\" + current + \"']\").addClass(\"active\");\n    if (current == \"time\") {\n        // $(\"#top .config .wordCount\").addClass(\"hidden\");\n        // $(\"#top .config .time\").removeClass(\"hidden\");\n        // $(\"#top .config .customText\").addClass(\"hidden\");\n        $(\"#top .config .punctuationMode\").removeClass(\"disabled\");\n        $(\"#top .config .numbersMode\").removeClass(\"disabled\");\n        // $(\"#top .config .puncAndNum\").removeClass(\"disabled\");\n        // $(\"#top .config .punctuationMode\").removeClass(\"hidden\");\n        // $(\"#top .config .numbersMode\").removeClass(\"hidden\");\n        // $(\"#top .config .quoteLength\").addClass(\"hidden\");\n    }\n    else if (current == \"words\") {\n        // $(\"#top .config .wordCount\").removeClass(\"hidden\");\n        // $(\"#top .config .time\").addClass(\"hidden\");\n        // $(\"#top .config .customText\").addClass(\"hidden\");\n        $(\"#top .config .punctuationMode\").removeClass(\"disabled\");\n        $(\"#top .config .numbersMode\").removeClass(\"disabled\");\n        // $(\"#top .config .puncAndNum\").removeClass(\"disabled\");\n        // $(\"#top .config .punctuationMode\").removeClass(\"hidden\");\n        // $(\"#top .config .numbersMode\").removeClass(\"hidden\");\n        // $(\"#top .config .quoteLength\").addClass(\"hidden\");\n    }\n    else if (current == \"custom\") {\n        // $(\"#top .config .wordCount\").addClass(\"hidden\");\n        // $(\"#top .config .time\").addClass(\"hidden\");\n        // $(\"#top .config .customText\").removeClass(\"hidden\");\n        $(\"#top .config .punctuationMode\").removeClass(\"disabled\");\n        $(\"#top .config .numbersMode\").removeClass(\"disabled\");\n        // $(\"#top .config .puncAndNum\").removeClass(\"disabled\");\n        // $(\"#top .config .punctuationMode\").removeClass(\"hidden\");\n        // $(\"#top .config .numbersMode\").removeClass(\"hidden\");\n        // $(\"#top .config .quoteLength\").addClass(\"hidden\");\n    }\n    else if (current == \"quote\") {\n        // $(\"#top .config .wordCount\").addClass(\"hidden\");\n        // $(\"#top .config .time\").addClass(\"hidden\");\n        // $(\"#top .config .customText\").addClass(\"hidden\");\n        $(\"#top .config .punctuationMode\").addClass(\"disabled\");\n        $(\"#top .config .numbersMode\").addClass(\"disabled\");\n        // $(\"#top .config .puncAndNum\").addClass(\"disabled\");\n        // $(\"#top .config .punctuationMode\").removeClass(\"hidden\");\n        // $(\"#top .config .numbersMode\").removeClass(\"hidden\");\n        // $(\"#result .stats .source\").removeClass(\"hidden\");\n        // $(\"#top .config .quoteLength\").removeClass(\"hidden\");\n    }\n    else if (current == \"zen\") {\n        // $(\"#top .config .wordCount\").addClass(\"hidden\");\n        // $(\"#top .config .time\").addClass(\"hidden\");\n        // $(\"#top .config .customText\").addClass(\"hidden\");\n        // $(\"#top .config .punctuationMode\").addClass(\"hidden\");\n        // $(\"#top .config .numbersMode\").addClass(\"hidden\");\n        // $(\"#top .config .quoteLength\").addClass(\"hidden\");\n    }\n    const submenu = {\n        time: \"time\",\n        words: \"wordCount\",\n        custom: \"customText\",\n        quote: \"quoteLength\",\n        zen: \"\",\n    };\n    const animTime = 250;\n    if (current == \"zen\") {\n        $(`#top .config .${submenu[previous]}`).animate({\n            opacity: 0,\n        }, animTime / 2, () => {\n            $(`#top .config .${submenu[previous]}`).addClass(\"hidden\");\n        });\n        $(`#top .config .puncAndNum`).animate({\n            opacity: 0,\n        }, animTime / 2, () => {\n            $(`#top .config .puncAndNum`).addClass(\"invisible\");\n        });\n        return;\n    }\n    if (previous == \"zen\") {\n        setTimeout(() => {\n            $(`#top .config .${submenu[current]}`).removeClass(\"hidden\");\n            $(`#top .config .${submenu[current]}`)\n                .css({ opacity: 0 })\n                .animate({\n                opacity: 1,\n            }, animTime / 2);\n            $(`#top .config .puncAndNum`).removeClass(\"invisible\");\n            $(`#top .config .puncAndNum`)\n                .css({ opacity: 0 })\n                .animate({\n                opacity: 1,\n            }, animTime / 2);\n        }, animTime / 2);\n        return;\n    }\n    _utils_misc__WEBPACK_IMPORTED_MODULE_1__.swapElements($(\"#top .config .\" + submenu[previous]), $(\"#top .config .\" + submenu[current]), animTime);\n}\n_observables_config_event__WEBPACK_IMPORTED_MODULE_0__.subscribe((eventKey, eventValue, _nosave, eventPreviousValue) => {\n    if (eventKey === \"mode\") {\n        update(eventPreviousValue, eventValue);\n    }\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/test-config.ts?");

/***/ }),

/***/ "./src/scripts/test/test-input.ts":
/*!****************************************!*\
  !*** ./src/scripts/test/test-input.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"input\": () => (/* binding */ input),\n/* harmony export */   \"corrected\": () => (/* binding */ corrected),\n/* harmony export */   \"keypressPerSecond\": () => (/* binding */ keypressPerSecond),\n/* harmony export */   \"currentKeypress\": () => (/* binding */ currentKeypress),\n/* harmony export */   \"lastKeypress\": () => (/* binding */ lastKeypress),\n/* harmony export */   \"currentBurstStart\": () => (/* binding */ currentBurstStart),\n/* harmony export */   \"missedWords\": () => (/* binding */ missedWords),\n/* harmony export */   \"accuracy\": () => (/* binding */ accuracy),\n/* harmony export */   \"keypressTimings\": () => (/* binding */ keypressTimings),\n/* harmony export */   \"wpmHistory\": () => (/* binding */ wpmHistory),\n/* harmony export */   \"rawHistory\": () => (/* binding */ rawHistory),\n/* harmony export */   \"burstHistory\": () => (/* binding */ burstHistory),\n/* harmony export */   \"bailout\": () => (/* binding */ bailout),\n/* harmony export */   \"setBailout\": () => (/* binding */ setBailout),\n/* harmony export */   \"spacingDebug\": () => (/* binding */ spacingDebug),\n/* harmony export */   \"enableSpacingDebug\": () => (/* binding */ enableSpacingDebug),\n/* harmony export */   \"updateLastKeypress\": () => (/* binding */ updateLastKeypress),\n/* harmony export */   \"incrementKeypressCount\": () => (/* binding */ incrementKeypressCount),\n/* harmony export */   \"setKeypressNotAfk\": () => (/* binding */ setKeypressNotAfk),\n/* harmony export */   \"incrementKeypressErrors\": () => (/* binding */ incrementKeypressErrors),\n/* harmony export */   \"pushKeypressWord\": () => (/* binding */ pushKeypressWord),\n/* harmony export */   \"setBurstStart\": () => (/* binding */ setBurstStart),\n/* harmony export */   \"pushKeypressesToHistory\": () => (/* binding */ pushKeypressesToHistory),\n/* harmony export */   \"incrementAccuracy\": () => (/* binding */ incrementAccuracy),\n/* harmony export */   \"setKeypressTimingsTooLong\": () => (/* binding */ setKeypressTimingsTooLong),\n/* harmony export */   \"pushKeypressDuration\": () => (/* binding */ pushKeypressDuration),\n/* harmony export */   \"setKeypressDuration\": () => (/* binding */ setKeypressDuration),\n/* harmony export */   \"recordKeypressSpacing\": () => (/* binding */ recordKeypressSpacing),\n/* harmony export */   \"resetKeypressTimings\": () => (/* binding */ resetKeypressTimings),\n/* harmony export */   \"pushMissedWord\": () => (/* binding */ pushMissedWord),\n/* harmony export */   \"pushToWpmHistory\": () => (/* binding */ pushToWpmHistory),\n/* harmony export */   \"pushToRawHistory\": () => (/* binding */ pushToRawHistory),\n/* harmony export */   \"pushBurstToHistory\": () => (/* binding */ pushBurstToHistory),\n/* harmony export */   \"restart\": () => (/* binding */ restart)\n/* harmony export */ });\n/* harmony import */ var _test_words__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./test-words */ \"./src/scripts/test/test-words.ts\");\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n\n\nclass Input {\n    constructor() {\n        this.current = \"\";\n        this.history = [];\n        this.historyLength = 0;\n        this.length = 0;\n    }\n    reset() {\n        this.current = \"\";\n        this.history = [];\n        this.length = 0;\n    }\n    resetHistory() {\n        this.history = [];\n        this.length = 0;\n    }\n    setCurrent(val) {\n        this.current = val;\n        this.length = this.current.length;\n    }\n    appendCurrent(val) {\n        this.current += val;\n        this.length = this.current.length;\n    }\n    resetCurrent() {\n        this.current = \"\";\n    }\n    getCurrent() {\n        return this.current;\n    }\n    pushHistory() {\n        this.history.push(this.current);\n        this.historyLength = this.history.length;\n        this.resetCurrent();\n    }\n    popHistory() {\n        var _a;\n        const ret = (_a = this.history.pop()) !== null && _a !== void 0 ? _a : \"\";\n        this.historyLength = this.history.length;\n        return ret;\n    }\n    getHistory(i) {\n        if (i === undefined) {\n            return this.history;\n        }\n        else {\n            return this.history[i];\n        }\n    }\n    getHistoryLast() {\n        return this.history[this.history.length - 1];\n    }\n}\nclass Corrected {\n    constructor() {\n        this.current = \"\";\n        this.history = [];\n    }\n    setCurrent(val) {\n        this.current = val;\n    }\n    appendCurrent(val) {\n        this.current += val;\n    }\n    resetCurrent() {\n        this.current = \"\";\n    }\n    resetHistory() {\n        this.history = [];\n    }\n    reset() {\n        this.resetCurrent();\n        this.resetHistory();\n    }\n    getHistory(i) {\n        return this.history[i];\n    }\n    popHistory() {\n        var _a;\n        return (_a = this.history.pop()) !== null && _a !== void 0 ? _a : \"\";\n    }\n    pushHistory() {\n        this.history.push(this.current);\n        this.current = \"\";\n    }\n}\nconst input = new Input();\nconst corrected = new Corrected();\nlet keypressPerSecond = [];\nlet currentKeypress = {\n    count: 0,\n    errors: 0,\n    words: [],\n    afk: true,\n};\nlet lastKeypress;\nlet currentBurstStart = 0;\nlet missedWords = {};\nlet accuracy = {\n    correct: 0,\n    incorrect: 0,\n};\nlet keypressTimings = {\n    spacing: {\n        current: -1,\n        array: [],\n    },\n    duration: {\n        current: -1,\n        array: [],\n    },\n};\nlet wpmHistory = [];\nlet rawHistory = [];\nlet burstHistory = [];\nlet bailout = false;\nfunction setBailout(tf) {\n    bailout = tf;\n}\nlet spacingDebug = false;\nfunction enableSpacingDebug() {\n    spacingDebug = true;\n    console.clear();\n}\nfunction updateLastKeypress() {\n    lastKeypress = performance.now();\n}\nfunction incrementKeypressCount() {\n    currentKeypress.count++;\n}\nfunction setKeypressNotAfk() {\n    currentKeypress.afk = false;\n}\nfunction incrementKeypressErrors() {\n    currentKeypress.errors++;\n}\nfunction pushKeypressWord(wordIndex) {\n    currentKeypress.words.push(wordIndex);\n}\nfunction setBurstStart(time) {\n    currentBurstStart = time;\n}\nfunction pushKeypressesToHistory() {\n    keypressPerSecond.push(currentKeypress);\n    currentKeypress = {\n        count: 0,\n        errors: 0,\n        words: [],\n        afk: true,\n    };\n}\nfunction incrementAccuracy(correctincorrect) {\n    if (correctincorrect) {\n        accuracy.correct++;\n    }\n    else {\n        accuracy.incorrect++;\n    }\n}\nfunction setKeypressTimingsTooLong() {\n    keypressTimings.spacing.array = \"toolong\";\n    keypressTimings.duration.array = \"toolong\";\n}\nfunction pushKeypressDuration(val) {\n    keypressTimings.duration.array.push((0,_utils_misc__WEBPACK_IMPORTED_MODULE_1__.roundTo2)(val));\n}\nfunction setKeypressDuration(val) {\n    keypressTimings.duration.current = (0,_utils_misc__WEBPACK_IMPORTED_MODULE_1__.roundTo2)(val);\n}\nfunction pushKeypressSpacing(val) {\n    keypressTimings.spacing.array.push((0,_utils_misc__WEBPACK_IMPORTED_MODULE_1__.roundTo2)(val));\n}\nfunction setKeypressSpacing(val) {\n    keypressTimings.spacing.current = (0,_utils_misc__WEBPACK_IMPORTED_MODULE_1__.roundTo2)(val);\n}\nfunction recordKeypressSpacing() {\n    const now = performance.now();\n    const diff = Math.abs(keypressTimings.spacing.current - now);\n    if (keypressTimings.spacing.current !== -1) {\n        pushKeypressSpacing(diff);\n        if (spacingDebug) {\n            console.log(\"spacing debug\", \"push\", diff, \"length\", keypressTimings.spacing.array.length);\n        }\n    }\n    setKeypressSpacing(now);\n    if (spacingDebug) {\n        console.log(\"spacing debug\", \"set\", now, \"length\", keypressTimings.spacing.array.length);\n    }\n    if (spacingDebug) {\n        console.log(\"spacing debug\", \"recorded\", \"length\", keypressTimings.spacing.array.length);\n    }\n}\nfunction resetKeypressTimings() {\n    keypressTimings = {\n        spacing: {\n            current: performance.now(),\n            array: [],\n        },\n        duration: {\n            current: performance.now(),\n            array: [],\n        },\n    };\n    if (spacingDebug)\n        console.clear();\n}\nfunction pushMissedWord(word) {\n    if (!Object.keys(missedWords).includes(word)) {\n        missedWords[word] = 1;\n    }\n    else {\n        missedWords[word]++;\n    }\n}\nfunction pushToWpmHistory(wpm) {\n    wpmHistory.push(wpm);\n}\nfunction pushToRawHistory(raw) {\n    rawHistory.push(raw);\n}\nfunction pushBurstToHistory(speed) {\n    if (burstHistory[_test_words__WEBPACK_IMPORTED_MODULE_0__.words.currentIndex] === undefined) {\n        burstHistory.push(speed);\n    }\n    else {\n        //repeated word - override\n        burstHistory[_test_words__WEBPACK_IMPORTED_MODULE_0__.words.currentIndex] = speed;\n    }\n}\nfunction restart() {\n    wpmHistory = [];\n    rawHistory = [];\n    burstHistory = [];\n    keypressPerSecond = [];\n    currentKeypress = {\n        count: 0,\n        errors: 0,\n        words: [],\n        afk: true,\n    };\n    currentBurstStart = 0;\n    missedWords = {};\n    accuracy = {\n        correct: 0,\n        incorrect: 0,\n    };\n    keypressTimings = {\n        spacing: {\n            current: -1,\n            array: [],\n        },\n        duration: {\n            current: -1,\n            array: [],\n        },\n    };\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/test-input.ts?");

/***/ }),

/***/ "./src/scripts/test/test-logic.ts":
/*!****************************************!*\
  !*** ./src/scripts/test/test-logic.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"notSignedInLastResult\": () => (/* binding */ notSignedInLastResult),\n/* harmony export */   \"clearNotSignedInResult\": () => (/* binding */ clearNotSignedInResult),\n/* harmony export */   \"setNotSignedInUid\": () => (/* binding */ setNotSignedInUid),\n/* harmony export */   \"punctuateWord\": () => (/* binding */ punctuateWord),\n/* harmony export */   \"startTest\": () => (/* binding */ startTest),\n/* harmony export */   \"restart\": () => (/* binding */ restart),\n/* harmony export */   \"init\": () => (/* binding */ init),\n/* harmony export */   \"addWord\": () => (/* binding */ addWord),\n/* harmony export */   \"retrySavingResult\": () => (/* binding */ retrySavingResult),\n/* harmony export */   \"finish\": () => (/* binding */ finish),\n/* harmony export */   \"fail\": () => (/* binding */ fail)\n/* harmony export */ });\n/* harmony import */ var _ape__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ape */ \"./src/scripts/ape/index.ts\");\n/* harmony import */ var _test_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./test-ui */ \"./src/scripts/test/test-ui.ts\");\n/* harmony import */ var _manual_restart_tracker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./manual-restart-tracker */ \"./src/scripts/test/manual-restart-tracker.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _controllers_quotes_controller__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../controllers/quotes-controller */ \"./src/scripts/controllers/quotes-controller.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../elements/notifications */ \"./src/scripts/elements/notifications.ts\");\n/* harmony import */ var _custom_text__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./custom-text */ \"./src/scripts/test/custom-text.ts\");\n/* harmony import */ var _test_stats__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./test-stats */ \"./src/scripts/test/test-stats.ts\");\n/* harmony import */ var _practise_words__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./practise-words */ \"./src/scripts/test/practise-words.ts\");\n/* harmony import */ var _shift_tracker__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./shift-tracker */ \"./src/scripts/test/shift-tracker.ts\");\n/* harmony import */ var _focus__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./focus */ \"./src/scripts/test/focus.ts\");\n/* harmony import */ var _funbox__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./funbox */ \"./src/scripts/test/funbox.ts\");\n/* harmony import */ var _elements_keymap__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../elements/keymap */ \"./src/scripts/elements/keymap.ts\");\n/* harmony import */ var _controllers_theme_controller__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../controllers/theme-controller */ \"./src/scripts/controllers/theme-controller.ts\");\n/* harmony import */ var _pace_caret__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./pace-caret */ \"./src/scripts/test/pace-caret.ts\");\n/* harmony import */ var _caret__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./caret */ \"./src/scripts/test/caret.ts\");\n/* harmony import */ var _live_wpm__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./live-wpm */ \"./src/scripts/test/live-wpm.ts\");\n/* harmony import */ var _live_acc__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./live-acc */ \"./src/scripts/test/live-acc.ts\");\n/* harmony import */ var _live_burst__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./live-burst */ \"./src/scripts/test/live-burst.ts\");\n/* harmony import */ var _timer_progress__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./timer-progress */ \"./src/scripts/test/timer-progress.ts\");\n/* harmony import */ var _popups_quote_search_popup__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../popups/quote-search-popup */ \"./src/scripts/popups/quote-search-popup.ts\");\n/* harmony import */ var _popups_quote_submit_popup__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../popups/quote-submit-popup */ \"./src/scripts/popups/quote-submit-popup.ts\");\n/* harmony import */ var _pb_crown__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./pb-crown */ \"./src/scripts/test/pb-crown.ts\");\n/* harmony import */ var _test_timer__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./test-timer */ \"./src/scripts/test/test-timer.ts\");\n/* harmony import */ var _out_of_focus__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./out-of-focus */ \"./src/scripts/test/out-of-focus.ts\");\n/* harmony import */ var _elements_account_button__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../elements/account-button */ \"./src/scripts/elements/account-button.ts\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../db */ \"./src/scripts/db.ts\");\n/* harmony import */ var _replay__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./replay */ \"./src/scripts/test/replay.ts\");\n/* harmony import */ var _poetry__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./poetry */ \"./src/scripts/test/poetry.ts\");\n/* harmony import */ var _wikipedia__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./wikipedia */ \"./src/scripts/test/wikipedia.ts\");\n/* harmony import */ var _today_tracker__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./today-tracker */ \"./src/scripts/test/today-tracker.ts\");\n/* harmony import */ var _weak_spot__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./weak-spot */ \"./src/scripts/test/weak-spot.ts\");\n/* harmony import */ var _wordset__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./wordset */ \"./src/scripts/test/wordset.ts\");\n/* harmony import */ var _controllers_challenge_controller__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../controllers/challenge-controller */ \"./src/scripts/controllers/challenge-controller.ts\");\n/* harmony import */ var _popups_quote_rate_popup__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../popups/quote-rate-popup */ \"./src/scripts/popups/quote-rate-popup.ts\");\n/* harmony import */ var _british_english__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./british-english */ \"./src/scripts/test/british-english.ts\");\n/* harmony import */ var _lazy_mode__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./lazy-mode */ \"./src/scripts/test/lazy-mode.ts\");\n/* harmony import */ var _result__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./result */ \"./src/scripts/test/result.ts\");\n/* harmony import */ var _elements_monkey_power__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../elements/monkey-power */ \"./src/scripts/elements/monkey-power.ts\");\n/* harmony import */ var _states_active_page__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../states/active-page */ \"./src/scripts/states/active-page.ts\");\n/* harmony import */ var _states_test_active__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../states/test-active */ \"./src/scripts/states/test-active.ts\");\n/* harmony import */ var _test_input__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./test-input */ \"./src/scripts/test/test-input.ts\");\n/* harmony import */ var _test_words__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./test-words */ \"./src/scripts/test/test-words.ts\");\n/* harmony import */ var _test_state__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./test-state */ \"./src/scripts/test/test-state.ts\");\n/* harmony import */ var _elements_modes_notice__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../elements/modes-notice */ \"./src/scripts/elements/modes-notice.ts\");\n/* harmony import */ var _states_page_transition__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ../states/page-transition */ \"./src/scripts/states/page-transition.ts\");\n/* harmony import */ var _observables_config_event__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ../observables/config-event */ \"./src/scripts/observables/config-event.ts\");\n/* harmony import */ var _observables_timer_event__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ../observables/timer-event */ \"./src/scripts/observables/timer-event.ts\");\n/* harmony import */ var _elements_last_10_average__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ../elements/last-10-average */ \"./src/scripts/elements/last-10-average.ts\");\n/* harmony import */ var _monkey__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./monkey */ \"./src/scripts/test/monkey.ts\");\n/* harmony import */ var node_object_hash__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! node-object-hash */ \"./node_modules/node-object-hash/dist/hasher.js\");\n/* harmony import */ var node_object_hash__WEBPACK_IMPORTED_MODULE_51___default = /*#__PURE__*/__webpack_require__.n(node_object_hash__WEBPACK_IMPORTED_MODULE_51__);\n/* harmony import */ var _controllers_analytics_controller__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ../controllers/analytics-controller */ \"./src/scripts/controllers/analytics-controller.ts\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ../firebase */ \"./src/scripts/firebase.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst objecthash = node_object_hash__WEBPACK_IMPORTED_MODULE_51___default()().hash;\nlet failReason = \"\";\nlet notSignedInLastResult = null;\nfunction clearNotSignedInResult() {\n    notSignedInLastResult = null;\n}\nfunction setNotSignedInUid(uid) {\n    if (notSignedInLastResult === null)\n        return;\n    notSignedInLastResult.uid = uid;\n    delete notSignedInLastResult.hash;\n    notSignedInLastResult.hash = objecthash(notSignedInLastResult);\n}\nlet spanishSentenceTracker = \"\";\nfunction punctuateWord(previousWord, currentWord, index, maxindex) {\n    let word = currentWord;\n    const currentLanguage = _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].language.split(\"_\")[0];\n    const lastChar = _utils_misc__WEBPACK_IMPORTED_MODULE_4__.getLastChar(previousWord);\n    if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox === \"58008\") {\n        if (currentWord.length > 3) {\n            if (Math.random() < 0.75) {\n                const special = [\"/\", \"*\", \"-\", \"+\"][Math.floor(Math.random() * 4)];\n                word = _utils_misc__WEBPACK_IMPORTED_MODULE_4__.setCharAt(word, Math.floor(word.length / 2), special);\n            }\n        }\n    }\n    else {\n        if ((index == 0 || lastChar == \".\" || lastChar == \"?\" || lastChar == \"!\") &&\n            currentLanguage != \"code\") {\n            //always capitalise the first word or if there was a dot unless using a code alphabet\n            word = _utils_misc__WEBPACK_IMPORTED_MODULE_4__.capitalizeFirstLetterOfEachWord(word);\n            if (currentLanguage == \"spanish\" || currentLanguage == \"catalan\") {\n                const rand = Math.random();\n                if (rand > 0.9) {\n                    word = \"\" + word;\n                    spanishSentenceTracker = \"?\";\n                }\n                else if (rand > 0.8) {\n                    word = \"\" + word;\n                    spanishSentenceTracker = \"!\";\n                }\n            }\n        }\n        else if ((Math.random() < 0.1 &&\n            lastChar != \".\" &&\n            lastChar != \",\" &&\n            index != maxindex - 2) ||\n            index == maxindex - 1) {\n            if (currentLanguage == \"spanish\" || currentLanguage == \"catalan\") {\n                if (spanishSentenceTracker == \"?\" || spanishSentenceTracker == \"!\") {\n                    word += spanishSentenceTracker;\n                    spanishSentenceTracker = \"\";\n                }\n            }\n            else {\n                const rand = Math.random();\n                if (rand <= 0.8) {\n                    word += \".\";\n                }\n                else if (rand > 0.8 && rand < 0.9) {\n                    if (currentLanguage == \"french\") {\n                        word = \"?\";\n                    }\n                    else if (currentLanguage == \"arabic\" ||\n                        currentLanguage == \"persian\" ||\n                        currentLanguage == \"urdu\") {\n                        word += \"\";\n                    }\n                    else if (currentLanguage == \"greek\") {\n                        word += \";\";\n                    }\n                    else {\n                        word += \"?\";\n                    }\n                }\n                else {\n                    if (currentLanguage == \"french\") {\n                        word = \"!\";\n                    }\n                    else {\n                        word += \"!\";\n                    }\n                }\n            }\n        }\n        else if (Math.random() < 0.01 &&\n            lastChar != \",\" &&\n            lastChar != \".\" &&\n            currentLanguage !== \"russian\") {\n            word = `\"${word}\"`;\n        }\n        else if (Math.random() < 0.011 &&\n            lastChar != \",\" &&\n            lastChar != \".\" &&\n            currentLanguage !== \"russian\" &&\n            currentLanguage !== \"ukrainian\") {\n            word = `'${word}'`;\n        }\n        else if (Math.random() < 0.012 && lastChar != \",\" && lastChar != \".\") {\n            if (currentLanguage == \"code\") {\n                const r = Math.random();\n                if (r < 0.25) {\n                    word = `(${word})`;\n                }\n                else if (r < 0.5) {\n                    word = `{${word}}`;\n                }\n                else if (r < 0.75) {\n                    word = `[${word}]`;\n                }\n                else {\n                    word = `<${word}>`;\n                }\n            }\n            else {\n                word = `(${word})`;\n            }\n        }\n        else if (Math.random() < 0.013 &&\n            lastChar != \",\" &&\n            lastChar != \".\" &&\n            lastChar != \";\" &&\n            lastChar != \"\" &&\n            lastChar != \":\") {\n            if (currentLanguage == \"french\") {\n                word = \":\";\n            }\n            else if (currentLanguage == \"greek\") {\n                word = \"\";\n            }\n            else {\n                word += \":\";\n            }\n        }\n        else if (Math.random() < 0.014 &&\n            lastChar != \",\" &&\n            lastChar != \".\" &&\n            previousWord != \"-\") {\n            word = \"-\";\n        }\n        else if (Math.random() < 0.015 &&\n            lastChar != \",\" &&\n            lastChar != \".\" &&\n            lastChar != \";\" &&\n            lastChar != \"\" &&\n            lastChar != \":\") {\n            if (currentLanguage == \"french\") {\n                word = \";\";\n            }\n            else if (currentLanguage == \"greek\") {\n                word = \"\";\n            }\n            else if (currentLanguage == \"arabic\") {\n                word += \"\";\n            }\n            else {\n                word += \";\";\n            }\n        }\n        else if (Math.random() < 0.2 && lastChar != \",\") {\n            if (currentLanguage == \"arabic\" ||\n                currentLanguage == \"urdu\" ||\n                currentLanguage == \"persian\") {\n                word += \"\";\n            }\n            else {\n                word += \",\";\n            }\n        }\n        else if (Math.random() < 0.25 && currentLanguage == \"code\") {\n            const specials = [\"{\", \"}\", \"[\", \"]\", \"(\", \")\", \";\", \"=\", \"+\", \"%\", \"/\"];\n            word = _utils_misc__WEBPACK_IMPORTED_MODULE_4__.randomElementFromArray(specials);\n        }\n    }\n    return word;\n}\nfunction startTest() {\n    if (_states_page_transition__WEBPACK_IMPORTED_MODULE_46__.get()) {\n        return false;\n    }\n    if (!_config__WEBPACK_IMPORTED_MODULE_3__.dbConfigLoaded) {\n        _config__WEBPACK_IMPORTED_MODULE_3__.setChangedBeforeDb(true);\n    }\n    if (_firebase__WEBPACK_IMPORTED_MODULE_53__.Auth.currentUser !== null) {\n        _controllers_analytics_controller__WEBPACK_IMPORTED_MODULE_52__.log(\"testStarted\");\n    }\n    else {\n        _controllers_analytics_controller__WEBPACK_IMPORTED_MODULE_52__.log(\"testStartedNoLogin\");\n    }\n    _states_test_active__WEBPACK_IMPORTED_MODULE_41__.set(true);\n    _replay__WEBPACK_IMPORTED_MODULE_28__.startReplayRecording();\n    _replay__WEBPACK_IMPORTED_MODULE_28__.replayGetWordsList(_test_words__WEBPACK_IMPORTED_MODULE_43__.words.list);\n    _test_input__WEBPACK_IMPORTED_MODULE_42__.resetKeypressTimings();\n    _timer_progress__WEBPACK_IMPORTED_MODULE_20__.restart();\n    _timer_progress__WEBPACK_IMPORTED_MODULE_20__.show();\n    $(\"#liveWpm\").text(\"0\");\n    _live_wpm__WEBPACK_IMPORTED_MODULE_17__.show();\n    _live_acc__WEBPACK_IMPORTED_MODULE_18__.show();\n    _live_burst__WEBPACK_IMPORTED_MODULE_19__.show();\n    _timer_progress__WEBPACK_IMPORTED_MODULE_20__.update();\n    _test_timer__WEBPACK_IMPORTED_MODULE_24__.clear();\n    _monkey__WEBPACK_IMPORTED_MODULE_50__.show();\n    if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox === \"memory\") {\n        _funbox__WEBPACK_IMPORTED_MODULE_12__.resetMemoryTimer();\n        $(\"#wordsWrapper\").addClass(\"hidden\");\n    }\n    try {\n        if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].paceCaret !== \"off\" ||\n            (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].repeatedPace && _test_state__WEBPACK_IMPORTED_MODULE_44__.isPaceRepeat)) {\n            _pace_caret__WEBPACK_IMPORTED_MODULE_15__.start();\n        }\n    }\n    catch (e) { }\n    //use a recursive self-adjusting timer to avoid time drift\n    _test_stats__WEBPACK_IMPORTED_MODULE_8__.setStart(performance.now());\n    _test_timer__WEBPACK_IMPORTED_MODULE_24__.start();\n    return true;\n}\nfunction restart(withSameWordset = false, _, // this is nosave and should be renamed to nosave when needed\nevent, practiseMissed = false, noAnim = false) {\n    if (_test_ui__WEBPACK_IMPORTED_MODULE_1__.testRestarting || _test_ui__WEBPACK_IMPORTED_MODULE_1__.resultCalculating) {\n        event === null || event === void 0 ? void 0 : event.preventDefault();\n        return;\n    }\n    if (_states_active_page__WEBPACK_IMPORTED_MODULE_40__.get() == \"test\" && !_test_ui__WEBPACK_IMPORTED_MODULE_1__.resultVisible) {\n        if (!_manual_restart_tracker__WEBPACK_IMPORTED_MODULE_2__.get()) {\n            if (_test_words__WEBPACK_IMPORTED_MODULE_43__.hasTab) {\n                if (!(event === null || event === void 0 ? void 0 : event.shiftKey))\n                    return;\n            }\n            if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode !== \"zen\")\n                event === null || event === void 0 ? void 0 : event.preventDefault();\n            if (!_utils_misc__WEBPACK_IMPORTED_MODULE_4__.canQuickRestart(_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode, _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].words, _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].time, _custom_text__WEBPACK_IMPORTED_MODULE_7__)) {\n                let message = \"Use your mouse to confirm.\";\n                if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].quickTab) {\n                    message = \"Press shift + tab or use your mouse to confirm.\";\n                }\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_6__.add(\"Quick restart disabled. \" + message, 0, 3);\n                return;\n            }\n            // }else{\n            //   return;\n            // }\n        }\n    }\n    if (_states_test_active__WEBPACK_IMPORTED_MODULE_41__.get()) {\n        _test_input__WEBPACK_IMPORTED_MODULE_42__.pushKeypressesToHistory();\n        const testSeconds = _test_stats__WEBPACK_IMPORTED_MODULE_8__.calculateTestSeconds(performance.now());\n        const afkseconds = _test_stats__WEBPACK_IMPORTED_MODULE_8__.calculateAfkSeconds(testSeconds);\n        // incompleteTestSeconds += ;\n        let tt = testSeconds - afkseconds;\n        if (tt < 0)\n            tt = 0;\n        console.log(`increasing incomplete time by ${tt}s (${testSeconds}s - ${afkseconds}s afk)`);\n        _test_stats__WEBPACK_IMPORTED_MODULE_8__.incrementIncompleteSeconds(tt);\n        _test_stats__WEBPACK_IMPORTED_MODULE_8__.incrementRestartCount();\n        if (tt > 600) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_6__.add(`Your time typing just increased by ${_utils_misc__WEBPACK_IMPORTED_MODULE_4__.roundTo2(tt / 60)} minutes. If you think this is incorrect please contact Miodec and dont refresh the website.`, -1);\n        }\n        // restartCount++;\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode == \"zen\") {\n        $(\"#words\").empty();\n    }\n    if (_practise_words__WEBPACK_IMPORTED_MODULE_9__.before.mode !== null &&\n        !withSameWordset &&\n        !practiseMissed) {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_6__.add(\"Reverting to previous settings.\", 0);\n        if (_practise_words__WEBPACK_IMPORTED_MODULE_9__.before.punctuation !== null) {\n            _config__WEBPACK_IMPORTED_MODULE_3__.setPunctuation(_practise_words__WEBPACK_IMPORTED_MODULE_9__.before.punctuation);\n        }\n        if (_practise_words__WEBPACK_IMPORTED_MODULE_9__.before.numbers !== null) {\n            _config__WEBPACK_IMPORTED_MODULE_3__.setNumbers(_practise_words__WEBPACK_IMPORTED_MODULE_9__.before.numbers);\n        }\n        _config__WEBPACK_IMPORTED_MODULE_3__.setMode(_practise_words__WEBPACK_IMPORTED_MODULE_9__.before.mode);\n        _practise_words__WEBPACK_IMPORTED_MODULE_9__.resetBefore();\n    }\n    let repeatWithPace = false;\n    if (_test_ui__WEBPACK_IMPORTED_MODULE_1__.resultVisible && _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].repeatedPace && withSameWordset) {\n        repeatWithPace = true;\n    }\n    _manual_restart_tracker__WEBPACK_IMPORTED_MODULE_2__.reset();\n    _test_timer__WEBPACK_IMPORTED_MODULE_24__.clear();\n    _test_stats__WEBPACK_IMPORTED_MODULE_8__.restart();\n    _test_input__WEBPACK_IMPORTED_MODULE_42__.restart();\n    _test_input__WEBPACK_IMPORTED_MODULE_42__.corrected.reset();\n    _shift_tracker__WEBPACK_IMPORTED_MODULE_10__.reset();\n    _caret__WEBPACK_IMPORTED_MODULE_16__.hide();\n    _states_test_active__WEBPACK_IMPORTED_MODULE_41__.set(false);\n    _replay__WEBPACK_IMPORTED_MODULE_28__.stopReplayRecording();\n    _live_wpm__WEBPACK_IMPORTED_MODULE_17__.hide();\n    _live_acc__WEBPACK_IMPORTED_MODULE_18__.hide();\n    _live_burst__WEBPACK_IMPORTED_MODULE_19__.hide();\n    _timer_progress__WEBPACK_IMPORTED_MODULE_20__.hide();\n    _replay__WEBPACK_IMPORTED_MODULE_28__.pauseReplay();\n    _test_input__WEBPACK_IMPORTED_MODULE_42__.setBailout(false);\n    _pace_caret__WEBPACK_IMPORTED_MODULE_15__.reset();\n    _monkey__WEBPACK_IMPORTED_MODULE_50__.hide();\n    if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].showAvg)\n        _elements_last_10_average__WEBPACK_IMPORTED_MODULE_49__.update();\n    $(\"#showWordHistoryButton\").removeClass(\"loaded\");\n    $(\"#restartTestButton\").blur();\n    _funbox__WEBPACK_IMPORTED_MODULE_12__.resetMemoryTimer();\n    _popups_quote_rate_popup__WEBPACK_IMPORTED_MODULE_35__.clearQuoteStats();\n    if (_states_active_page__WEBPACK_IMPORTED_MODULE_40__.get() == \"test\" && window.scrollY > 0) {\n        window.scrollTo({ top: 0, behavior: \"smooth\" });\n    }\n    $(\"#wordsInput\").val(\" \");\n    _test_ui__WEBPACK_IMPORTED_MODULE_1__.reset();\n    $(\"#timerNumber\").css(\"opacity\", 0);\n    let el = null;\n    if (_test_ui__WEBPACK_IMPORTED_MODULE_1__.resultVisible) {\n        //results are being displayed\n        el = $(\"#result\");\n    }\n    else {\n        //words are being displayed\n        el = $(\"#typingTest\");\n    }\n    if (_test_ui__WEBPACK_IMPORTED_MODULE_1__.resultVisible) {\n        if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].randomTheme !== \"off\" &&\n            !_states_page_transition__WEBPACK_IMPORTED_MODULE_46__.get()\n        // && Config.customThemeId === \"\"\n        ) {\n            _controllers_theme_controller__WEBPACK_IMPORTED_MODULE_14__.randomizeTheme();\n        }\n    }\n    _test_ui__WEBPACK_IMPORTED_MODULE_1__.setResultVisible(false);\n    _states_page_transition__WEBPACK_IMPORTED_MODULE_46__.set(true);\n    _test_ui__WEBPACK_IMPORTED_MODULE_1__.setTestRestarting(true);\n    el.stop(true, true).animate({\n        opacity: 0,\n    }, noAnim ? 0 : 125, () => __awaiter(this, void 0, void 0, function* () {\n        if (_states_active_page__WEBPACK_IMPORTED_MODULE_40__.get() == \"test\")\n            _focus__WEBPACK_IMPORTED_MODULE_11__.set(false);\n        _test_ui__WEBPACK_IMPORTED_MODULE_1__.focusWords();\n        $(\"#monkey .fast\").stop(true, true).css(\"opacity\", 0);\n        $(\"#monkey\").stop(true, true).css({ animationDuration: \"0s\" });\n        $(\"#typingTest\").css(\"opacity\", 0).removeClass(\"hidden\");\n        $(\"#wordsInput\").val(\" \");\n        let shouldQuoteRepeat = false;\n        if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode === \"quote\" &&\n            _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].repeatQuotes === \"typing\" &&\n            failReason !== \"\") {\n            shouldQuoteRepeat = true;\n        }\n        yield _funbox__WEBPACK_IMPORTED_MODULE_12__.rememberSettings();\n        if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox === \"arrows\") {\n            _config__WEBPACK_IMPORTED_MODULE_3__.setPunctuation(false, true);\n            _config__WEBPACK_IMPORTED_MODULE_3__.setNumbers(false, true);\n        }\n        else if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox === \"58008\") {\n            _config__WEBPACK_IMPORTED_MODULE_3__.setNumbers(false, true);\n        }\n        else if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox === \"specials\") {\n            _config__WEBPACK_IMPORTED_MODULE_3__.setPunctuation(false, true);\n            _config__WEBPACK_IMPORTED_MODULE_3__.setNumbers(false, true);\n        }\n        else if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox === \"ascii\") {\n            _config__WEBPACK_IMPORTED_MODULE_3__.setPunctuation(false, true);\n            _config__WEBPACK_IMPORTED_MODULE_3__.setNumbers(false, true);\n        }\n        if (withSameWordset &&\n            (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox === \"plus_one\" || _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox === \"plus_two\")) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_6__.add(\"Sorry, this funbox won't work with repeated tests.\", 0, 4);\n            withSameWordset = false;\n        }\n        if (!withSameWordset && !shouldQuoteRepeat) {\n            _test_state__WEBPACK_IMPORTED_MODULE_44__.setRepeated(false);\n            _test_state__WEBPACK_IMPORTED_MODULE_44__.setPaceRepeat(repeatWithPace);\n            _test_words__WEBPACK_IMPORTED_MODULE_43__.setHasTab(false);\n            yield init();\n            yield _pace_caret__WEBPACK_IMPORTED_MODULE_15__.init();\n        }\n        else {\n            _test_state__WEBPACK_IMPORTED_MODULE_44__.setRepeated(true);\n            _test_state__WEBPACK_IMPORTED_MODULE_44__.setPaceRepeat(repeatWithPace);\n            _states_test_active__WEBPACK_IMPORTED_MODULE_41__.set(false);\n            _replay__WEBPACK_IMPORTED_MODULE_28__.stopReplayRecording();\n            _test_words__WEBPACK_IMPORTED_MODULE_43__.words.resetCurrentIndex();\n            _test_input__WEBPACK_IMPORTED_MODULE_42__.input.reset();\n            _test_ui__WEBPACK_IMPORTED_MODULE_1__.showWords();\n            if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].keymapMode === \"next\" && _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode !== \"zen\") {\n                _elements_keymap__WEBPACK_IMPORTED_MODULE_13__.highlightKey(_test_words__WEBPACK_IMPORTED_MODULE_43__.words.getCurrent()\n                    .substring(_test_input__WEBPACK_IMPORTED_MODULE_42__.input.current.length, _test_input__WEBPACK_IMPORTED_MODULE_42__.input.current.length + 1)\n                    .toString()\n                    .toUpperCase());\n            }\n            _funbox__WEBPACK_IMPORTED_MODULE_12__.toggleScript(_test_words__WEBPACK_IMPORTED_MODULE_43__.words.getCurrent());\n            yield _pace_caret__WEBPACK_IMPORTED_MODULE_15__.init();\n        }\n        failReason = \"\";\n        if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode === \"quote\") {\n            _test_state__WEBPACK_IMPORTED_MODULE_44__.setRepeated(false);\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].keymapMode !== \"off\") {\n            _elements_keymap__WEBPACK_IMPORTED_MODULE_13__.show();\n        }\n        else {\n            _elements_keymap__WEBPACK_IMPORTED_MODULE_13__.hide();\n        }\n        (document.querySelector(\"#miniTimerAndLiveWpm .wpm\")).innerHTML = \"0\";\n        (document.querySelector(\"#miniTimerAndLiveWpm .acc\")).innerHTML = \"100%\";\n        (document.querySelector(\"#miniTimerAndLiveWpm .burst\")).innerHTML = \"0\";\n        document.querySelector(\"#liveWpm\").innerHTML = \"0\";\n        document.querySelector(\"#liveAcc\").innerHTML = \"100%\";\n        document.querySelector(\"#liveBurst\").innerHTML = \"0\";\n        if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox === \"memory\") {\n            _funbox__WEBPACK_IMPORTED_MODULE_12__.startMemoryTimer();\n            if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].keymapMode === \"next\") {\n                _config__WEBPACK_IMPORTED_MODULE_3__.setKeymapMode(\"react\");\n            }\n        }\n        const mode2 = _utils_misc__WEBPACK_IMPORTED_MODULE_4__.getMode2(_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"], _test_words__WEBPACK_IMPORTED_MODULE_43__.randomQuote);\n        let fbtext = \"\";\n        if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox !== \"none\") {\n            fbtext = \" \" + _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox;\n        }\n        $(\".pageTest #premidTestMode\").text(`${_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode} ${mode2} ${_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].language.replace(/_/g, \" \")}${fbtext}`);\n        $(\".pageTest #premidSecondsLeft\").text(_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].time);\n        if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox === \"layoutfluid\") {\n            _config__WEBPACK_IMPORTED_MODULE_3__.setLayout(_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].customLayoutfluid\n                ? _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].customLayoutfluid.split(\"#\")[0]\n                : \"qwerty\", true);\n            _config__WEBPACK_IMPORTED_MODULE_3__.setKeymapLayout(_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].customLayoutfluid\n                ? _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].customLayoutfluid.split(\"#\")[0]\n                : \"qwerty\", true);\n            _elements_keymap__WEBPACK_IMPORTED_MODULE_13__.highlightKey(_test_words__WEBPACK_IMPORTED_MODULE_43__.words.getCurrent()\n                .substring(_test_input__WEBPACK_IMPORTED_MODULE_42__.input.current.length, _test_input__WEBPACK_IMPORTED_MODULE_42__.input.current.length + 1)\n                .toString()\n                .toUpperCase());\n        }\n        $(\"#result\").addClass(\"hidden\");\n        $(\"#testModesNotice\").removeClass(\"hidden\").css({\n            opacity: 1,\n        });\n        // resetPaceCaret();\n        _elements_modes_notice__WEBPACK_IMPORTED_MODULE_45__.update();\n        $(\"#typingTest\")\n            .css(\"opacity\", 0)\n            .removeClass(\"hidden\")\n            .stop(true, true)\n            .animate({\n            opacity: 1,\n        }, noAnim ? 0 : 125, () => {\n            _test_ui__WEBPACK_IMPORTED_MODULE_1__.setTestRestarting(false);\n            // resetPaceCaret();\n            _pb_crown__WEBPACK_IMPORTED_MODULE_23__.hide();\n            _test_timer__WEBPACK_IMPORTED_MODULE_24__.clear();\n            if ($(\"#commandLineWrapper\").hasClass(\"hidden\")) {\n                _test_ui__WEBPACK_IMPORTED_MODULE_1__.focusWords();\n            }\n            // ChartController.result.update();\n            _states_page_transition__WEBPACK_IMPORTED_MODULE_46__.set(false);\n            // console.log(TestStats.incompleteSeconds);\n            // console.log(TestStats.restartCount);\n        });\n    }));\n}\nfunction applyFunboxesToWord(word, wordset) {\n    if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox === \"rAnDoMcAsE\") {\n        let randomcaseword = \"\";\n        for (let i = 0; i < word.length; i++) {\n            if (i % 2 != 0) {\n                randomcaseword += word[i].toUpperCase();\n            }\n            else {\n                randomcaseword += word[i];\n            }\n        }\n        word = randomcaseword;\n    }\n    else if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox === \"capitals\") {\n        word = _utils_misc__WEBPACK_IMPORTED_MODULE_4__.capitalizeFirstLetterOfEachWord(word);\n    }\n    else if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox === \"gibberish\") {\n        word = _utils_misc__WEBPACK_IMPORTED_MODULE_4__.getGibberish();\n    }\n    else if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox === \"arrows\") {\n        word = _utils_misc__WEBPACK_IMPORTED_MODULE_4__.getArrows();\n    }\n    else if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox === \"58008\") {\n        word = _utils_misc__WEBPACK_IMPORTED_MODULE_4__.getNumbers(7);\n    }\n    else if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox === \"specials\") {\n        word = _utils_misc__WEBPACK_IMPORTED_MODULE_4__.getSpecials();\n    }\n    else if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox === \"ascii\") {\n        word = _utils_misc__WEBPACK_IMPORTED_MODULE_4__.getASCII();\n    }\n    else if (wordset !== undefined && _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox === \"weakspot\") {\n        word = _weak_spot__WEBPACK_IMPORTED_MODULE_32__.getWord(wordset);\n    }\n    return word;\n}\nfunction applyBritishEnglishToWord(word) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].britishEnglish && /english/.test(_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].language)) {\n            word = yield _british_english__WEBPACK_IMPORTED_MODULE_36__.replace(word);\n        }\n        return word;\n    });\n}\nfunction applyLazyModeToWord(word, language) {\n    if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].lazyMode === true && !language.noLazyMode) {\n        word = _lazy_mode__WEBPACK_IMPORTED_MODULE_37__.replaceAccents(word, language.accents);\n    }\n    return word;\n}\nfunction getNextWord(wordset, language, wordsBound) {\n    var _a, _b;\n    return __awaiter(this, void 0, void 0, function* () {\n        let randomWord = wordset.randomWord();\n        const previousWord = _test_words__WEBPACK_IMPORTED_MODULE_43__.words.get(_test_words__WEBPACK_IMPORTED_MODULE_43__.words.length - 1, true);\n        const previousWord2 = _test_words__WEBPACK_IMPORTED_MODULE_43__.words.get(_test_words__WEBPACK_IMPORTED_MODULE_43__.words.length - 2, true);\n        if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode === \"quote\") {\n            randomWord =\n                (_b = (_a = _test_words__WEBPACK_IMPORTED_MODULE_43__.randomQuote.textSplit) === null || _a === void 0 ? void 0 : _a[_test_words__WEBPACK_IMPORTED_MODULE_43__.words.length]) !== null && _b !== void 0 ? _b : \"\";\n        }\n        else if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode == \"custom\" &&\n            !_custom_text__WEBPACK_IMPORTED_MODULE_7__.isWordRandom &&\n            !_custom_text__WEBPACK_IMPORTED_MODULE_7__.isTimeRandom) {\n            randomWord = _custom_text__WEBPACK_IMPORTED_MODULE_7__.text[_test_words__WEBPACK_IMPORTED_MODULE_43__.words.length];\n        }\n        else if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode == \"custom\" &&\n            (_custom_text__WEBPACK_IMPORTED_MODULE_7__.isWordRandom || _custom_text__WEBPACK_IMPORTED_MODULE_7__.isTimeRandom) &&\n            (wordset.length < 3 || _practise_words__WEBPACK_IMPORTED_MODULE_9__.before.mode !== null)) {\n            randomWord = wordset.randomWord();\n        }\n        else {\n            let regenarationCount = 0; //infinite loop emergency stop button\n            while (regenarationCount < 100 &&\n                (previousWord == randomWord ||\n                    previousWord2 == randomWord ||\n                    (!_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].punctuation && randomWord == \"I\"))) {\n                regenarationCount++;\n                randomWord = wordset.randomWord();\n            }\n        }\n        if (randomWord === undefined) {\n            randomWord = wordset.randomWord();\n        }\n        randomWord = randomWord.replace(/ +/gm, \" \");\n        randomWord = randomWord.replace(/^ | $/gm, \"\");\n        randomWord = applyLazyModeToWord(randomWord, language);\n        randomWord = yield applyBritishEnglishToWord(randomWord);\n        randomWord = applyFunboxesToWord(randomWord, wordset);\n        if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].punctuation) {\n            randomWord = punctuateWord(_test_words__WEBPACK_IMPORTED_MODULE_43__.words.get(_test_words__WEBPACK_IMPORTED_MODULE_43__.words.length - 1), randomWord, _test_words__WEBPACK_IMPORTED_MODULE_43__.words.length, wordsBound);\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].numbers) {\n            if (Math.random() < 0.1) {\n                randomWord = _utils_misc__WEBPACK_IMPORTED_MODULE_4__.getNumbers(4);\n            }\n        }\n        return randomWord;\n    });\n}\nlet rememberLazyMode;\nfunction init() {\n    return __awaiter(this, void 0, void 0, function* () {\n        _states_test_active__WEBPACK_IMPORTED_MODULE_41__.set(false);\n        _elements_monkey_power__WEBPACK_IMPORTED_MODULE_39__.reset();\n        _replay__WEBPACK_IMPORTED_MODULE_28__.stopReplayRecording();\n        _test_words__WEBPACK_IMPORTED_MODULE_43__.words.reset();\n        _test_ui__WEBPACK_IMPORTED_MODULE_1__.setCurrentWordElementIndex(0);\n        // accuracy = {\n        //   correct: 0,\n        //   incorrect: 0,\n        // };\n        _test_input__WEBPACK_IMPORTED_MODULE_42__.input.resetHistory();\n        _test_input__WEBPACK_IMPORTED_MODULE_42__.input.resetCurrent();\n        if (_states_active_page__WEBPACK_IMPORTED_MODULE_40__.get() == \"test\") {\n            yield _funbox__WEBPACK_IMPORTED_MODULE_12__.activate();\n        }\n        let language = yield _utils_misc__WEBPACK_IMPORTED_MODULE_4__.getLanguage(_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].language);\n        if (language && language.name !== _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].language) {\n            _config__WEBPACK_IMPORTED_MODULE_3__.setLanguage(\"english\");\n        }\n        if (!language) {\n            _config__WEBPACK_IMPORTED_MODULE_3__.setLanguage(\"english\");\n            language = yield _utils_misc__WEBPACK_IMPORTED_MODULE_4__.getLanguage(_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].language);\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].lazyMode === true && language.noLazyMode) {\n            rememberLazyMode = true;\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_6__.add(\"This language does not support lazy mode.\", 0);\n            _config__WEBPACK_IMPORTED_MODULE_3__.setLazyMode(false, true);\n        }\n        else if (rememberLazyMode === true && !language.noLazyMode) {\n            _config__WEBPACK_IMPORTED_MODULE_3__.setLazyMode(true, true);\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].lazyMode === false && !language.noLazyMode) {\n            rememberLazyMode = false;\n        }\n        let wordsBound = 100;\n        if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].showAllLines) {\n            if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode === \"quote\") {\n                wordsBound = 100;\n            }\n            else if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode === \"custom\") {\n                if (_custom_text__WEBPACK_IMPORTED_MODULE_7__.isWordRandom) {\n                    wordsBound = _custom_text__WEBPACK_IMPORTED_MODULE_7__.word;\n                }\n                else if (_custom_text__WEBPACK_IMPORTED_MODULE_7__.isTimeRandom) {\n                    wordsBound = 100;\n                }\n                else {\n                    wordsBound = _custom_text__WEBPACK_IMPORTED_MODULE_7__.text.length;\n                }\n            }\n            else if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode != \"time\") {\n                wordsBound = _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].words;\n            }\n        }\n        else {\n            if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode === \"words\" && _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].words < wordsBound) {\n                wordsBound = _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].words;\n            }\n            if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode == \"custom\" &&\n                _custom_text__WEBPACK_IMPORTED_MODULE_7__.isWordRandom &&\n                _custom_text__WEBPACK_IMPORTED_MODULE_7__.word < wordsBound) {\n                wordsBound = _custom_text__WEBPACK_IMPORTED_MODULE_7__.word;\n            }\n            if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode == \"custom\" && _custom_text__WEBPACK_IMPORTED_MODULE_7__.isTimeRandom) {\n                wordsBound = 100;\n            }\n            if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode == \"custom\" &&\n                !_custom_text__WEBPACK_IMPORTED_MODULE_7__.isWordRandom &&\n                !_custom_text__WEBPACK_IMPORTED_MODULE_7__.isTimeRandom &&\n                _custom_text__WEBPACK_IMPORTED_MODULE_7__.text.length < wordsBound) {\n                wordsBound = _custom_text__WEBPACK_IMPORTED_MODULE_7__.text.length;\n            }\n        }\n        if ((_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode === \"custom\" &&\n            _custom_text__WEBPACK_IMPORTED_MODULE_7__.isWordRandom &&\n            _custom_text__WEBPACK_IMPORTED_MODULE_7__.word == 0) ||\n            (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode === \"custom\" &&\n                _custom_text__WEBPACK_IMPORTED_MODULE_7__.isTimeRandom &&\n                _custom_text__WEBPACK_IMPORTED_MODULE_7__.time == 0)) {\n            wordsBound = 100;\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode === \"words\" && _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].words === 0) {\n            wordsBound = 100;\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox === \"plus_one\") {\n            wordsBound = 2;\n            if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode === \"words\" && _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].words < wordsBound) {\n                wordsBound = _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].words;\n            }\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox === \"plus_two\") {\n            wordsBound = 3;\n            if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode === \"words\" && _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].words < wordsBound) {\n                wordsBound = _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].words;\n            }\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode == \"time\" ||\n            _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode == \"words\" ||\n            _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode == \"custom\") {\n            let wordList = language.words;\n            if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode == \"custom\") {\n                wordList = _custom_text__WEBPACK_IMPORTED_MODULE_7__.text;\n            }\n            const wordset = _wordset__WEBPACK_IMPORTED_MODULE_33__.withWords(wordList, _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox);\n            if ((_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox == \"wikipedia\" || _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox == \"poetry\") &&\n                _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode != \"custom\") {\n                let wordCount = 0;\n                // If mode is words, get as many sections as you need until the wordCount is fullfilled\n                while ((_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode == \"words\" && _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].words >= wordCount) ||\n                    (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode === \"time\" && wordCount < 100)) {\n                    const section = _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox == \"wikipedia\"\n                        ? yield _wikipedia__WEBPACK_IMPORTED_MODULE_30__.getSection(_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].language)\n                        : yield _poetry__WEBPACK_IMPORTED_MODULE_29__.getPoem();\n                    if (section === undefined)\n                        continue;\n                    for (const word of section.words) {\n                        if (wordCount >= _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].words && _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode == \"words\") {\n                            wordCount++;\n                            break;\n                        }\n                        wordCount++;\n                        _test_words__WEBPACK_IMPORTED_MODULE_43__.words.push(word);\n                    }\n                }\n            }\n            else {\n                for (let i = 0; i < wordsBound; i++) {\n                    const randomWord = yield getNextWord(wordset, language, wordsBound);\n                    if (/\\t/g.test(randomWord)) {\n                        _test_words__WEBPACK_IMPORTED_MODULE_43__.setHasTab(true);\n                    }\n                    if (/ +/.test(randomWord)) {\n                        const randomList = randomWord.split(\" \");\n                        let id = 0;\n                        while (id < randomList.length) {\n                            _test_words__WEBPACK_IMPORTED_MODULE_43__.words.push(randomList[id]);\n                            id++;\n                            if (_test_words__WEBPACK_IMPORTED_MODULE_43__.words.length == wordsBound &&\n                                _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode == \"custom\" &&\n                                _custom_text__WEBPACK_IMPORTED_MODULE_7__.isWordRandom) {\n                                break;\n                            }\n                        }\n                        if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode == \"custom\" &&\n                            !_custom_text__WEBPACK_IMPORTED_MODULE_7__.isWordRandom &&\n                            !_custom_text__WEBPACK_IMPORTED_MODULE_7__.isTimeRandom) {\n                            //\n                        }\n                        else {\n                            i = _test_words__WEBPACK_IMPORTED_MODULE_43__.words.length - 1;\n                        }\n                    }\n                    else {\n                        _test_words__WEBPACK_IMPORTED_MODULE_43__.words.push(randomWord);\n                    }\n                }\n            }\n        }\n        else if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode === \"quote\") {\n            const quotesCollection = yield _controllers_quotes_controller__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getQuotes(_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].language, _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].quoteLength);\n            if (quotesCollection.length === 0) {\n                _test_ui__WEBPACK_IMPORTED_MODULE_1__.setTestRestarting(false);\n                _elements_notifications__WEBPACK_IMPORTED_MODULE_6__.add(`No ${_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].language.replace(/_\\d*k$/g, \"\")} quotes found`, 0);\n                if (_firebase__WEBPACK_IMPORTED_MODULE_53__.Auth.currentUser) {\n                    _popups_quote_submit_popup__WEBPACK_IMPORTED_MODULE_22__.show(false);\n                }\n                _config__WEBPACK_IMPORTED_MODULE_3__.setMode(\"words\");\n                restart();\n                return;\n            }\n            let rq = undefined;\n            if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].quoteLength.includes(-2) && _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].quoteLength.length == 1) {\n                const targetQuote = _controllers_quotes_controller__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getQuoteById(_popups_quote_search_popup__WEBPACK_IMPORTED_MODULE_21__.selectedId);\n                if (targetQuote === undefined) {\n                    rq = quotesCollection.groups[0][0];\n                    _elements_notifications__WEBPACK_IMPORTED_MODULE_6__.add(\"Quote Id Does Not Exist\", 0);\n                }\n                else {\n                    rq = targetQuote;\n                }\n            }\n            else {\n                const randomQuote = _controllers_quotes_controller__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getRandomQuote();\n                if (randomQuote === null) {\n                    _elements_notifications__WEBPACK_IMPORTED_MODULE_6__.add(\"No quotes found for selected quote length\", 0);\n                    _test_ui__WEBPACK_IMPORTED_MODULE_1__.setTestRestarting(false);\n                    return;\n                }\n                rq = randomQuote;\n            }\n            if (rq === undefined)\n                return;\n            rq.text = rq.text.replace(/ +/gm, \" \");\n            rq.text = rq.text.replace(/\\\\\\\\t/gm, \"\\t\");\n            rq.text = rq.text.replace(/\\\\\\\\n/gm, \"\\n\");\n            rq.text = rq.text.replace(/\\\\t/gm, \"\\t\");\n            rq.text = rq.text.replace(/\\\\n/gm, \"\\n\");\n            rq.text = rq.text.replace(/( *(\\r\\n|\\r|\\n) *)/g, \"\\n \");\n            rq.text = rq.text.replace(//g, \"...\");\n            rq.text = rq.text.trim();\n            rq.textSplit = rq.text.split(\" \");\n            rq.language = _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].language.replace(/_\\d*k$/g, \"\");\n            _test_words__WEBPACK_IMPORTED_MODULE_43__.setRandomQuote(rq);\n            const w = _test_words__WEBPACK_IMPORTED_MODULE_43__.randomQuote.textSplit;\n            if (w === undefined)\n                return;\n            if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].showAllLines) {\n                wordsBound = w.length;\n            }\n            else {\n                wordsBound = Math.min(wordsBound, w.length);\n            }\n            for (let i = 0; i < wordsBound; i++) {\n                if (/\\t/g.test(w[i])) {\n                    _test_words__WEBPACK_IMPORTED_MODULE_43__.setHasTab(true);\n                }\n                w[i] = applyLazyModeToWord(w[i], language);\n                w[i] = yield applyBritishEnglishToWord(w[i]);\n                w[i] = applyFunboxesToWord(w[i]);\n                _test_words__WEBPACK_IMPORTED_MODULE_43__.words.push(w[i]);\n            }\n        }\n        //handle right-to-left languages\n        if (language.leftToRight) {\n            _test_ui__WEBPACK_IMPORTED_MODULE_1__.arrangeCharactersLeftToRight();\n        }\n        else {\n            _test_ui__WEBPACK_IMPORTED_MODULE_1__.arrangeCharactersRightToLeft();\n        }\n        if (language.ligatures) {\n            $(\"#words\").addClass(\"withLigatures\");\n            $(\"#resultWordsHistory .words\").addClass(\"withLigatures\");\n            $(\"#resultReplay .words\").addClass(\"withLigatures\");\n        }\n        else {\n            $(\"#words\").removeClass(\"withLigatures\");\n            $(\"#resultWordsHistory .words\").removeClass(\"withLigatures\");\n            $(\"#resultReplay .words\").removeClass(\"withLigatures\");\n        }\n        // if (Config.mode == \"zen\") {\n        //   // Creating an empty active word element for zen mode\n        //   $(\"#words\").append('<div class=\"word active\"></div>');\n        //   $(\"#words\").css(\"height\", \"auto\");\n        //   $(\"#wordsWrapper\").css(\"height\", \"auto\");\n        // } else {\n        _test_ui__WEBPACK_IMPORTED_MODULE_1__.showWords();\n        if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].keymapMode === \"next\" && _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode !== \"zen\") {\n            _elements_keymap__WEBPACK_IMPORTED_MODULE_13__.highlightKey(_test_words__WEBPACK_IMPORTED_MODULE_43__.words.getCurrent()\n                .substring(_test_input__WEBPACK_IMPORTED_MODULE_42__.input.current.length, _test_input__WEBPACK_IMPORTED_MODULE_42__.input.current.length + 1)\n                .toString()\n                .toUpperCase());\n        }\n        _funbox__WEBPACK_IMPORTED_MODULE_12__.toggleScript(_test_words__WEBPACK_IMPORTED_MODULE_43__.words.getCurrent());\n        // }\n    });\n}\nfunction addWord() {\n    var _a, _b;\n    return __awaiter(this, void 0, void 0, function* () {\n        let bound = 100;\n        if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox === \"plus_one\")\n            bound = 1;\n        if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox === \"plus_two\")\n            bound = 2;\n        if (_test_words__WEBPACK_IMPORTED_MODULE_43__.words.length - _test_input__WEBPACK_IMPORTED_MODULE_42__.input.history.length > bound ||\n            (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode === \"words\" &&\n                _test_words__WEBPACK_IMPORTED_MODULE_43__.words.length >= _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].words &&\n                _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].words > 0) ||\n            (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode === \"custom\" &&\n                _custom_text__WEBPACK_IMPORTED_MODULE_7__.isWordRandom &&\n                _test_words__WEBPACK_IMPORTED_MODULE_43__.words.length >= _custom_text__WEBPACK_IMPORTED_MODULE_7__.word &&\n                _custom_text__WEBPACK_IMPORTED_MODULE_7__.word != 0) ||\n            (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode === \"custom\" &&\n                !_custom_text__WEBPACK_IMPORTED_MODULE_7__.isWordRandom &&\n                !_custom_text__WEBPACK_IMPORTED_MODULE_7__.isTimeRandom &&\n                _test_words__WEBPACK_IMPORTED_MODULE_43__.words.length >= _custom_text__WEBPACK_IMPORTED_MODULE_7__.text.length) ||\n            (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode === \"quote\" &&\n                _test_words__WEBPACK_IMPORTED_MODULE_43__.words.length >= ((_b = (_a = _test_words__WEBPACK_IMPORTED_MODULE_43__.randomQuote.textSplit) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0))) {\n            return;\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox === \"wikipedia\" || _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox == \"poetry\") {\n            if (_test_words__WEBPACK_IMPORTED_MODULE_43__.words.length - _test_words__WEBPACK_IMPORTED_MODULE_43__.words.currentIndex < 20) {\n                const section = _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox == \"wikipedia\"\n                    ? yield _wikipedia__WEBPACK_IMPORTED_MODULE_30__.getSection(_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].language)\n                    : yield _poetry__WEBPACK_IMPORTED_MODULE_29__.getPoem();\n                if (section === undefined)\n                    return;\n                let wordCount = 0;\n                for (const word of section.words) {\n                    if (wordCount >= _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].words && _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode == \"words\") {\n                        break;\n                    }\n                    wordCount++;\n                    _test_words__WEBPACK_IMPORTED_MODULE_43__.words.push(word);\n                    _test_ui__WEBPACK_IMPORTED_MODULE_1__.addWord(word);\n                }\n            }\n            else {\n                return;\n            }\n        }\n        const language = _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode !== \"custom\"\n            ? yield _utils_misc__WEBPACK_IMPORTED_MODULE_4__.getCurrentLanguage(_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].language)\n            : Object.assign(Object.assign({}, (yield _utils_misc__WEBPACK_IMPORTED_MODULE_4__.getCurrentLanguage(_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].language))), { words: _custom_text__WEBPACK_IMPORTED_MODULE_7__.text });\n        const wordset = _wordset__WEBPACK_IMPORTED_MODULE_33__.withWords(language.words, _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox);\n        const randomWord = yield getNextWord(wordset, language, bound);\n        const split = randomWord.split(\" \");\n        if (split.length > 1) {\n            split.forEach((word) => {\n                _test_words__WEBPACK_IMPORTED_MODULE_43__.words.push(word);\n                _test_ui__WEBPACK_IMPORTED_MODULE_1__.addWord(word);\n            });\n        }\n        else {\n            _test_words__WEBPACK_IMPORTED_MODULE_43__.words.push(randomWord);\n            _test_ui__WEBPACK_IMPORTED_MODULE_1__.addWord(randomWord);\n        }\n    });\n}\nconst retrySaving = {\n    completedEvent: null,\n    canRetry: false,\n};\nfunction retrySavingResult() {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { completedEvent } = retrySaving;\n        if (completedEvent === null) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_6__.add(\"Could not retry saving the result as the result no longer exists.\", 0, -1);\n            return;\n        }\n        if (!retrySaving.canRetry) {\n            return;\n        }\n        retrySaving.canRetry = false;\n        $(\"#retrySavingResultButton\").addClass(\"hidden\");\n        _elements_account_button__WEBPACK_IMPORTED_MODULE_26__.loading(true);\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_6__.add(\"Retrying to save...\");\n        const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].results.save(completedEvent);\n        _elements_account_button__WEBPACK_IMPORTED_MODULE_26__.loading(false);\n        _result__WEBPACK_IMPORTED_MODULE_38__.hideCrown();\n        if (response.status !== 200) {\n            retrySaving.canRetry = true;\n            $(\"#retrySavingResultButton\").removeClass(\"hidden\");\n            return _elements_notifications__WEBPACK_IMPORTED_MODULE_6__.add(\"Result not saved. \" + response.message, -1);\n        }\n        completedEvent._id = response.data.insertedId;\n        if (response.data.isPb) {\n            completedEvent.isPb = true;\n        }\n        _db__WEBPACK_IMPORTED_MODULE_27__.saveLocalResult(completedEvent);\n        _db__WEBPACK_IMPORTED_MODULE_27__.updateLocalStats({\n            time: completedEvent.testDuration +\n                completedEvent.incompleteTestSeconds -\n                completedEvent.afkDuration,\n            started: _test_stats__WEBPACK_IMPORTED_MODULE_8__.restartCount + 1,\n        });\n        _controllers_analytics_controller__WEBPACK_IMPORTED_MODULE_52__.log(\"testCompleted\");\n        if (response.data.isPb) {\n            //new pb\n            _result__WEBPACK_IMPORTED_MODULE_38__.showCrown();\n            _result__WEBPACK_IMPORTED_MODULE_38__.updateCrown();\n            _db__WEBPACK_IMPORTED_MODULE_27__.saveLocalPB(_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode, completedEvent.mode2, _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].punctuation, _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].language, _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].difficulty, _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].lazyMode, completedEvent.wpm, completedEvent.acc, completedEvent.rawWpm, completedEvent.consistency);\n        }\n        $(\"#retrySavingResultButton\").addClass(\"hidden\");\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_6__.add(\"Result saved\", 1);\n    });\n}\nfunction buildCompletedEvent(difficultyFailed) {\n    var _a, _b, _c;\n    //build completed event object\n    const completedEvent = {\n        wpm: undefined,\n        rawWpm: undefined,\n        charStats: undefined,\n        acc: undefined,\n        mode: _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode,\n        mode2: undefined,\n        quoteLength: -1,\n        punctuation: _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].punctuation,\n        numbers: _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].numbers,\n        lazyMode: _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].lazyMode,\n        timestamp: Date.now(),\n        language: _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].language,\n        restartCount: _test_stats__WEBPACK_IMPORTED_MODULE_8__.restartCount,\n        incompleteTestSeconds: _test_stats__WEBPACK_IMPORTED_MODULE_8__.incompleteSeconds < 0\n            ? 0\n            : _utils_misc__WEBPACK_IMPORTED_MODULE_4__.roundTo2(_test_stats__WEBPACK_IMPORTED_MODULE_8__.incompleteSeconds),\n        difficulty: _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].difficulty,\n        blindMode: _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].blindMode,\n        tags: undefined,\n        keySpacing: _test_input__WEBPACK_IMPORTED_MODULE_42__.keypressTimings.spacing.array,\n        keyDuration: _test_input__WEBPACK_IMPORTED_MODULE_42__.keypressTimings.duration.array,\n        consistency: undefined,\n        keyConsistency: undefined,\n        funbox: _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].funbox,\n        bailedOut: _test_input__WEBPACK_IMPORTED_MODULE_42__.bailout,\n        chartData: {\n            wpm: _test_input__WEBPACK_IMPORTED_MODULE_42__.wpmHistory,\n            raw: undefined,\n            err: undefined,\n        },\n        customText: undefined,\n        testDuration: undefined,\n        afkDuration: undefined,\n    };\n    // stats\n    const stats = _test_stats__WEBPACK_IMPORTED_MODULE_8__.calculateStats();\n    if (stats.time % 1 != 0 && _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode !== \"time\") {\n        _test_stats__WEBPACK_IMPORTED_MODULE_8__.setLastSecondNotRound();\n    }\n    _test_stats__WEBPACK_IMPORTED_MODULE_8__.setLastTestWpm(stats.wpm);\n    completedEvent.wpm = stats.wpm;\n    completedEvent.rawWpm = stats.wpmRaw;\n    completedEvent.charStats = [\n        stats.correctChars + stats.correctSpaces,\n        stats.incorrectChars,\n        stats.extraChars,\n        stats.missedChars,\n    ];\n    completedEvent.acc = stats.acc;\n    // if the last second was not rounded, add another data point to the history\n    if (_test_stats__WEBPACK_IMPORTED_MODULE_8__.lastSecondNotRound && !difficultyFailed) {\n        const wpmAndRaw = _test_stats__WEBPACK_IMPORTED_MODULE_8__.calculateWpmAndRaw();\n        _test_input__WEBPACK_IMPORTED_MODULE_42__.pushToWpmHistory(wpmAndRaw.wpm);\n        _test_input__WEBPACK_IMPORTED_MODULE_42__.pushToRawHistory(wpmAndRaw.raw);\n        _test_input__WEBPACK_IMPORTED_MODULE_42__.pushKeypressesToHistory();\n    }\n    //consistency\n    const rawPerSecond = _test_input__WEBPACK_IMPORTED_MODULE_42__.keypressPerSecond.map((f) => Math.round((f.count / 5) * 60));\n    const stddev = _utils_misc__WEBPACK_IMPORTED_MODULE_4__.stdDev(rawPerSecond);\n    const avg = _utils_misc__WEBPACK_IMPORTED_MODULE_4__.mean(rawPerSecond);\n    let consistency = _utils_misc__WEBPACK_IMPORTED_MODULE_4__.roundTo2(_utils_misc__WEBPACK_IMPORTED_MODULE_4__.kogasa(stddev / avg));\n    let keyConsistencyArray = _test_input__WEBPACK_IMPORTED_MODULE_42__.keypressTimings.spacing.array === \"toolong\"\n        ? []\n        : _test_input__WEBPACK_IMPORTED_MODULE_42__.keypressTimings.spacing.array.slice();\n    if (keyConsistencyArray.length > 0) {\n        keyConsistencyArray = keyConsistencyArray.slice(0, keyConsistencyArray.length - 1);\n    }\n    let keyConsistency = _utils_misc__WEBPACK_IMPORTED_MODULE_4__.roundTo2(_utils_misc__WEBPACK_IMPORTED_MODULE_4__.kogasa(_utils_misc__WEBPACK_IMPORTED_MODULE_4__.stdDev(keyConsistencyArray) / _utils_misc__WEBPACK_IMPORTED_MODULE_4__.mean(keyConsistencyArray)));\n    if (!consistency || isNaN(consistency)) {\n        consistency = 0;\n    }\n    if (!keyConsistency || isNaN(keyConsistency)) {\n        keyConsistency = 0;\n    }\n    completedEvent.keyConsistency = keyConsistency;\n    completedEvent.consistency = consistency;\n    const smoothedraw = _utils_misc__WEBPACK_IMPORTED_MODULE_4__.smooth(rawPerSecond, 1);\n    completedEvent.chartData.raw = smoothedraw;\n    completedEvent.chartData.unsmoothedRaw = rawPerSecond;\n    //smoothed consistency\n    const stddev2 = _utils_misc__WEBPACK_IMPORTED_MODULE_4__.stdDev(smoothedraw);\n    const avg2 = _utils_misc__WEBPACK_IMPORTED_MODULE_4__.mean(smoothedraw);\n    const smoothConsistency = _utils_misc__WEBPACK_IMPORTED_MODULE_4__.roundTo2(_utils_misc__WEBPACK_IMPORTED_MODULE_4__.kogasa(stddev2 / avg2));\n    completedEvent.smoothConsistency = smoothConsistency;\n    //wpm consistency\n    const stddev3 = _utils_misc__WEBPACK_IMPORTED_MODULE_4__.stdDev((_a = completedEvent.chartData.wpm) !== null && _a !== void 0 ? _a : []);\n    const avg3 = _utils_misc__WEBPACK_IMPORTED_MODULE_4__.mean((_b = completedEvent.chartData.wpm) !== null && _b !== void 0 ? _b : []);\n    const wpmConsistency = _utils_misc__WEBPACK_IMPORTED_MODULE_4__.roundTo2(_utils_misc__WEBPACK_IMPORTED_MODULE_4__.kogasa(stddev3 / avg3));\n    completedEvent.wpmConsistency = wpmConsistency;\n    completedEvent.testDuration = parseFloat(stats.time.toString());\n    completedEvent.afkDuration = _test_stats__WEBPACK_IMPORTED_MODULE_8__.calculateAfkSeconds(completedEvent.testDuration);\n    completedEvent.chartData.err = [];\n    for (let i = 0; i < _test_input__WEBPACK_IMPORTED_MODULE_42__.keypressPerSecond.length; i++) {\n        completedEvent.chartData.err.push(_test_input__WEBPACK_IMPORTED_MODULE_42__.keypressPerSecond[i].errors);\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode === \"quote\") {\n        completedEvent.quoteLength = _test_words__WEBPACK_IMPORTED_MODULE_43__.randomQuote.group;\n        completedEvent.lang = _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].language.replace(/_\\d*k$/g, \"\");\n    }\n    // @ts-ignore TODO fix this\n    completedEvent.mode2 = _utils_misc__WEBPACK_IMPORTED_MODULE_4__.getMode2(_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"], _test_words__WEBPACK_IMPORTED_MODULE_43__.randomQuote);\n    if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode === \"custom\") {\n        completedEvent.customText = {};\n        completedEvent.customText.textLen = _custom_text__WEBPACK_IMPORTED_MODULE_7__.text.length;\n        completedEvent.customText.isWordRandom = _custom_text__WEBPACK_IMPORTED_MODULE_7__.isWordRandom;\n        completedEvent.customText.isTimeRandom = _custom_text__WEBPACK_IMPORTED_MODULE_7__.isTimeRandom;\n        completedEvent.customText.word = _custom_text__WEBPACK_IMPORTED_MODULE_7__.word;\n        completedEvent.customText.time = _custom_text__WEBPACK_IMPORTED_MODULE_7__.time;\n    }\n    else {\n        delete completedEvent.customText;\n    }\n    //tags\n    const activeTagsIds = [];\n    try {\n        (_c = _db__WEBPACK_IMPORTED_MODULE_27__.getSnapshot().tags) === null || _c === void 0 ? void 0 : _c.forEach((tag) => {\n            if (tag.active === true) {\n                activeTagsIds.push(tag._id);\n            }\n        });\n    }\n    catch (e) { }\n    completedEvent.tags = activeTagsIds;\n    if (completedEvent.mode != \"custom\")\n        delete completedEvent.customText;\n    return completedEvent;\n}\nfunction finish(difficultyFailed = false) {\n    var _a;\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!_states_test_active__WEBPACK_IMPORTED_MODULE_41__.get())\n            return;\n        if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode == \"zen\" && _test_input__WEBPACK_IMPORTED_MODULE_42__.input.current.length != 0) {\n            _test_input__WEBPACK_IMPORTED_MODULE_42__.input.pushHistory();\n            _test_input__WEBPACK_IMPORTED_MODULE_42__.corrected.pushHistory();\n            _replay__WEBPACK_IMPORTED_MODULE_28__.replayGetWordsList(_test_input__WEBPACK_IMPORTED_MODULE_42__.input.history);\n        }\n        _test_input__WEBPACK_IMPORTED_MODULE_42__.recordKeypressSpacing(); //this is needed in case there is afk time at the end - to make sure test duration makes sense\n        _test_ui__WEBPACK_IMPORTED_MODULE_1__.setResultCalculating(true);\n        _test_ui__WEBPACK_IMPORTED_MODULE_1__.setResultVisible(true);\n        _test_stats__WEBPACK_IMPORTED_MODULE_8__.setEnd(performance.now());\n        _states_test_active__WEBPACK_IMPORTED_MODULE_41__.set(false);\n        _replay__WEBPACK_IMPORTED_MODULE_28__.stopReplayRecording();\n        _focus__WEBPACK_IMPORTED_MODULE_11__.set(false);\n        _caret__WEBPACK_IMPORTED_MODULE_16__.hide();\n        _live_wpm__WEBPACK_IMPORTED_MODULE_17__.hide();\n        _pb_crown__WEBPACK_IMPORTED_MODULE_23__.hide();\n        _live_acc__WEBPACK_IMPORTED_MODULE_18__.hide();\n        _live_burst__WEBPACK_IMPORTED_MODULE_19__.hide();\n        _timer_progress__WEBPACK_IMPORTED_MODULE_20__.hide();\n        _out_of_focus__WEBPACK_IMPORTED_MODULE_25__.hide();\n        _test_timer__WEBPACK_IMPORTED_MODULE_24__.clear();\n        _funbox__WEBPACK_IMPORTED_MODULE_12__.clear();\n        _monkey__WEBPACK_IMPORTED_MODULE_50__.hide();\n        //need one more calculation for the last word if test auto ended\n        if (_test_input__WEBPACK_IMPORTED_MODULE_42__.burstHistory.length !== _test_input__WEBPACK_IMPORTED_MODULE_42__.input.getHistory().length) {\n            const burst = _test_stats__WEBPACK_IMPORTED_MODULE_8__.calculateBurst();\n            _test_input__WEBPACK_IMPORTED_MODULE_42__.pushBurstToHistory(burst);\n        }\n        //remove afk from zen\n        if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode == \"zen\" || _test_input__WEBPACK_IMPORTED_MODULE_42__.bailout) {\n            _test_stats__WEBPACK_IMPORTED_MODULE_8__.removeAfkData();\n        }\n        const completedEvent = buildCompletedEvent(difficultyFailed);\n        //todo check if any fields are undefined\n        ///////// completed event ready\n        //afk check\n        const kps = _test_input__WEBPACK_IMPORTED_MODULE_42__.keypressPerSecond.slice(-5);\n        let afkDetected = kps.every((second) => second.afk);\n        if (_test_input__WEBPACK_IMPORTED_MODULE_42__.bailout)\n            afkDetected = false;\n        let tooShort = false;\n        let dontSave = false;\n        //fail checks\n        if (difficultyFailed) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_6__.add(`Test failed - ${failReason}`, 0, 1);\n            dontSave = true;\n        }\n        else if (afkDetected) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_6__.add(\"Test invalid - AFK detected\", 0);\n            dontSave = true;\n        }\n        else if (_test_state__WEBPACK_IMPORTED_MODULE_44__.isRepeated) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_6__.add(\"Test invalid - repeated\", 0);\n            dontSave = true;\n        }\n        else if ((_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode === \"time\" &&\n            completedEvent.mode2 < 15 &&\n            completedEvent.mode2 > 0) ||\n            (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode === \"time\" &&\n                completedEvent.mode2 == 0 &&\n                completedEvent.testDuration < 15) ||\n            (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode === \"words\" &&\n                completedEvent.mode2 < 10 &&\n                completedEvent.mode2 > 0) ||\n            (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode === \"words\" &&\n                completedEvent.mode2 == 0 &&\n                completedEvent.testDuration < 15) ||\n            (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode === \"custom\" &&\n                !_custom_text__WEBPACK_IMPORTED_MODULE_7__.isWordRandom &&\n                !_custom_text__WEBPACK_IMPORTED_MODULE_7__.isTimeRandom &&\n                _custom_text__WEBPACK_IMPORTED_MODULE_7__.text.length < 10) ||\n            (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode === \"custom\" &&\n                _custom_text__WEBPACK_IMPORTED_MODULE_7__.isWordRandom &&\n                !_custom_text__WEBPACK_IMPORTED_MODULE_7__.isTimeRandom &&\n                _custom_text__WEBPACK_IMPORTED_MODULE_7__.word < 10) ||\n            (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode === \"custom\" &&\n                !_custom_text__WEBPACK_IMPORTED_MODULE_7__.isWordRandom &&\n                _custom_text__WEBPACK_IMPORTED_MODULE_7__.isTimeRandom &&\n                _custom_text__WEBPACK_IMPORTED_MODULE_7__.time < 15) ||\n            (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode === \"zen\" && completedEvent.testDuration < 15)) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_6__.add(\"Test invalid - too short\", 0);\n            tooShort = true;\n            dontSave = true;\n        }\n        else if (completedEvent.wpm < 0 || completedEvent.wpm > 350) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_6__.add(\"Test invalid - wpm\", 0);\n            _test_stats__WEBPACK_IMPORTED_MODULE_8__.setInvalid();\n            dontSave = true;\n        }\n        else if (completedEvent.acc < 75 || completedEvent.acc > 100) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_6__.add(\"Test invalid - accuracy\", 0);\n            _test_stats__WEBPACK_IMPORTED_MODULE_8__.setInvalid();\n            dontSave = true;\n        }\n        // test is valid\n        if (!dontSave) {\n            _today_tracker__WEBPACK_IMPORTED_MODULE_31__.addSeconds(completedEvent.testDuration +\n                (_test_stats__WEBPACK_IMPORTED_MODULE_8__.incompleteSeconds < 0\n                    ? 0\n                    : _utils_misc__WEBPACK_IMPORTED_MODULE_4__.roundTo2(_test_stats__WEBPACK_IMPORTED_MODULE_8__.incompleteSeconds)) -\n                completedEvent.afkDuration);\n            _result__WEBPACK_IMPORTED_MODULE_38__.updateTodayTracker();\n        }\n        if (_firebase__WEBPACK_IMPORTED_MODULE_53__.Auth.currentUser == null) {\n            $(\".pageTest #result #rateQuoteButton\").addClass(\"hidden\");\n            $(\".pageTest #result #reportQuoteButton\").addClass(\"hidden\");\n            _controllers_analytics_controller__WEBPACK_IMPORTED_MODULE_52__.log(\"testCompletedNoLogin\");\n            if (!dontSave)\n                notSignedInLastResult = completedEvent;\n            dontSave = true;\n        }\n        else {\n            $(\".pageTest #result #reportQuoteButton\").removeClass(\"hidden\");\n        }\n        _result__WEBPACK_IMPORTED_MODULE_38__.update(completedEvent, difficultyFailed, failReason, afkDetected, _test_state__WEBPACK_IMPORTED_MODULE_44__.isRepeated, tooShort, _test_words__WEBPACK_IMPORTED_MODULE_43__.randomQuote, dontSave);\n        if (completedEvent.chartData !== \"toolong\") {\n            delete completedEvent.chartData.unsmoothedRaw;\n        }\n        if (completedEvent.testDuration > 122) {\n            completedEvent.chartData = \"toolong\";\n            completedEvent.keySpacing = \"toolong\";\n            completedEvent.keyDuration = \"toolong\";\n            _test_input__WEBPACK_IMPORTED_MODULE_42__.setKeypressTimingsTooLong();\n        }\n        if (dontSave) {\n            _controllers_analytics_controller__WEBPACK_IMPORTED_MODULE_52__.log(\"testCompletedInvalid\");\n            return;\n        }\n        // user is logged in\n        if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].difficulty == \"normal\" ||\n            ((_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].difficulty == \"master\" || _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].difficulty == \"expert\") &&\n                !difficultyFailed)) {\n            _test_stats__WEBPACK_IMPORTED_MODULE_8__.resetIncomplete();\n        }\n        completedEvent.uid = (_a = _firebase__WEBPACK_IMPORTED_MODULE_53__.Auth.currentUser) === null || _a === void 0 ? void 0 : _a.uid;\n        _result__WEBPACK_IMPORTED_MODULE_38__.updateRateQuote(_test_words__WEBPACK_IMPORTED_MODULE_43__.randomQuote);\n        _result__WEBPACK_IMPORTED_MODULE_38__.updateGraphPBLine();\n        _elements_account_button__WEBPACK_IMPORTED_MODULE_26__.loading(true);\n        completedEvent.challenge = _controllers_challenge_controller__WEBPACK_IMPORTED_MODULE_34__.verify(completedEvent);\n        if (completedEvent.challenge === null)\n            completedEvent === null || completedEvent === void 0 ? true : delete completedEvent.challenge;\n        completedEvent.hash = objecthash(completedEvent);\n        if ((completedEvent.mode === \"words\" && completedEvent.mode2 == 10) ||\n            completedEvent.mode === \"custom\") {\n            //@ts-ignore\n            completedEvent.stringified = JSON.stringify(completedEvent);\n        }\n        const response = yield _ape__WEBPACK_IMPORTED_MODULE_0__[\"default\"].results.save(completedEvent);\n        _elements_account_button__WEBPACK_IMPORTED_MODULE_26__.loading(false);\n        if (response.status !== 200) {\n            console.log(\"Error saving result\", completedEvent);\n            $(\"#retrySavingResultButton\").removeClass(\"hidden\");\n            if (response.message === \"Incorrect result hash\") {\n                console.log(completedEvent);\n            }\n            retrySaving.completedEvent = completedEvent;\n            retrySaving.canRetry = true;\n            return _elements_notifications__WEBPACK_IMPORTED_MODULE_6__.add(\"Failed to save result: \" + response.message, -1);\n        }\n        _result__WEBPACK_IMPORTED_MODULE_38__.hideCrown();\n        completedEvent._id = response.data.insertedId;\n        if (response.data.isPb) {\n            completedEvent.isPb = true;\n        }\n        _db__WEBPACK_IMPORTED_MODULE_27__.saveLocalResult(completedEvent);\n        _db__WEBPACK_IMPORTED_MODULE_27__.updateLocalStats({\n            time: completedEvent.testDuration +\n                completedEvent.incompleteTestSeconds -\n                completedEvent.afkDuration,\n            started: _test_stats__WEBPACK_IMPORTED_MODULE_8__.restartCount + 1,\n        });\n        _controllers_analytics_controller__WEBPACK_IMPORTED_MODULE_52__.log(\"testCompleted\");\n        if (response.data.isPb) {\n            //new pb\n            _result__WEBPACK_IMPORTED_MODULE_38__.showCrown();\n            _result__WEBPACK_IMPORTED_MODULE_38__.updateCrown();\n            _db__WEBPACK_IMPORTED_MODULE_27__.saveLocalPB(_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode, completedEvent.mode2, _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].punctuation, _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].language, _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].difficulty, _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].lazyMode, completedEvent.wpm, completedEvent.acc, completedEvent.rawWpm, completedEvent.consistency);\n        }\n        $(\"#retrySavingResultButton\").addClass(\"hidden\");\n    });\n}\nfunction fail(reason) {\n    failReason = reason;\n    // input.pushHistory();\n    // corrected.pushHistory();\n    _test_input__WEBPACK_IMPORTED_MODULE_42__.pushKeypressesToHistory();\n    finish(true);\n    const testSeconds = _test_stats__WEBPACK_IMPORTED_MODULE_8__.calculateTestSeconds(performance.now());\n    const afkseconds = _test_stats__WEBPACK_IMPORTED_MODULE_8__.calculateAfkSeconds(testSeconds);\n    let tt = testSeconds - afkseconds;\n    if (tt < 0)\n        tt = 0;\n    _test_stats__WEBPACK_IMPORTED_MODULE_8__.incrementIncompleteSeconds(tt);\n    _test_stats__WEBPACK_IMPORTED_MODULE_8__.incrementRestartCount();\n}\n$(document).on(\"click\", \"#testModesNotice .text-button.restart\", () => {\n    restart();\n});\n$(document).on(\"keypress\", \"#restartTestButton\", (event) => {\n    if (event.key === \"Enter\") {\n        _manual_restart_tracker__WEBPACK_IMPORTED_MODULE_2__.reset();\n        if (_states_test_active__WEBPACK_IMPORTED_MODULE_41__.get() &&\n            _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].repeatQuotes === \"typing\" &&\n            _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode === \"quote\") {\n            restart(true);\n        }\n        else {\n            restart();\n        }\n    }\n});\n$(document.body).on(\"click\", \"#restartTestButton\", () => {\n    _manual_restart_tracker__WEBPACK_IMPORTED_MODULE_2__.set();\n    if (_test_ui__WEBPACK_IMPORTED_MODULE_1__.resultCalculating)\n        return;\n    if (_states_test_active__WEBPACK_IMPORTED_MODULE_41__.get() &&\n        _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].repeatQuotes === \"typing\" &&\n        _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode === \"quote\") {\n        restart(true);\n    }\n    else {\n        restart();\n    }\n});\n$(document.body).on(\"click\", \"#retrySavingResultButton\", retrySavingResult);\n$(document).on(\"keypress\", \"#nextTestButton\", (event) => {\n    if (event.key === \"Enter\") {\n        restart();\n    }\n});\n$(document.body).on(\"click\", \"#nextTestButton\", () => {\n    _manual_restart_tracker__WEBPACK_IMPORTED_MODULE_2__.set();\n    restart();\n});\n$(document.body).on(\"click\", \"#restartTestButtonWithSameWordset\", () => {\n    if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode == \"zen\") {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_6__.add(\"Repeat test disabled in zen mode\");\n        return;\n    }\n    _manual_restart_tracker__WEBPACK_IMPORTED_MODULE_2__.set();\n    restart(true);\n});\n$(document).on(\"keypress\", \"#restartTestButtonWithSameWordset\", (event) => {\n    if (_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].mode == \"zen\") {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_6__.add(\"Repeat test disabled in zen mode\");\n        return;\n    }\n    if (event.key === \"Enter\") {\n        restart(true);\n    }\n});\n$(document).on(\"click\", \"#top .config .wordCount .text-button\", (e) => {\n    var _a;\n    const wrd = (_a = $(e.currentTarget).attr(\"wordCount\")) !== null && _a !== void 0 ? _a : \"15\";\n    if (wrd != \"custom\") {\n        _config__WEBPACK_IMPORTED_MODULE_3__.setWordCount(parseInt(wrd));\n        _manual_restart_tracker__WEBPACK_IMPORTED_MODULE_2__.set();\n        restart();\n    }\n});\n$(document).on(\"click\", \"#top .config .time .text-button\", (e) => {\n    var _a;\n    const mode = (_a = $(e.currentTarget).attr(\"timeConfig\")) !== null && _a !== void 0 ? _a : \"10\";\n    if (mode != \"custom\") {\n        _config__WEBPACK_IMPORTED_MODULE_3__.setTimeConfig(parseInt(mode));\n        _manual_restart_tracker__WEBPACK_IMPORTED_MODULE_2__.set();\n        restart();\n    }\n});\n$(document).on(\"click\", \"#top .config .quoteLength .text-button\", (e) => {\n    var _a;\n    let len = parseInt((_a = $(e.currentTarget).attr(\"quoteLength\")) !== null && _a !== void 0 ? _a : \"1\");\n    if (len != -2) {\n        if (len == -1) {\n            len = [0, 1, 2, 3];\n        }\n        _config__WEBPACK_IMPORTED_MODULE_3__.setQuoteLength(len, false, e.shiftKey);\n        _manual_restart_tracker__WEBPACK_IMPORTED_MODULE_2__.set();\n        restart();\n    }\n});\n$(document).on(\"click\", \"#top .config .punctuationMode .text-button\", () => {\n    _config__WEBPACK_IMPORTED_MODULE_3__.setPunctuation(!_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].punctuation);\n    _manual_restart_tracker__WEBPACK_IMPORTED_MODULE_2__.set();\n    restart();\n});\n$(document).on(\"click\", \"#top .config .numbersMode .text-button\", () => {\n    _config__WEBPACK_IMPORTED_MODULE_3__.setNumbers(!_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].numbers);\n    _manual_restart_tracker__WEBPACK_IMPORTED_MODULE_2__.set();\n    restart();\n});\n$(document).on(\"click\", \"#top .config .mode .text-button\", (e) => {\n    var _a;\n    if ($(e.currentTarget).hasClass(\"active\"))\n        return;\n    const mode = ((_a = $(e.currentTarget).attr(\"mode\")) !== null && _a !== void 0 ? _a : \"time\");\n    if (mode === undefined)\n        return;\n    _config__WEBPACK_IMPORTED_MODULE_3__.setMode(mode);\n    _manual_restart_tracker__WEBPACK_IMPORTED_MODULE_2__.set();\n    restart();\n});\n$(\"#practiseWordsPopup .button.missed\").on(\"click\", () => {\n    _practise_words__WEBPACK_IMPORTED_MODULE_9__.hidePopup();\n    _practise_words__WEBPACK_IMPORTED_MODULE_9__.init(true, false);\n    restart(false, false, undefined, true);\n});\n$(\"#practiseWordsPopup .button.slow\").on(\"click\", () => {\n    _practise_words__WEBPACK_IMPORTED_MODULE_9__.hidePopup();\n    _practise_words__WEBPACK_IMPORTED_MODULE_9__.init(false, true);\n    restart(false, false, undefined, true);\n});\n$(\"#practiseWordsPopup .button.both\").on(\"click\", () => {\n    _practise_words__WEBPACK_IMPORTED_MODULE_9__.hidePopup();\n    _practise_words__WEBPACK_IMPORTED_MODULE_9__.init(true, true);\n    restart(false, false, undefined, true);\n});\n$(document).on(\"click\", \"#quoteSearchPopup #quoteSearchResults .searchResult\", (e) => {\n    var _a;\n    if (e.target.classList.contains(\"report\")) {\n        return;\n    }\n    const sid = parseInt((_a = $(e.currentTarget).attr(\"id\")) !== null && _a !== void 0 ? _a : \"\");\n    _popups_quote_search_popup__WEBPACK_IMPORTED_MODULE_21__.setSelectedId(sid);\n    if (_popups_quote_search_popup__WEBPACK_IMPORTED_MODULE_21__.apply(sid) === true)\n        restart();\n});\n$(document).on(\"click\", \"#top #menu #startTestButton, #top .logo\", () => {\n    if (_states_active_page__WEBPACK_IMPORTED_MODULE_40__.get() === \"test\")\n        restart();\n});\n// ===============================\n_observables_config_event__WEBPACK_IMPORTED_MODULE_47__.subscribe((eventKey, eventValue, nosave) => {\n    if (eventKey === \"difficulty\" && !nosave)\n        restart(false, nosave);\n    if (eventKey === \"showAllLines\" && !nosave)\n        restart();\n    if (eventKey === \"keymapMode\" && !nosave)\n        restart(false, nosave);\n    if (eventKey === \"lazyMode\" && eventValue === false && !nosave) {\n        rememberLazyMode = false;\n    }\n});\n_observables_timer_event__WEBPACK_IMPORTED_MODULE_48__.subscribe((eventKey, eventValue) => {\n    if (eventKey === \"fail\" && eventValue !== undefined)\n        fail(eventValue);\n    if (eventKey === \"finish\")\n        finish();\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/test-logic.ts?");

/***/ }),

/***/ "./src/scripts/test/test-state.ts":
/*!****************************************!*\
  !*** ./src/scripts/test/test-state.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isRepeated\": () => (/* binding */ isRepeated),\n/* harmony export */   \"isPaceRepeat\": () => (/* binding */ isPaceRepeat),\n/* harmony export */   \"activeChallenge\": () => (/* binding */ activeChallenge),\n/* harmony export */   \"setRepeated\": () => (/* binding */ setRepeated),\n/* harmony export */   \"setPaceRepeat\": () => (/* binding */ setPaceRepeat),\n/* harmony export */   \"setActiveChallenge\": () => (/* binding */ setActiveChallenge)\n/* harmony export */ });\nlet isRepeated = false;\nlet isPaceRepeat = false;\nlet activeChallenge = null;\nfunction setRepeated(tf) {\n    isRepeated = tf;\n}\nfunction setPaceRepeat(tf) {\n    isPaceRepeat = tf;\n}\nfunction setActiveChallenge(val) {\n    activeChallenge = val;\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/test-state.ts?");

/***/ }),

/***/ "./src/scripts/test/test-stats.ts":
/*!****************************************!*\
  !*** ./src/scripts/test/test-stats.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"invalid\": () => (/* binding */ invalid),\n/* harmony export */   \"start\": () => (/* binding */ start),\n/* harmony export */   \"end\": () => (/* binding */ end),\n/* harmony export */   \"start2\": () => (/* binding */ start2),\n/* harmony export */   \"end2\": () => (/* binding */ end2),\n/* harmony export */   \"lastSecondNotRound\": () => (/* binding */ lastSecondNotRound),\n/* harmony export */   \"lastTestWpm\": () => (/* binding */ lastTestWpm),\n/* harmony export */   \"setLastTestWpm\": () => (/* binding */ setLastTestWpm),\n/* harmony export */   \"getStats\": () => (/* binding */ getStats),\n/* harmony export */   \"restart\": () => (/* binding */ restart),\n/* harmony export */   \"restartCount\": () => (/* binding */ restartCount),\n/* harmony export */   \"incompleteSeconds\": () => (/* binding */ incompleteSeconds),\n/* harmony export */   \"incrementRestartCount\": () => (/* binding */ incrementRestartCount),\n/* harmony export */   \"incrementIncompleteSeconds\": () => (/* binding */ incrementIncompleteSeconds),\n/* harmony export */   \"resetIncomplete\": () => (/* binding */ resetIncomplete),\n/* harmony export */   \"setInvalid\": () => (/* binding */ setInvalid),\n/* harmony export */   \"calculateTestSeconds\": () => (/* binding */ calculateTestSeconds),\n/* harmony export */   \"calculateWpmAndRaw\": () => (/* binding */ calculateWpmAndRaw),\n/* harmony export */   \"setEnd\": () => (/* binding */ setEnd),\n/* harmony export */   \"setStart\": () => (/* binding */ setStart),\n/* harmony export */   \"calculateAfkSeconds\": () => (/* binding */ calculateAfkSeconds),\n/* harmony export */   \"setLastSecondNotRound\": () => (/* binding */ setLastSecondNotRound),\n/* harmony export */   \"calculateBurst\": () => (/* binding */ calculateBurst),\n/* harmony export */   \"calculateAccuracy\": () => (/* binding */ calculateAccuracy),\n/* harmony export */   \"removeAfkData\": () => (/* binding */ removeAfkData),\n/* harmony export */   \"calculateStats\": () => (/* binding */ calculateStats)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _test_input__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./test-input */ \"./src/scripts/test/test-input.ts\");\n/* harmony import */ var _test_words__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./test-words */ \"./src/scripts/test/test-words.ts\");\n\n\n\n\nlet invalid = false;\nlet start, end;\nlet start2, end2;\nlet lastSecondNotRound = false;\nlet lastTestWpm = 0;\nfunction setLastTestWpm(wpm) {\n    lastTestWpm = wpm;\n}\nfunction getStats() {\n    const ret = {\n        start,\n        end,\n        wpmHistory: _test_input__WEBPACK_IMPORTED_MODULE_2__.wpmHistory,\n        rawHistory: _test_input__WEBPACK_IMPORTED_MODULE_2__.wpmHistory,\n        burstHistory: _test_input__WEBPACK_IMPORTED_MODULE_2__.burstHistory,\n        keypressPerSecond: _test_input__WEBPACK_IMPORTED_MODULE_2__.keypressPerSecond,\n        currentKeypress: _test_input__WEBPACK_IMPORTED_MODULE_2__.currentKeypress,\n        lastKeypress: _test_input__WEBPACK_IMPORTED_MODULE_2__.lastKeypress,\n        currentBurstStart: _test_input__WEBPACK_IMPORTED_MODULE_2__.currentBurstStart,\n        lastSecondNotRound,\n        missedWords: _test_input__WEBPACK_IMPORTED_MODULE_2__.missedWords,\n        accuracy: _test_input__WEBPACK_IMPORTED_MODULE_2__.accuracy,\n        keypressTimings: _test_input__WEBPACK_IMPORTED_MODULE_2__.keypressTimings,\n    };\n    try {\n        ret.keySpacingStats = {\n            average: _test_input__WEBPACK_IMPORTED_MODULE_2__.keypressTimings.spacing.array.reduce((previous, current) => (current += previous)) / _test_input__WEBPACK_IMPORTED_MODULE_2__.keypressTimings.spacing.array.length,\n            sd: _utils_misc__WEBPACK_IMPORTED_MODULE_1__.stdDev(_test_input__WEBPACK_IMPORTED_MODULE_2__.keypressTimings.spacing.array),\n        };\n    }\n    catch (e) {\n        //\n    }\n    try {\n        ret.keyDurationStats = {\n            average: _test_input__WEBPACK_IMPORTED_MODULE_2__.keypressTimings.duration.array.reduce((previous, current) => (current += previous)) / _test_input__WEBPACK_IMPORTED_MODULE_2__.keypressTimings.duration.array.length,\n            sd: _utils_misc__WEBPACK_IMPORTED_MODULE_1__.stdDev(_test_input__WEBPACK_IMPORTED_MODULE_2__.keypressTimings.duration.array),\n        };\n    }\n    catch (e) {\n        //\n    }\n    return ret;\n}\nfunction restart() {\n    start = 0;\n    end = 0;\n    invalid = false;\n    lastSecondNotRound = false;\n}\nlet restartCount = 0;\nlet incompleteSeconds = 0;\nfunction incrementRestartCount() {\n    restartCount++;\n}\nfunction incrementIncompleteSeconds(val) {\n    incompleteSeconds += val;\n}\nfunction resetIncomplete() {\n    restartCount = 0;\n    incompleteSeconds = 0;\n}\nfunction setInvalid() {\n    invalid = true;\n}\nfunction calculateTestSeconds(now) {\n    if (now === undefined) {\n        const endAfkSeconds = (end - _test_input__WEBPACK_IMPORTED_MODULE_2__.lastKeypress) / 1000;\n        if ((_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode == \"zen\" || _test_input__WEBPACK_IMPORTED_MODULE_2__.bailout) && endAfkSeconds < 7) {\n            return (_test_input__WEBPACK_IMPORTED_MODULE_2__.lastKeypress - start) / 1000;\n        }\n        else {\n            return (end - start) / 1000;\n        }\n    }\n    else {\n        return (now - start) / 1000;\n    }\n}\nfunction calculateWpmAndRaw() {\n    let chars = 0;\n    let correctWordChars = 0;\n    let spaces = 0;\n    //check input history\n    for (let i = 0; i < _test_input__WEBPACK_IMPORTED_MODULE_2__.input.history.length; i++) {\n        const word = _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode == \"zen\"\n            ? _test_input__WEBPACK_IMPORTED_MODULE_2__.input.getHistory(i)\n            : _test_words__WEBPACK_IMPORTED_MODULE_3__.words.get(i);\n        if (_test_input__WEBPACK_IMPORTED_MODULE_2__.input.getHistory(i) == word) {\n            //the word is correct\n            //+1 for space\n            correctWordChars += word.length;\n            if (i < _test_input__WEBPACK_IMPORTED_MODULE_2__.input.history.length - 1 &&\n                _utils_misc__WEBPACK_IMPORTED_MODULE_1__.getLastChar(_test_input__WEBPACK_IMPORTED_MODULE_2__.input.getHistory(i)) !== \"\\n\") {\n                spaces++;\n            }\n        }\n        chars += _test_input__WEBPACK_IMPORTED_MODULE_2__.input.getHistory(i).length;\n    }\n    if (_test_input__WEBPACK_IMPORTED_MODULE_2__.input.current !== \"\") {\n        const word = _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode == \"zen\"\n            ? _test_input__WEBPACK_IMPORTED_MODULE_2__.input.current\n            : _test_words__WEBPACK_IMPORTED_MODULE_3__.words.getCurrent();\n        //check whats currently typed\n        const toAdd = {\n            correct: 0,\n            incorrect: 0,\n            missed: 0,\n        };\n        for (let c = 0; c < word.length; c++) {\n            if (c < _test_input__WEBPACK_IMPORTED_MODULE_2__.input.current.length) {\n                //on char that still has a word list pair\n                if (_test_input__WEBPACK_IMPORTED_MODULE_2__.input.current[c] == word[c]) {\n                    toAdd.correct++;\n                }\n                else {\n                    toAdd.incorrect++;\n                }\n            }\n            else {\n                //on char that is extra\n                toAdd.missed++;\n            }\n        }\n        chars += toAdd.correct;\n        chars += toAdd.incorrect;\n        chars += toAdd.missed;\n        if (toAdd.incorrect == 0) {\n            //word is correct so far, add chars\n            correctWordChars += toAdd.correct;\n        }\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].funbox === \"nospace\" || _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].funbox === \"arrows\") {\n        spaces = 0;\n    }\n    chars += _test_input__WEBPACK_IMPORTED_MODULE_2__.input.current.length;\n    const testSeconds = calculateTestSeconds(performance.now());\n    const wpm = Math.round(((correctWordChars + spaces) * (60 / testSeconds)) / 5);\n    const raw = Math.round(((chars + spaces) * (60 / testSeconds)) / 5);\n    return {\n        wpm: wpm,\n        raw: raw,\n    };\n}\nfunction setEnd(e) {\n    end = e;\n    end2 = Date.now();\n}\nfunction setStart(s) {\n    start = s;\n    start2 = Date.now();\n}\nfunction calculateAfkSeconds(testSeconds) {\n    let extraAfk = 0;\n    if (testSeconds !== undefined) {\n        if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode === \"time\") {\n            extraAfk = Math.round(testSeconds) - _test_input__WEBPACK_IMPORTED_MODULE_2__.keypressPerSecond.length;\n        }\n        else {\n            extraAfk = Math.ceil(testSeconds) - _test_input__WEBPACK_IMPORTED_MODULE_2__.keypressPerSecond.length;\n        }\n        if (extraAfk < 0)\n            extraAfk = 0;\n        // console.log(\"-- extra afk debug\");\n        // console.log(\"should be \" + Math.ceil(testSeconds));\n        // console.log(keypressPerSecond.length);\n        // console.log(\n        //   `gonna add extra ${extraAfk} seconds of afk because of no keypress data`\n        // );\n    }\n    const ret = _test_input__WEBPACK_IMPORTED_MODULE_2__.keypressPerSecond.filter((x) => x.afk).length;\n    return ret + extraAfk;\n}\nfunction setLastSecondNotRound() {\n    lastSecondNotRound = true;\n}\nfunction calculateBurst() {\n    const timeToWrite = (performance.now() - _test_input__WEBPACK_IMPORTED_MODULE_2__.currentBurstStart) / 1000;\n    let wordLength;\n    wordLength = _test_input__WEBPACK_IMPORTED_MODULE_2__.input.current.length;\n    if (wordLength == 0) {\n        wordLength = _test_input__WEBPACK_IMPORTED_MODULE_2__.input.getHistoryLast().length;\n    }\n    const speed = _utils_misc__WEBPACK_IMPORTED_MODULE_1__.roundTo2((wordLength * (60 / timeToWrite)) / 5);\n    return Math.round(speed);\n}\nfunction calculateAccuracy() {\n    const acc = (_test_input__WEBPACK_IMPORTED_MODULE_2__.accuracy.correct /\n        (_test_input__WEBPACK_IMPORTED_MODULE_2__.accuracy.correct + _test_input__WEBPACK_IMPORTED_MODULE_2__.accuracy.incorrect)) *\n        100;\n    return isNaN(acc) ? 100 : acc;\n}\nfunction removeAfkData() {\n    const testSeconds = calculateTestSeconds();\n    _test_input__WEBPACK_IMPORTED_MODULE_2__.keypressPerSecond.splice(testSeconds);\n    _test_input__WEBPACK_IMPORTED_MODULE_2__.keypressTimings.duration.array.splice(testSeconds);\n    _test_input__WEBPACK_IMPORTED_MODULE_2__.keypressTimings.spacing.array.splice(testSeconds);\n    _test_input__WEBPACK_IMPORTED_MODULE_2__.wpmHistory.splice(testSeconds);\n}\nfunction countChars() {\n    let correctWordChars = 0;\n    let correctChars = 0;\n    let incorrectChars = 0;\n    let extraChars = 0;\n    let missedChars = 0;\n    let spaces = 0;\n    let correctspaces = 0;\n    for (let i = 0; i < _test_input__WEBPACK_IMPORTED_MODULE_2__.input.history.length; i++) {\n        const word = _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode == \"zen\"\n            ? _test_input__WEBPACK_IMPORTED_MODULE_2__.input.getHistory(i)\n            : _test_words__WEBPACK_IMPORTED_MODULE_3__.words.get(i);\n        if (_test_input__WEBPACK_IMPORTED_MODULE_2__.input.getHistory(i) === \"\") {\n            //last word that was not started\n            continue;\n        }\n        if (_test_input__WEBPACK_IMPORTED_MODULE_2__.input.getHistory(i) == word) {\n            //the word is correct\n            correctWordChars += word.length;\n            correctChars += word.length;\n            if (i < _test_input__WEBPACK_IMPORTED_MODULE_2__.input.history.length - 1 &&\n                _utils_misc__WEBPACK_IMPORTED_MODULE_1__.getLastChar(_test_input__WEBPACK_IMPORTED_MODULE_2__.input.getHistory(i)) !== \"\\n\") {\n                correctspaces++;\n            }\n        }\n        else if (_test_input__WEBPACK_IMPORTED_MODULE_2__.input.getHistory(i).length >= word.length) {\n            //too many chars\n            for (let c = 0; c < _test_input__WEBPACK_IMPORTED_MODULE_2__.input.getHistory(i).length; c++) {\n                if (c < word.length) {\n                    //on char that still has a word list pair\n                    if (_test_input__WEBPACK_IMPORTED_MODULE_2__.input.getHistory(i)[c] == word[c]) {\n                        correctChars++;\n                    }\n                    else {\n                        incorrectChars++;\n                    }\n                }\n                else {\n                    //on char that is extra\n                    extraChars++;\n                }\n            }\n        }\n        else {\n            //not enough chars\n            const toAdd = {\n                correct: 0,\n                incorrect: 0,\n                missed: 0,\n            };\n            for (let c = 0; c < word.length; c++) {\n                if (c < _test_input__WEBPACK_IMPORTED_MODULE_2__.input.getHistory(i).length) {\n                    //on char that still has a word list pair\n                    if (_test_input__WEBPACK_IMPORTED_MODULE_2__.input.getHistory(i)[c] == word[c]) {\n                        toAdd.correct++;\n                    }\n                    else {\n                        toAdd.incorrect++;\n                    }\n                }\n                else {\n                    //on char that is extra\n                    toAdd.missed++;\n                }\n            }\n            correctChars += toAdd.correct;\n            incorrectChars += toAdd.incorrect;\n            if (i === _test_input__WEBPACK_IMPORTED_MODULE_2__.input.history.length - 1 && _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode == \"time\") {\n                //last word - check if it was all correct - add to correct word chars\n                if (toAdd.incorrect === 0)\n                    correctWordChars += toAdd.correct;\n            }\n            else {\n                missedChars += toAdd.missed;\n            }\n        }\n        if (i < _test_input__WEBPACK_IMPORTED_MODULE_2__.input.history.length - 1) {\n            spaces++;\n        }\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].funbox === \"nospace\" || _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].funbox === \"arrows\") {\n        spaces = 0;\n        correctspaces = 0;\n    }\n    return {\n        spaces: spaces,\n        correctWordChars: correctWordChars,\n        allCorrectChars: correctChars,\n        incorrectChars: _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode == \"zen\" ? _test_input__WEBPACK_IMPORTED_MODULE_2__.accuracy.incorrect : incorrectChars,\n        extraChars: extraChars,\n        missedChars: missedChars,\n        correctSpaces: correctspaces,\n    };\n}\nfunction calculateStats() {\n    let testSeconds = calculateTestSeconds();\n    // console.log((end2 - start2) / 1000);\n    // console.log(testSeconds);\n    if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode != \"custom\") {\n        testSeconds = _utils_misc__WEBPACK_IMPORTED_MODULE_1__.roundTo2(testSeconds);\n    }\n    const chars = countChars();\n    const wpm = _utils_misc__WEBPACK_IMPORTED_MODULE_1__.roundTo2(((chars.correctWordChars + chars.correctSpaces) * (60 / testSeconds)) / 5);\n    const wpmraw = _utils_misc__WEBPACK_IMPORTED_MODULE_1__.roundTo2(((chars.allCorrectChars +\n        chars.spaces +\n        chars.incorrectChars +\n        chars.extraChars) *\n        (60 / testSeconds)) /\n        5);\n    const acc = _utils_misc__WEBPACK_IMPORTED_MODULE_1__.roundTo2(calculateAccuracy());\n    return {\n        wpm: isNaN(wpm) ? 0 : wpm,\n        wpmRaw: isNaN(wpmraw) ? 0 : wpmraw,\n        acc: acc,\n        correctChars: chars.correctWordChars,\n        incorrectChars: chars.incorrectChars,\n        missedChars: chars.missedChars,\n        extraChars: chars.extraChars,\n        allChars: chars.allCorrectChars +\n            chars.spaces +\n            chars.incorrectChars +\n            chars.extraChars,\n        time: _utils_misc__WEBPACK_IMPORTED_MODULE_1__.roundTo2(testSeconds),\n        spaces: chars.spaces,\n        correctSpaces: chars.correctSpaces,\n    };\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/test-stats.ts?");

/***/ }),

/***/ "./src/scripts/test/test-timer.ts":
/*!****************************************!*\
  !*** ./src/scripts/test/test-timer.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"enableTimerDebug\": () => (/* binding */ enableTimerDebug),\n/* harmony export */   \"clear\": () => (/* binding */ clear),\n/* harmony export */   \"getTimerStats\": () => (/* binding */ getTimerStats),\n/* harmony export */   \"start\": () => (/* binding */ start)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _custom_text__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./custom-text */ \"./src/scripts/test/custom-text.ts\");\n/* harmony import */ var _timer_progress__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./timer-progress */ \"./src/scripts/test/timer-progress.ts\");\n/* harmony import */ var _live_wpm__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./live-wpm */ \"./src/scripts/test/live-wpm.ts\");\n/* harmony import */ var _test_stats__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./test-stats */ \"./src/scripts/test/test-stats.ts\");\n/* harmony import */ var _test_input__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./test-input */ \"./src/scripts/test/test-input.ts\");\n/* harmony import */ var _test_words__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./test-words */ \"./src/scripts/test/test-words.ts\");\n/* harmony import */ var _monkey__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./monkey */ \"./src/scripts/test/monkey.ts\");\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../elements/notifications */ \"./src/scripts/elements/notifications.ts\");\n/* harmony import */ var _caret__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./caret */ \"./src/scripts/test/caret.ts\");\n/* harmony import */ var _states_slow_timer__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../states/slow-timer */ \"./src/scripts/states/slow-timer.ts\");\n/* harmony import */ var _states_test_active__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../states/test-active */ \"./src/scripts/states/test-active.ts\");\n/* harmony import */ var _states_time__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../states/time */ \"./src/scripts/states/time.ts\");\n/* harmony import */ var _observables_timer_event__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../observables/timer-event */ \"./src/scripts/observables/timer-event.ts\");\n//most of the code is thanks to\n//https://stackoverflow.com/questions/29971898/how-to-create-an-accurate-timer-in-javascript\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlet slowTimerCount = 0;\nlet timer = null;\nconst interval = 1000;\nlet expected = 0;\nlet timerDebug = false;\nfunction enableTimerDebug() {\n    timerDebug = true;\n}\nfunction clear() {\n    _states_time__WEBPACK_IMPORTED_MODULE_13__.set(0);\n    if (timer !== null)\n        clearTimeout(timer);\n}\nfunction premid() {\n    if (timerDebug)\n        console.time(\"premid\");\n    const premidSecondsLeft = document.querySelector(\"#premidSecondsLeft\");\n    if (premidSecondsLeft !== null) {\n        premidSecondsLeft.innerHTML = (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].time - _states_time__WEBPACK_IMPORTED_MODULE_13__.get()).toString();\n    }\n    if (timerDebug)\n        console.timeEnd(\"premid\");\n}\nfunction updateTimer() {\n    if (timerDebug)\n        console.time(\"timer progress update\");\n    if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode === \"time\" ||\n        (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode === \"custom\" && _custom_text__WEBPACK_IMPORTED_MODULE_1__.isTimeRandom)) {\n        _timer_progress__WEBPACK_IMPORTED_MODULE_2__.update();\n    }\n    if (timerDebug)\n        console.timeEnd(\"timer progress update\");\n}\nfunction calculateWpmRaw() {\n    if (timerDebug)\n        console.time(\"calculate wpm and raw\");\n    const wpmAndRaw = _test_stats__WEBPACK_IMPORTED_MODULE_4__.calculateWpmAndRaw();\n    if (timerDebug)\n        console.timeEnd(\"calculate wpm and raw\");\n    if (timerDebug)\n        console.time(\"update live wpm\");\n    _live_wpm__WEBPACK_IMPORTED_MODULE_3__.update(wpmAndRaw.wpm, wpmAndRaw.raw);\n    if (timerDebug)\n        console.timeEnd(\"update live wpm\");\n    if (timerDebug)\n        console.time(\"push to history\");\n    _test_input__WEBPACK_IMPORTED_MODULE_5__.pushToWpmHistory(wpmAndRaw.wpm);\n    _test_input__WEBPACK_IMPORTED_MODULE_5__.pushToRawHistory(wpmAndRaw.raw);\n    if (timerDebug)\n        console.timeEnd(\"push to history\");\n    return wpmAndRaw;\n}\nfunction monkey(wpmAndRaw) {\n    if (timerDebug)\n        console.time(\"update monkey\");\n    const num = _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].blindMode ? wpmAndRaw.raw : wpmAndRaw.wpm;\n    _monkey__WEBPACK_IMPORTED_MODULE_7__.updateFastOpacity(num);\n    if (timerDebug)\n        console.timeEnd(\"update monkey\");\n}\nfunction calculateAcc() {\n    if (timerDebug)\n        console.time(\"calculate acc\");\n    const acc = _utils_misc__WEBPACK_IMPORTED_MODULE_8__.roundTo2(_test_stats__WEBPACK_IMPORTED_MODULE_4__.calculateAccuracy());\n    if (timerDebug)\n        console.timeEnd(\"calculate acc\");\n    return acc;\n}\nfunction layoutfluid() {\n    if (timerDebug)\n        console.time(\"layoutfluid\");\n    if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].funbox === \"layoutfluid\" && _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode === \"time\") {\n        const layouts = _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].customLayoutfluid\n            ? _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].customLayoutfluid.split(\"#\")\n            : [\"qwerty\", \"dvorak\", \"colemak\"];\n        // console.log(Config.customLayoutfluid);\n        // console.log(layouts);\n        const switchTime = _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].time / layouts.length;\n        const time = _states_time__WEBPACK_IMPORTED_MODULE_13__.get();\n        const index = Math.floor(time / switchTime);\n        const layout = layouts[index];\n        const flooredSwitchTimes = [];\n        for (let i = 1; i < layouts.length; i++) {\n            flooredSwitchTimes.push(Math.floor(switchTime * i));\n        }\n        if (flooredSwitchTimes.includes(time + 3)) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_9__.add(\"3\", 0, 1);\n        }\n        else if (flooredSwitchTimes.includes(time + 2)) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_9__.add(\"2\", 0, 1);\n        }\n        else if (flooredSwitchTimes.includes(time + 1)) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_9__.add(\"1\", 0, 1);\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].layout !== layout && layout !== undefined) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_9__.add(`--- !!! ${layout} !!! ---`, 0);\n            _config__WEBPACK_IMPORTED_MODULE_0__.setLayout(layout, true);\n            _config__WEBPACK_IMPORTED_MODULE_0__.setKeymapLayout(layout, true);\n        }\n    }\n    if (timerDebug)\n        console.timeEnd(\"layoutfluid\");\n}\nfunction checkIfFailed(wpmAndRaw, acc) {\n    if (timerDebug)\n        console.time(\"fail conditions\");\n    _test_input__WEBPACK_IMPORTED_MODULE_5__.pushKeypressesToHistory();\n    if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].minWpm === \"custom\" &&\n        wpmAndRaw.wpm < _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].minWpmCustomSpeed &&\n        _test_words__WEBPACK_IMPORTED_MODULE_6__.words.currentIndex > 3) {\n        if (timer !== null)\n            clearTimeout(timer);\n        _states_slow_timer__WEBPACK_IMPORTED_MODULE_11__.clear();\n        slowTimerCount = 0;\n        _observables_timer_event__WEBPACK_IMPORTED_MODULE_14__.dispatch(\"fail\", \"min wpm\");\n        return;\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].minAcc === \"custom\" &&\n        acc < _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].minAccCustom &&\n        _test_words__WEBPACK_IMPORTED_MODULE_6__.words.currentIndex > 3) {\n        if (timer !== null)\n            clearTimeout(timer);\n        _states_slow_timer__WEBPACK_IMPORTED_MODULE_11__.clear();\n        slowTimerCount = 0;\n        _observables_timer_event__WEBPACK_IMPORTED_MODULE_14__.dispatch(\"fail\", \"min accuracy\");\n        return;\n    }\n    if (timerDebug)\n        console.timeEnd(\"fail conditions\");\n}\nfunction checkIfTimeIsUp() {\n    if (timerDebug)\n        console.time(\"times up check\");\n    if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode == \"time\" ||\n        (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode === \"custom\" && _custom_text__WEBPACK_IMPORTED_MODULE_1__.isTimeRandom)) {\n        if ((_states_time__WEBPACK_IMPORTED_MODULE_13__.get() >= _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].time &&\n            _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].time !== 0 &&\n            _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode === \"time\") ||\n            (_states_time__WEBPACK_IMPORTED_MODULE_13__.get() >= _custom_text__WEBPACK_IMPORTED_MODULE_1__.time &&\n                _custom_text__WEBPACK_IMPORTED_MODULE_1__.time !== 0 &&\n                _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode === \"custom\")) {\n            //times up\n            if (timer !== null)\n                clearTimeout(timer);\n            _caret__WEBPACK_IMPORTED_MODULE_10__.hide();\n            _test_input__WEBPACK_IMPORTED_MODULE_5__.input.pushHistory();\n            _test_input__WEBPACK_IMPORTED_MODULE_5__.corrected.pushHistory();\n            _states_slow_timer__WEBPACK_IMPORTED_MODULE_11__.clear();\n            slowTimerCount = 0;\n            _observables_timer_event__WEBPACK_IMPORTED_MODULE_14__.dispatch(\"finish\");\n            return;\n        }\n    }\n    if (timerDebug)\n        console.timeEnd(\"times up check\");\n}\n// ---------------------------------------\nlet timerStats = [];\nfunction getTimerStats() {\n    return timerStats;\n}\nfunction timerStep() {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (timerDebug)\n            console.time(\"timer step -----------------------------\");\n        _states_time__WEBPACK_IMPORTED_MODULE_13__.increment();\n        premid();\n        updateTimer();\n        const wpmAndRaw = calculateWpmRaw();\n        const acc = calculateAcc();\n        monkey(wpmAndRaw);\n        layoutfluid();\n        checkIfFailed(wpmAndRaw, acc);\n        checkIfTimeIsUp();\n        if (timerDebug)\n            console.timeEnd(\"timer step -----------------------------\");\n    });\n}\nfunction start() {\n    return __awaiter(this, void 0, void 0, function* () {\n        _states_slow_timer__WEBPACK_IMPORTED_MODULE_11__.clear();\n        slowTimerCount = 0;\n        timerStats = [];\n        expected = _test_stats__WEBPACK_IMPORTED_MODULE_4__.start + interval;\n        (function loop() {\n            const delay = expected - performance.now();\n            timerStats.push({\n                dateNow: Date.now(),\n                now: performance.now(),\n                expected: expected,\n                nextDelay: delay,\n            });\n            if ((_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode === \"time\" && _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].time < 130 && _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].time > 0) ||\n                (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode === \"words\" && _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].words < 250 && _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].words > 0)) {\n                if (delay < interval / 2) {\n                    //slow timer\n                    _states_slow_timer__WEBPACK_IMPORTED_MODULE_11__.set();\n                }\n                if (delay < interval / 10) {\n                    slowTimerCount++;\n                    if (slowTimerCount > 5) {\n                        //slow timer\n                        if (window.navigator.userAgent.includes(\"Edg\")) {\n                            _elements_notifications__WEBPACK_IMPORTED_MODULE_9__.add('This bad performance could be caused by \"efficiency mode\" on Microsoft Edge.');\n                        }\n                        _elements_notifications__WEBPACK_IMPORTED_MODULE_9__.add(\"Stopping the test due to bad performance. This would cause test calculations to be incorrect. If this happens a lot, please report this.\", -1);\n                        _observables_timer_event__WEBPACK_IMPORTED_MODULE_14__.dispatch(\"fail\", \"slow timer\");\n                    }\n                }\n            }\n            timer = setTimeout(function () {\n                // time++;\n                if (!_states_test_active__WEBPACK_IMPORTED_MODULE_12__.get()) {\n                    if (timer !== null)\n                        clearTimeout(timer);\n                    _states_slow_timer__WEBPACK_IMPORTED_MODULE_11__.clear();\n                    slowTimerCount = 0;\n                    return;\n                }\n                timerStep();\n                expected += interval;\n                loop();\n            }, delay);\n        })();\n    });\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/test-timer.ts?");

/***/ }),

/***/ "./src/scripts/test/test-ui.ts":
/*!*************************************!*\
  !*** ./src/scripts/test/test-ui.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"currentWordElementIndex\": () => (/* binding */ currentWordElementIndex),\n/* harmony export */   \"resultVisible\": () => (/* binding */ resultVisible),\n/* harmony export */   \"activeWordTop\": () => (/* binding */ activeWordTop),\n/* harmony export */   \"testRestarting\": () => (/* binding */ testRestarting),\n/* harmony export */   \"testRestartingPromise\": () => (/* binding */ testRestartingPromise),\n/* harmony export */   \"lineTransition\": () => (/* binding */ lineTransition),\n/* harmony export */   \"currentTestLine\": () => (/* binding */ currentTestLine),\n/* harmony export */   \"resultCalculating\": () => (/* binding */ resultCalculating),\n/* harmony export */   \"setResultVisible\": () => (/* binding */ setResultVisible),\n/* harmony export */   \"setCurrentWordElementIndex\": () => (/* binding */ setCurrentWordElementIndex),\n/* harmony export */   \"setActiveWordTop\": () => (/* binding */ setActiveWordTop),\n/* harmony export */   \"setTestRestarting\": () => (/* binding */ setTestRestarting),\n/* harmony export */   \"setResultCalculating\": () => (/* binding */ setResultCalculating),\n/* harmony export */   \"reset\": () => (/* binding */ reset),\n/* harmony export */   \"focusWords\": () => (/* binding */ focusWords),\n/* harmony export */   \"updateActiveElement\": () => (/* binding */ updateActiveElement),\n/* harmony export */   \"showWords\": () => (/* binding */ showWords),\n/* harmony export */   \"addWord\": () => (/* binding */ addWord),\n/* harmony export */   \"flipColors\": () => (/* binding */ flipColors),\n/* harmony export */   \"colorful\": () => (/* binding */ colorful),\n/* harmony export */   \"screenshot\": () => (/* binding */ screenshot),\n/* harmony export */   \"updateWordElement\": () => (/* binding */ updateWordElement),\n/* harmony export */   \"lineJump\": () => (/* binding */ lineJump),\n/* harmony export */   \"arrangeCharactersRightToLeft\": () => (/* binding */ arrangeCharactersRightToLeft),\n/* harmony export */   \"arrangeCharactersLeftToRight\": () => (/* binding */ arrangeCharactersLeftToRight),\n/* harmony export */   \"toggleResultWords\": () => (/* binding */ toggleResultWords),\n/* harmony export */   \"applyBurstHeatmap\": () => (/* binding */ applyBurstHeatmap),\n/* harmony export */   \"highlightBadWord\": () => (/* binding */ highlightBadWord)\n/* harmony export */ });\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../elements/notifications */ \"./src/scripts/elements/notifications.ts\");\n/* harmony import */ var _elements_theme_colors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../elements/theme-colors */ \"./src/scripts/elements/theme-colors.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../db */ \"./src/scripts/db.ts\");\n/* harmony import */ var _test_words__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./test-words */ \"./src/scripts/test/test-words.ts\");\n/* harmony import */ var _test_input__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./test-input */ \"./src/scripts/test/test-input.ts\");\n/* harmony import */ var _custom_text__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./custom-text */ \"./src/scripts/test/custom-text.ts\");\n/* harmony import */ var _caret__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./caret */ \"./src/scripts/test/caret.ts\");\n/* harmony import */ var _out_of_focus__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./out-of-focus */ \"./src/scripts/test/out-of-focus.ts\");\n/* harmony import */ var _replay__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./replay */ \"./src/scripts/test/replay.ts\");\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _states_slow_timer__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../states/slow-timer */ \"./src/scripts/states/slow-timer.ts\");\n/* harmony import */ var _observables_config_event__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../observables/config-event */ \"./src/scripts/observables/config-event.ts\");\n/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! date-fns */ \"./node_modules/date-fns/esm/format/index.js\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../firebase */ \"./src/scripts/firebase.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n_observables_config_event__WEBPACK_IMPORTED_MODULE_12__.subscribe((eventKey, eventValue) => {\n    if (eventValue === undefined || typeof eventValue !== \"boolean\")\n        return;\n    if (eventKey === \"flipTestColors\")\n        flipColors(eventValue);\n    if (eventKey === \"colorfulMode\")\n        colorful(eventValue);\n    if (eventKey === \"highlightMode\")\n        updateWordElement(eventValue);\n    if (eventKey === \"burstHeatmap\")\n        applyBurstHeatmap();\n});\nlet currentWordElementIndex = 0;\nlet resultVisible = false;\nlet activeWordTop = 0;\nlet testRestarting = false;\nlet testRestartingPromise;\nlet lineTransition = false;\nlet currentTestLine = 0;\nlet resultCalculating = false;\nfunction setResultVisible(val) {\n    resultVisible = val;\n}\nfunction setCurrentWordElementIndex(val) {\n    currentWordElementIndex = val;\n}\nfunction setActiveWordTop(val) {\n    activeWordTop = val;\n}\nlet restartingResolve;\nfunction setTestRestarting(val) {\n    testRestarting = val;\n    if (val === true) {\n        testRestartingPromise = new Promise((resolve) => {\n            restartingResolve = resolve;\n        });\n    }\n    else {\n        if (restartingResolve)\n            restartingResolve();\n        restartingResolve = null;\n    }\n}\nfunction setResultCalculating(val) {\n    resultCalculating = val;\n}\nfunction reset() {\n    currentTestLine = 0;\n    currentWordElementIndex = 0;\n}\nfunction focusWords() {\n    if (!$(\"#wordsWrapper\").hasClass(\"hidden\")) {\n        $(\"#wordsInput\").trigger(\"focus\");\n    }\n}\nfunction updateActiveElement(backspace) {\n    const active = document.querySelector(\"#words .active\");\n    if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].mode == \"zen\" && backspace) {\n        active === null || active === void 0 ? void 0 : active.remove();\n    }\n    else if (active !== null) {\n        if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].highlightMode == \"word\") {\n            active.querySelectorAll(\"letter\").forEach((e) => {\n                e.classList.remove(\"correct\");\n            });\n        }\n        active.classList.remove(\"active\");\n    }\n    try {\n        const activeWord = document.querySelectorAll(\"#words .word\")[currentWordElementIndex];\n        activeWord.classList.add(\"active\");\n        activeWord.classList.remove(\"error\");\n        activeWordTop = document.querySelector(\"#words .active\")\n            .offsetTop;\n        if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].highlightMode == \"word\") {\n            activeWord.querySelectorAll(\"letter\").forEach((e) => {\n                e.classList.add(\"correct\");\n            });\n        }\n    }\n    catch (e) { }\n}\nfunction getWordHTML(word) {\n    let newlineafter = false;\n    let retval = `<div class='word'>`;\n    for (let c = 0; c < word.length; c++) {\n        if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].funbox === \"arrows\") {\n            if (word.charAt(c) === \"\") {\n                retval += `<letter><i class=\"fas fa-arrow-up\"></i></letter>`;\n            }\n            if (word.charAt(c) === \"\") {\n                retval += `<letter><i class=\"fas fa-arrow-down\"></i></letter>`;\n            }\n            if (word.charAt(c) === \"\") {\n                retval += `<letter><i class=\"fas fa-arrow-left\"></i></letter>`;\n            }\n            if (word.charAt(c) === \"\") {\n                retval += `<letter><i class=\"fas fa-arrow-right\"></i></letter>`;\n            }\n        }\n        else if (word.charAt(c) === \"\\t\") {\n            retval += `<letter class='tabChar'><i class=\"fas fa-long-arrow-alt-right\"></i></letter>`;\n        }\n        else if (word.charAt(c) === \"\\n\") {\n            newlineafter = true;\n            retval += `<letter class='nlChar'><i class=\"fas fa-angle-down\"></i></letter>`;\n        }\n        else {\n            retval += \"<letter>\" + word.charAt(c) + \"</letter>\";\n        }\n    }\n    retval += \"</div>\";\n    if (newlineafter)\n        retval += \"<div class='newline'></div>\";\n    return retval;\n}\nfunction showWords() {\n    $(\"#words\").empty();\n    let wordsHTML = \"\";\n    if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].mode !== \"zen\") {\n        for (let i = 0; i < _test_words__WEBPACK_IMPORTED_MODULE_4__.words.length; i++) {\n            wordsHTML += getWordHTML(_test_words__WEBPACK_IMPORTED_MODULE_4__.words.get(i));\n        }\n    }\n    else {\n        wordsHTML =\n            '<div class=\"word\">word height</div><div class=\"word active\"></div>';\n    }\n    $(\"#words\").html(wordsHTML);\n    $(\"#wordsWrapper\").removeClass(\"hidden\");\n    const wordHeight = ($(document.querySelector(\".word\")).outerHeight(true));\n    const wordsHeight = ($(document.querySelector(\"#words\")).outerHeight(true));\n    if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].showAllLines &&\n        _config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].mode != \"time\" &&\n        !(_custom_text__WEBPACK_IMPORTED_MODULE_6__.isWordRandom && _custom_text__WEBPACK_IMPORTED_MODULE_6__.word == 0) &&\n        !_custom_text__WEBPACK_IMPORTED_MODULE_6__.isTimeRandom) {\n        $(\"#words\").css(\"height\", \"auto\");\n        $(\"#wordsWrapper\").css(\"height\", \"auto\");\n        let nh = wordHeight * 3;\n        if (nh > wordsHeight) {\n            nh = wordsHeight;\n        }\n        $(\".outOfFocusWarning\").css(\"line-height\", nh + \"px\");\n    }\n    else {\n        $(\"#words\")\n            .css(\"height\", wordHeight * 4 + \"px\")\n            .css(\"overflow\", \"hidden\");\n        $(\"#wordsWrapper\")\n            .css(\"height\", wordHeight * 3 + \"px\")\n            .css(\"overflow\", \"hidden\");\n        $(\".outOfFocusWarning\").css(\"line-height\", wordHeight * 3 + \"px\");\n    }\n    if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].mode === \"zen\") {\n        $(document.querySelector(\".word\")).remove();\n    }\n    updateActiveElement();\n    _caret__WEBPACK_IMPORTED_MODULE_7__.updatePosition();\n}\nfunction addWord(word) {\n    $(\"#words\").append(getWordHTML(word));\n}\nfunction flipColors(tf) {\n    if (tf) {\n        $(\"#words\").addClass(\"flipped\");\n    }\n    else {\n        $(\"#words\").removeClass(\"flipped\");\n    }\n}\nfunction colorful(tc) {\n    if (tc) {\n        $(\"#words\").addClass(\"colorfulMode\");\n    }\n    else {\n        $(\"#words\").removeClass(\"colorfulMode\");\n    }\n}\nfunction screenshot() {\n    return __awaiter(this, void 0, void 0, function* () {\n        let revealReplay = false;\n        function revertScreenshot() {\n            $(\"#notificationCenter\").removeClass(\"hidden\");\n            $(\"#commandLineMobileButton\").removeClass(\"hidden\");\n            $(\".pageTest .ssWatermark\").addClass(\"hidden\");\n            $(\".pageTest .ssWatermark\").text(\"monkeytype.com\");\n            $(\".pageTest .buttons\").removeClass(\"hidden\");\n            if (revealReplay)\n                $(\"#resultReplay\").removeClass(\"hidden\");\n            if (_firebase__WEBPACK_IMPORTED_MODULE_13__.Auth.currentUser == null) {\n                $(\".pageTest .loginTip\").removeClass(\"hidden\");\n            }\n        }\n        if (!$(\"#resultReplay\").hasClass(\"hidden\")) {\n            revealReplay = true;\n            _replay__WEBPACK_IMPORTED_MODULE_9__.pauseReplay();\n        }\n        const dateNow = new Date(Date.now());\n        $(\"#resultReplay\").addClass(\"hidden\");\n        $(\".pageTest .ssWatermark\").removeClass(\"hidden\");\n        $(\".pageTest .ssWatermark\").text((0,date_fns__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(dateNow, \"dd MMM yyyy HH:mm\") + \" | monkeytype.com \");\n        if (_firebase__WEBPACK_IMPORTED_MODULE_13__.Auth.currentUser != null) {\n            $(\".pageTest .ssWatermark\").text(_db__WEBPACK_IMPORTED_MODULE_3__.getSnapshot().name +\n                \" | \" +\n                (0,date_fns__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(dateNow, \"dd MMM yyyy HH:mm\") +\n                \" | monkeytype.com  \");\n        }\n        $(\".pageTest .buttons\").addClass(\"hidden\");\n        const src = $(\"#middle\");\n        const sourceX = src.position().left; /*X position from div#target*/\n        const sourceY = src.position().top; /*Y position from div#target*/\n        const sourceWidth = (src.outerWidth(true)); /*clientWidth/offsetWidth from div#target*/\n        const sourceHeight = (src.outerHeight(true)); /*clientHeight/offsetHeight from div#target*/\n        $(\"#notificationCenter\").addClass(\"hidden\");\n        $(\"#commandLineMobileButton\").addClass(\"hidden\");\n        $(\".pageTest .loginTip\").addClass(\"hidden\");\n        try {\n            const paddingX = 50;\n            const paddingY = 25;\n            html2canvas(document.body, {\n                backgroundColor: yield _elements_theme_colors__WEBPACK_IMPORTED_MODULE_1__.get(\"bg\"),\n                width: sourceWidth + paddingX * 2,\n                height: sourceHeight + paddingY * 2,\n                x: sourceX - paddingX,\n                y: sourceY - paddingY,\n            }).then((canvas) => {\n                canvas.toBlob((blob) => {\n                    try {\n                        if (blob === null)\n                            return;\n                        if (navigator.userAgent.toLowerCase().indexOf(\"firefox\") > -1) {\n                            open(URL.createObjectURL(blob));\n                            revertScreenshot();\n                        }\n                        else {\n                            navigator.clipboard\n                                .write([\n                                new ClipboardItem(Object.defineProperty({}, blob.type, {\n                                    value: blob,\n                                    enumerable: true,\n                                })),\n                            ])\n                                .then(() => {\n                                _elements_notifications__WEBPACK_IMPORTED_MODULE_0__.add(\"Copied to clipboard\", 1, 2);\n                                revertScreenshot();\n                            });\n                        }\n                    }\n                    catch (e) {\n                        _elements_notifications__WEBPACK_IMPORTED_MODULE_0__.add(\"Error saving image to clipboard: \" + e.message, -1);\n                        revertScreenshot();\n                    }\n                });\n            });\n        }\n        catch (e) {\n            _elements_notifications__WEBPACK_IMPORTED_MODULE_0__.add(\"Error creating image: \" + e.message, -1);\n            revertScreenshot();\n        }\n        setTimeout(() => {\n            revertScreenshot();\n        }, 3000);\n    });\n}\nfunction updateWordElement(showError = !_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].blindMode) {\n    const input = _test_input__WEBPACK_IMPORTED_MODULE_5__.input.current;\n    const wordAtIndex = document.querySelector(\"#words .word.active\");\n    const currentWord = _test_words__WEBPACK_IMPORTED_MODULE_4__.words.getCurrent();\n    if (!currentWord && _config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].mode !== \"zen\")\n        return;\n    let ret = \"\";\n    let newlineafter = false;\n    if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].mode === \"zen\") {\n        for (let i = 0; i < _test_input__WEBPACK_IMPORTED_MODULE_5__.input.current.length; i++) {\n            if (_test_input__WEBPACK_IMPORTED_MODULE_5__.input.current[i] === \"\\t\") {\n                ret += `<letter class='tabChar correct' style=\"opacity: 0\"><i class=\"fas fa-long-arrow-alt-right\"></i></letter>`;\n            }\n            else if (_test_input__WEBPACK_IMPORTED_MODULE_5__.input.current[i] === \"\\n\") {\n                newlineafter = true;\n                ret += `<letter class='nlChar correct' style=\"opacity: 0\"><i class=\"fas fa-angle-down\"></i></letter>`;\n            }\n            else {\n                ret += `<letter class=\"correct\">${_test_input__WEBPACK_IMPORTED_MODULE_5__.input.current[i]}</letter>`;\n            }\n        }\n    }\n    else {\n        let correctSoFar = false;\n        // slice earlier if input has trailing compose characters\n        const inputWithoutComposeLength = _utils_misc__WEBPACK_IMPORTED_MODULE_10__.trailingComposeChars.test(input)\n            ? input.search(_utils_misc__WEBPACK_IMPORTED_MODULE_10__.trailingComposeChars)\n            : input.length;\n        if (input.search(_utils_misc__WEBPACK_IMPORTED_MODULE_10__.trailingComposeChars) < currentWord.length &&\n            currentWord.slice(0, inputWithoutComposeLength) ===\n                input.slice(0, inputWithoutComposeLength)) {\n            correctSoFar = true;\n        }\n        let wordHighlightClassString = correctSoFar ? \"correct\" : \"incorrect\";\n        if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].blindMode) {\n            wordHighlightClassString = \"correct\";\n        }\n        for (let i = 0; i < input.length; i++) {\n            const charCorrect = currentWord[i] == input[i];\n            let correctClass = \"correct\";\n            if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].highlightMode == \"off\") {\n                correctClass = \"\";\n            }\n            let currentLetter = currentWord[i];\n            let tabChar = \"\";\n            let nlChar = \"\";\n            if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].funbox === \"arrows\") {\n                if (currentLetter === \"\") {\n                    currentLetter = `<i class=\"fas fa-arrow-up\"></i>`;\n                }\n                if (currentLetter === \"\") {\n                    currentLetter = `<i class=\"fas fa-arrow-down\"></i>`;\n                }\n                if (currentLetter === \"\") {\n                    currentLetter = `<i class=\"fas fa-arrow-left\"></i>`;\n                }\n                if (currentLetter === \"\") {\n                    currentLetter = `<i class=\"fas fa-arrow-right\"></i>`;\n                }\n            }\n            else if (currentLetter === \"\\t\") {\n                tabChar = \"tabChar\";\n                currentLetter = `<i class=\"fas fa-long-arrow-alt-right\"></i>`;\n            }\n            else if (currentLetter === \"\\n\") {\n                nlChar = \"nlChar\";\n                currentLetter = `<i class=\"fas fa-angle-down\"></i>`;\n            }\n            if (_utils_misc__WEBPACK_IMPORTED_MODULE_10__.trailingComposeChars.test(input) &&\n                i > input.search(_utils_misc__WEBPACK_IMPORTED_MODULE_10__.trailingComposeChars)) {\n                continue;\n            }\n            if (charCorrect) {\n                ret += `<letter class=\"${_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].highlightMode == \"word\"\n                    ? wordHighlightClassString\n                    : correctClass} ${tabChar}${nlChar}\">${currentLetter}</letter>`;\n            }\n            else if (currentLetter !== undefined &&\n                _utils_misc__WEBPACK_IMPORTED_MODULE_10__.trailingComposeChars.test(input) &&\n                i === input.search(_utils_misc__WEBPACK_IMPORTED_MODULE_10__.trailingComposeChars)) {\n                ret += `<letter class=\"${_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].highlightMode == \"word\" ? wordHighlightClassString : \"\"} dead\">${currentLetter}</letter>`;\n            }\n            else if (!showError) {\n                if (currentLetter !== undefined) {\n                    ret += `<letter class=\"${_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].highlightMode == \"word\"\n                        ? wordHighlightClassString\n                        : correctClass} ${tabChar}${nlChar}\">${currentLetter}</letter>`;\n                }\n            }\n            else if (currentLetter === undefined) {\n                if (!_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].hideExtraLetters) {\n                    let letter = input[i];\n                    if (letter == \" \" || letter == \"\\t\" || letter == \"\\n\") {\n                        letter = \"_\";\n                    }\n                    ret += `<letter class=\"${_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].highlightMode == \"word\"\n                        ? wordHighlightClassString\n                        : \"incorrect\"} extra ${tabChar}${nlChar}\">${letter}</letter>`;\n                }\n            }\n            else {\n                ret +=\n                    `<letter class=\"${_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].highlightMode == \"word\"\n                        ? wordHighlightClassString\n                        : \"incorrect\"} ${tabChar}${nlChar}\">` +\n                        (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].indicateTypos === \"replace\"\n                            ? input[i] == \" \"\n                                ? \"_\"\n                                : input[i]\n                            : currentLetter) +\n                        (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].indicateTypos === \"below\" ? `<hint>${input[i]}</hint>` : \"\") +\n                        \"</letter>\";\n            }\n        }\n        const inputWithSingleComposeLength = _utils_misc__WEBPACK_IMPORTED_MODULE_10__.trailingComposeChars.test(input)\n            ? input.search(_utils_misc__WEBPACK_IMPORTED_MODULE_10__.trailingComposeChars) + 1\n            : input.length;\n        if (inputWithSingleComposeLength < currentWord.length) {\n            for (let i = inputWithSingleComposeLength; i < currentWord.length; i++) {\n                if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].funbox === \"arrows\") {\n                    if (currentWord[i] === \"\") {\n                        ret += `<letter><i class=\"fas fa-arrow-up\"></i></letter>`;\n                    }\n                    if (currentWord[i] === \"\") {\n                        ret += `<letter><i class=\"fas fa-arrow-down\"></i></letter>`;\n                    }\n                    if (currentWord[i] === \"\") {\n                        ret += `<letter><i class=\"fas fa-arrow-left\"></i></letter>`;\n                    }\n                    if (currentWord[i] === \"\") {\n                        ret += `<letter><i class=\"fas fa-arrow-right\"></i></letter>`;\n                    }\n                }\n                else if (currentWord[i] === \"\\t\") {\n                    ret += `<letter class='tabChar'><i class=\"fas fa-long-arrow-alt-right\"></i></letter>`;\n                }\n                else if (currentWord[i] === \"\\n\") {\n                    ret += `<letter class='nlChar'><i class=\"fas fa-angle-down\"></i></letter>`;\n                }\n                else {\n                    ret +=\n                        `<letter class=\"${_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].highlightMode == \"word\" ? wordHighlightClassString : \"\"}\">` +\n                            currentWord[i] +\n                            \"</letter>\";\n                }\n            }\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].highlightMode === \"letter\" && _config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].hideExtraLetters) {\n            if (input.length > currentWord.length && !_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].blindMode) {\n                $(wordAtIndex).addClass(\"error\");\n            }\n            else if (input.length == currentWord.length) {\n                $(wordAtIndex).removeClass(\"error\");\n            }\n        }\n    }\n    wordAtIndex.innerHTML = ret;\n    if (newlineafter)\n        $(\"#words\").append(\"<div class='newline'></div>\");\n}\nfunction lineJump(currentTop) {\n    var _a;\n    //last word of the line\n    if (currentTestLine > 0) {\n        const hideBound = currentTop;\n        const toHide = [];\n        const wordElements = $(\"#words .word\");\n        for (let i = 0; i < currentWordElementIndex; i++) {\n            if ($(wordElements[i]).hasClass(\"hidden\"))\n                continue;\n            const forWordTop = Math.floor(wordElements[i].offsetTop);\n            if (forWordTop < hideBound - 10) {\n                toHide.push($($(\"#words .word\")[i]));\n            }\n        }\n        const wordHeight = ($(document.querySelector(\".word\")).outerHeight(true));\n        if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].smoothLineScroll && toHide.length > 0) {\n            lineTransition = true;\n            $(\"#words\").prepend(`<div class=\"smoothScroller\" style=\"position: fixed;height:${wordHeight}px;width:100%\"></div>`);\n            $(\"#words .smoothScroller\").animate({\n                height: 0,\n            }, _states_slow_timer__WEBPACK_IMPORTED_MODULE_11__.get() ? 0 : 125, () => {\n                $(\"#words .smoothScroller\").remove();\n            });\n            $(\"#paceCaret\").animate({\n                top: ((_a = document.querySelector(\"#paceCaret\")) === null || _a === void 0 ? void 0 : _a.offsetTop) -\n                    wordHeight,\n            }, _states_slow_timer__WEBPACK_IMPORTED_MODULE_11__.get() ? 0 : 125);\n            $(\"#words\").animate({\n                marginTop: `-${wordHeight}px`,\n            }, _states_slow_timer__WEBPACK_IMPORTED_MODULE_11__.get() ? 0 : 125, () => {\n                activeWordTop = (document.querySelector(\"#words .active\")).offsetTop;\n                currentWordElementIndex -= toHide.length;\n                lineTransition = false;\n                toHide.forEach((el) => el.remove());\n                $(\"#words\").css(\"marginTop\", \"0\");\n            });\n        }\n        else {\n            toHide.forEach((el) => el.remove());\n            currentWordElementIndex -= toHide.length;\n            $(\"#paceCaret\").css({\n                top: document.querySelector(\"#paceCaret\").offsetTop -\n                    wordHeight,\n            });\n        }\n    }\n    currentTestLine++;\n}\nfunction arrangeCharactersRightToLeft() {\n    $(\"#words\").addClass(\"rightToLeftTest\");\n    $(\"#resultWordsHistory .words\").addClass(\"rightToLeftTest\");\n    $(\"#resultReplay .words\").addClass(\"rightToLeftTest\");\n}\nfunction arrangeCharactersLeftToRight() {\n    $(\"#words\").removeClass(\"rightToLeftTest\");\n    $(\"#resultWordsHistory .words\").removeClass(\"rightToLeftTest\");\n    $(\"#resultReplay .words\").removeClass(\"rightToLeftTest\");\n}\nfunction loadWordsHistory() {\n    return __awaiter(this, void 0, void 0, function* () {\n        $(\"#resultWordsHistory .words\").empty();\n        let wordsHTML = \"\";\n        for (let i = 0; i < _test_input__WEBPACK_IMPORTED_MODULE_5__.input.history.length + 2; i++) {\n            const input = _test_input__WEBPACK_IMPORTED_MODULE_5__.input.getHistory(i);\n            const word = _test_words__WEBPACK_IMPORTED_MODULE_4__.words.get(i);\n            let wordEl = \"\";\n            try {\n                if (input === \"\")\n                    throw new Error(\"empty input word\");\n                if (_test_input__WEBPACK_IMPORTED_MODULE_5__.corrected.getHistory(i) !== undefined &&\n                    _test_input__WEBPACK_IMPORTED_MODULE_5__.corrected.getHistory(i) !== \"\") {\n                    wordEl = `<div class='word' burst=\"${_test_input__WEBPACK_IMPORTED_MODULE_5__.burstHistory[i]}\" input=\"${_test_input__WEBPACK_IMPORTED_MODULE_5__.corrected.getHistory(i)\n                        .replace(/\"/g, \"&quot;\")\n                        .replace(/ /g, \"_\")}\">`;\n                }\n                else {\n                    wordEl = `<div class='word' burst=\"${_test_input__WEBPACK_IMPORTED_MODULE_5__.burstHistory[i]}\" input=\"${input.replace(/\"/g, \"&quot;\").replace(/ /g, \"_\")}\">`;\n                }\n                if (i === _test_input__WEBPACK_IMPORTED_MODULE_5__.input.history.length - 1) {\n                    //last word\n                    const wordstats = {\n                        correct: 0,\n                        incorrect: 0,\n                        missed: 0,\n                    };\n                    const length = _config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].mode == \"zen\" ? input.length : word.length;\n                    for (let c = 0; c < length; c++) {\n                        if (c < input.length) {\n                            //on char that still has a word list pair\n                            if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].mode == \"zen\" || input[c] == word[c]) {\n                                wordstats.correct++;\n                            }\n                            else {\n                                wordstats.incorrect++;\n                            }\n                        }\n                        else {\n                            //on char that is extra\n                            wordstats.missed++;\n                        }\n                    }\n                    if (wordstats.incorrect !== 0 || _config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].mode !== \"time\") {\n                        if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].mode != \"zen\" && input !== word) {\n                            wordEl = `<div class='word error' burst=\"${_test_input__WEBPACK_IMPORTED_MODULE_5__.burstHistory[i]}\" input=\"${input.replace(/\"/g, \"&quot;\").replace(/ /g, \"_\")}\">`;\n                        }\n                    }\n                }\n                else {\n                    if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].mode != \"zen\" && input !== word) {\n                        wordEl = `<div class='word error' burst=\"${_test_input__WEBPACK_IMPORTED_MODULE_5__.burstHistory[i]}\" input=\"${input.replace(/\"/g, \"&quot;\").replace(/ /g, \"_\")}\">`;\n                    }\n                }\n                let loop;\n                if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].mode == \"zen\" || input.length > word.length) {\n                    //input is longer - extra characters possible (loop over input)\n                    loop = input.length;\n                }\n                else {\n                    //input is shorter or equal (loop over word list)\n                    loop = word.length;\n                }\n                for (let c = 0; c < loop; c++) {\n                    let correctedChar;\n                    try {\n                        correctedChar = _test_input__WEBPACK_IMPORTED_MODULE_5__.corrected.getHistory(i)[c];\n                    }\n                    catch (e) {\n                        correctedChar = undefined;\n                    }\n                    let extraCorrected = \"\";\n                    if (c + 1 === loop &&\n                        _test_input__WEBPACK_IMPORTED_MODULE_5__.corrected.getHistory(i) !== undefined &&\n                        _test_input__WEBPACK_IMPORTED_MODULE_5__.corrected.getHistory(i).length > input.length) {\n                        extraCorrected = \"extraCorrected\";\n                    }\n                    if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].mode == \"zen\" || word[c] !== undefined) {\n                        if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].mode == \"zen\" || input[c] === word[c]) {\n                            if (correctedChar === input[c] || correctedChar === undefined) {\n                                wordEl += `<letter class=\"correct ${extraCorrected}\">${input[c]}</letter>`;\n                            }\n                            else {\n                                wordEl +=\n                                    `<letter class=\"corrected ${extraCorrected}\">` +\n                                        input[c] +\n                                        \"</letter>\";\n                            }\n                        }\n                        else {\n                            if (input[c] === _test_input__WEBPACK_IMPORTED_MODULE_5__.input.current) {\n                                wordEl +=\n                                    `<letter class='correct ${extraCorrected}'>` +\n                                        word[c] +\n                                        \"</letter>\";\n                            }\n                            else if (input[c] === undefined) {\n                                wordEl += \"<letter>\" + word[c] + \"</letter>\";\n                            }\n                            else {\n                                wordEl +=\n                                    `<letter class=\"incorrect ${extraCorrected}\">` +\n                                        word[c] +\n                                        \"</letter>\";\n                            }\n                        }\n                    }\n                    else {\n                        wordEl += '<letter class=\"incorrect extra\">' + input[c] + \"</letter>\";\n                    }\n                }\n                wordEl += \"</div>\";\n            }\n            catch (e) {\n                try {\n                    wordEl = \"<div class='word'>\";\n                    for (let c = 0; c < word.length; c++) {\n                        wordEl += \"<letter>\" + word[c] + \"</letter>\";\n                    }\n                    wordEl += \"</div>\";\n                }\n                catch (_a) { }\n            }\n            wordsHTML += wordEl;\n        }\n        $(\"#resultWordsHistory .words\").html(wordsHTML);\n        $(\"#showWordHistoryButton\").addClass(\"loaded\");\n        return true;\n    });\n}\nfunction toggleResultWords() {\n    if (resultVisible) {\n        if ($(\"#resultWordsHistory\").stop(true, true).hasClass(\"hidden\")) {\n            //show\n            if (!$(\"#showWordHistoryButton\").hasClass(\"loaded\")) {\n                $(\"#words\").html(`<div class=\"preloader\"><i class=\"fas fa-fw fa-spin fa-circle-notch\"></i></div>`);\n                loadWordsHistory().then(() => {\n                    if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].burstHeatmap) {\n                        applyBurstHeatmap();\n                    }\n                    $(\"#resultWordsHistory\")\n                        .removeClass(\"hidden\")\n                        .css(\"display\", \"none\")\n                        .slideDown(250, () => {\n                        if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].burstHeatmap) {\n                            applyBurstHeatmap();\n                        }\n                    });\n                });\n            }\n            else {\n                if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].burstHeatmap) {\n                    applyBurstHeatmap();\n                }\n                $(\"#resultWordsHistory\")\n                    .removeClass(\"hidden\")\n                    .css(\"display\", \"none\")\n                    .slideDown(250);\n            }\n        }\n        else {\n            //hide\n            $(\"#resultWordsHistory\").slideUp(250, () => {\n                $(\"#resultWordsHistory\").addClass(\"hidden\");\n            });\n        }\n    }\n}\nfunction applyBurstHeatmap() {\n    var _a, _b;\n    if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].burstHeatmap) {\n        $(\"#resultWordsHistory .heatmapLegend\").removeClass(\"hidden\");\n        let burstlist = [..._test_input__WEBPACK_IMPORTED_MODULE_5__.burstHistory];\n        burstlist = burstlist.filter((x) => x !== Infinity);\n        burstlist = burstlist.filter((x) => x < 350);\n        if (((_a = _test_input__WEBPACK_IMPORTED_MODULE_5__.input.getHistory(_test_input__WEBPACK_IMPORTED_MODULE_5__.input.getHistory().length - 1)) === null || _a === void 0 ? void 0 : _a.length) !== ((_b = _test_words__WEBPACK_IMPORTED_MODULE_4__.words.getCurrent()) === null || _b === void 0 ? void 0 : _b.length)) {\n            burstlist = burstlist.splice(0, burstlist.length - 1);\n        }\n        const median = _utils_misc__WEBPACK_IMPORTED_MODULE_10__.median(burstlist);\n        const adatm = [];\n        burstlist.forEach((burst) => {\n            adatm.push(Math.abs(median - burst));\n        });\n        const step = _utils_misc__WEBPACK_IMPORTED_MODULE_10__.mean(adatm);\n        const steps = [\n            {\n                val: 0,\n                class: \"heatmap-0\",\n            },\n            {\n                val: median - step * 1.5,\n                class: \"heatmap-1\",\n            },\n            {\n                val: median - step * 0.5,\n                class: \"heatmap-2\",\n            },\n            {\n                val: median + step * 0.5,\n                class: \"heatmap-3\",\n            },\n            {\n                val: median + step * 1.5,\n                class: \"heatmap-4\",\n            },\n        ];\n        $(\"#resultWordsHistory .words .word\").each((_, word) => {\n            const wordBurstVal = parseInt($(word).attr(\"burst\"));\n            let cls = \"\";\n            steps.forEach((step) => {\n                if (wordBurstVal > step.val)\n                    cls = step.class;\n            });\n            $(word).addClass(cls);\n        });\n    }\n    else {\n        $(\"#resultWordsHistory .heatmapLegend\").addClass(\"hidden\");\n        $(\"#resultWordsHistory .words .word\").removeClass(\"heatmap-0\");\n        $(\"#resultWordsHistory .words .word\").removeClass(\"heatmap-1\");\n        $(\"#resultWordsHistory .words .word\").removeClass(\"heatmap-2\");\n        $(\"#resultWordsHistory .words .word\").removeClass(\"heatmap-3\");\n        $(\"#resultWordsHistory .words .word\").removeClass(\"heatmap-4\");\n    }\n}\nfunction highlightBadWord(index, showError) {\n    if (!showError)\n        return;\n    $($(\"#words .word\")[index]).addClass(\"error\");\n}\n$(document.body).on(\"click\", \"#saveScreenshotButton\", () => {\n    screenshot();\n});\n$(document).on(\"click\", \"#testModesNotice .text-button.blind\", () => {\n    _config__WEBPACK_IMPORTED_MODULE_2__.setBlindMode(!_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].blindMode);\n});\n$(\".pageTest #copyWordsListButton\").on(\"click\", () => __awaiter(void 0, void 0, void 0, function* () {\n    try {\n        let words;\n        if (_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].mode == \"zen\") {\n            words = _test_input__WEBPACK_IMPORTED_MODULE_5__.input.history.join(\" \");\n        }\n        else {\n            words = _test_words__WEBPACK_IMPORTED_MODULE_4__.words.get()\n                .slice(0, _test_input__WEBPACK_IMPORTED_MODULE_5__.input.history.length)\n                .join(\" \");\n        }\n        yield navigator.clipboard.writeText(words);\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_0__.add(\"Copied to clipboard\", 0, 2);\n    }\n    catch (e) {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_0__.add(\"Could not copy to clipboard: \" + e, -1);\n    }\n}));\n$(\".pageTest #toggleBurstHeatmap\").on(\"click\", () => __awaiter(void 0, void 0, void 0, function* () {\n    _config__WEBPACK_IMPORTED_MODULE_2__.setBurstHeatmap(!_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].burstHeatmap);\n}));\n$(document).on(\"mouseleave\", \"#resultWordsHistory .words .word\", () => {\n    $(\".wordInputAfter\").remove();\n});\n$(\"#wpmChart\").on(\"mouseleave\", () => {\n    $(\".wordInputAfter\").remove();\n});\n$(document).on(\"mouseenter\", \"#resultWordsHistory .words .word\", (e) => {\n    if (resultVisible) {\n        const input = $(e.currentTarget).attr(\"input\");\n        const burst = parseInt($(e.currentTarget).attr(\"burst\"));\n        if (input != undefined) {\n            $(e.currentTarget).append(`<div class=\"wordInputAfter\">\n          <div class=\"text\">\n          ${input\n                .replace(/\\t/g, \"_\")\n                .replace(/\\n/g, \"_\")\n                .replace(/</g, \"&lt\")\n                .replace(/>/g, \"&gt\")}\n          </div>\n          <div class=\"speed\">\n          ${Math.round(_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].alwaysShowCPM ? burst * 5 : burst)}${_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].alwaysShowCPM ? \"cpm\" : \"wpm\"}\n          </div>\n          </div>`);\n        }\n    }\n});\n$(\"#wordsInput\").on(\"focus\", () => {\n    if (!resultVisible && _config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].showOutOfFocusWarning) {\n        _out_of_focus__WEBPACK_IMPORTED_MODULE_8__.hide();\n    }\n    _caret__WEBPACK_IMPORTED_MODULE_7__.show();\n});\n$(\"#wordsInput\").on(\"focusout\", () => {\n    if (!resultVisible && _config__WEBPACK_IMPORTED_MODULE_2__[\"default\"].showOutOfFocusWarning) {\n        _out_of_focus__WEBPACK_IMPORTED_MODULE_8__.show();\n    }\n    _caret__WEBPACK_IMPORTED_MODULE_7__.hide();\n});\n$(document).on(\"keypress\", \"#showWordHistoryButton\", (event) => {\n    if (event.key === \"Enter\") {\n        toggleResultWords();\n    }\n});\n$(document.body).on(\"click\", \"#showWordHistoryButton\", () => {\n    toggleResultWords();\n});\n$(\"#wordsWrapper\").on(\"click\", () => {\n    focusWords();\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/test-ui.ts?");

/***/ }),

/***/ "./src/scripts/test/test-words.ts":
/*!****************************************!*\
  !*** ./src/scripts/test/test-words.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"words\": () => (/* binding */ words),\n/* harmony export */   \"hasTab\": () => (/* binding */ hasTab),\n/* harmony export */   \"randomQuote\": () => (/* binding */ randomQuote),\n/* harmony export */   \"setRandomQuote\": () => (/* binding */ setRandomQuote),\n/* harmony export */   \"setHasTab\": () => (/* binding */ setHasTab)\n/* harmony export */ });\nclass Words {\n    constructor() {\n        this.list = [];\n        this.length = 0;\n        this.currentIndex = 0;\n    }\n    get(i, raw = false) {\n        var _a, _b;\n        if (i === undefined) {\n            return this.list;\n        }\n        else {\n            if (raw) {\n                return (_b = (_a = this.list[i]) === null || _a === void 0 ? void 0 : _a.replace(/[.?!\":\\-,]/g, \"\")) === null || _b === void 0 ? void 0 : _b.toLowerCase();\n            }\n            else {\n                return this.list[i];\n            }\n        }\n    }\n    getCurrent() {\n        return this.list[this.currentIndex];\n    }\n    getLast() {\n        return this.list[this.list.length - 1];\n    }\n    push(word) {\n        this.list.push(word);\n        this.length = this.list.length;\n    }\n    reset() {\n        this.list = [];\n        this.currentIndex = 0;\n        this.length = this.list.length;\n    }\n    resetCurrentIndex() {\n        this.currentIndex = 0;\n    }\n    decreaseCurrentIndex() {\n        this.currentIndex--;\n    }\n    increaseCurrentIndex() {\n        this.currentIndex++;\n    }\n    clean() {\n        for (const s of this.list) {\n            if (/ +/.test(s)) {\n                const id = this.list.indexOf(s);\n                const tempList = s.split(\" \");\n                this.list.splice(id, 1);\n                for (let i = 0; i < tempList.length; i++) {\n                    this.list.splice(id + i, 0, tempList[i]);\n                }\n            }\n        }\n    }\n}\nconst words = new Words();\nlet hasTab = false;\nlet randomQuote = null;\nfunction setRandomQuote(rq) {\n    randomQuote = rq;\n}\nfunction setHasTab(tf) {\n    hasTab = tf;\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/test-words.ts?");

/***/ }),

/***/ "./src/scripts/test/timer-progress.ts":
/*!********************************************!*\
  !*** ./src/scripts/test/timer-progress.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"show\": () => (/* binding */ show),\n/* harmony export */   \"hide\": () => (/* binding */ hide),\n/* harmony export */   \"restart\": () => (/* binding */ restart),\n/* harmony export */   \"update\": () => (/* binding */ update),\n/* harmony export */   \"updateStyle\": () => (/* binding */ updateStyle)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _custom_text__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./custom-text */ \"./src/scripts/test/custom-text.ts\");\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _test_words__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./test-words */ \"./src/scripts/test/test-words.ts\");\n/* harmony import */ var _test_input__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./test-input */ \"./src/scripts/test/test-input.ts\");\n/* harmony import */ var _states_time__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../states/time */ \"./src/scripts/states/time.ts\");\n/* harmony import */ var _states_slow_timer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../states/slow-timer */ \"./src/scripts/states/slow-timer.ts\");\n/* harmony import */ var _states_test_active__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../states/test-active */ \"./src/scripts/states/test-active.ts\");\n/* harmony import */ var _observables_config_event__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../observables/config-event */ \"./src/scripts/observables/config-event.ts\");\n\n\n\n\n\n\n\n\n\nfunction show() {\n    const op = _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].showTimerProgress ? _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timerOpacity : 0;\n    if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode != \"zen\" && _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timerStyle === \"bar\") {\n        $(\"#timerWrapper\").stop(true, true).removeClass(\"hidden\").animate({\n            opacity: op,\n        }, 125);\n    }\n    else if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timerStyle === \"text\") {\n        $(\"#timerNumber\")\n            .stop(true, true)\n            .removeClass(\"hidden\")\n            .css(\"opacity\", 0)\n            .animate({\n            opacity: op,\n        }, 125);\n    }\n    else if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode == \"zen\" || _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timerStyle === \"mini\") {\n        if (op > 0) {\n            $(\"#miniTimerAndLiveWpm .time\")\n                .stop(true, true)\n                .removeClass(\"hidden\")\n                .animate({\n                opacity: op,\n            }, 125);\n        }\n    }\n}\nfunction hide() {\n    $(\"#timerWrapper\").stop(true, true).animate({\n        opacity: 0,\n    }, 125);\n    $(\"#miniTimerAndLiveWpm .time\")\n        .stop(true, true)\n        .animate({\n        opacity: 0,\n    }, 125, () => {\n        $(\"#miniTimerAndLiveWpm .time\").addClass(\"hidden\");\n    });\n    $(\"#timerNumber\").stop(true, true).animate({\n        opacity: 0,\n    }, 125);\n}\nfunction restart() {\n    if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timerStyle === \"bar\") {\n        if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode === \"time\") {\n            $(\"#timer\").stop(true, true).animate({\n                width: \"100vw\",\n            }, 0);\n        }\n        else if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode === \"words\" || _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode === \"custom\") {\n            $(\"#timer\").stop(true, true).animate({\n                width: \"0vw\",\n            }, 0);\n        }\n    }\n}\nconst timerNumberElement = document.querySelector(\"#timerNumber\");\nconst miniTimerNumberElement = document.querySelector(\"#miniTimerAndLiveWpm .time\");\nfunction update() {\n    var _a, _b, _c;\n    const time = _states_time__WEBPACK_IMPORTED_MODULE_5__.get();\n    if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode === \"time\" ||\n        (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode === \"custom\" && _custom_text__WEBPACK_IMPORTED_MODULE_1__.isTimeRandom)) {\n        let maxtime = _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].time;\n        if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode === \"custom\" && _custom_text__WEBPACK_IMPORTED_MODULE_1__.isTimeRandom) {\n            maxtime = _custom_text__WEBPACK_IMPORTED_MODULE_1__.time;\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timerStyle === \"bar\") {\n            const percent = 100 - ((time + 1) / maxtime) * 100;\n            $(\"#timer\")\n                .stop(true, true)\n                .animate({\n                width: percent + \"vw\",\n            }, _states_slow_timer__WEBPACK_IMPORTED_MODULE_6__.get() ? 0 : 1000, \"linear\");\n        }\n        else if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timerStyle === \"text\") {\n            let displayTime = _utils_misc__WEBPACK_IMPORTED_MODULE_2__.secondsToString(maxtime - time);\n            if (maxtime === 0) {\n                displayTime = _utils_misc__WEBPACK_IMPORTED_MODULE_2__.secondsToString(time);\n            }\n            if (timerNumberElement !== null) {\n                timerNumberElement.innerHTML = \"<div>\" + displayTime + \"</div>\";\n            }\n        }\n        else if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timerStyle === \"mini\") {\n            let displayTime = _utils_misc__WEBPACK_IMPORTED_MODULE_2__.secondsToString(maxtime - time);\n            if (maxtime === 0) {\n                displayTime = _utils_misc__WEBPACK_IMPORTED_MODULE_2__.secondsToString(time);\n            }\n            if (miniTimerNumberElement !== null) {\n                miniTimerNumberElement.innerHTML = displayTime;\n            }\n        }\n    }\n    else if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode === \"words\" ||\n        _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode === \"custom\" ||\n        _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode === \"quote\") {\n        let outof = _test_words__WEBPACK_IMPORTED_MODULE_3__.words.length;\n        if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode === \"words\") {\n            outof = _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].words;\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode === \"custom\") {\n            if (_custom_text__WEBPACK_IMPORTED_MODULE_1__.isWordRandom) {\n                outof = _custom_text__WEBPACK_IMPORTED_MODULE_1__.word;\n            }\n            else {\n                outof = _custom_text__WEBPACK_IMPORTED_MODULE_1__.text.length;\n            }\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode === \"quote\") {\n            outof = (_c = (_b = (_a = _test_words__WEBPACK_IMPORTED_MODULE_3__.randomQuote) === null || _a === void 0 ? void 0 : _a.textSplit) === null || _b === void 0 ? void 0 : _b.length) !== null && _c !== void 0 ? _c : 1;\n        }\n        if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timerStyle === \"bar\") {\n            const percent = Math.floor(((_test_words__WEBPACK_IMPORTED_MODULE_3__.words.currentIndex + 1) / outof) * 100);\n            $(\"#timer\")\n                .stop(true, true)\n                .animate({\n                width: percent + \"vw\",\n            }, _states_slow_timer__WEBPACK_IMPORTED_MODULE_6__.get() ? 0 : 250);\n        }\n        else if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timerStyle === \"text\") {\n            if (outof === 0) {\n                if (timerNumberElement !== null) {\n                    timerNumberElement.innerHTML =\n                        \"<div>\" + `${_test_input__WEBPACK_IMPORTED_MODULE_4__.input.history.length}` + \"</div>\";\n                }\n            }\n            else {\n                if (timerNumberElement !== null) {\n                    timerNumberElement.innerHTML =\n                        \"<div>\" + `${_test_input__WEBPACK_IMPORTED_MODULE_4__.input.history.length}/${outof}` + \"</div>\";\n                }\n            }\n        }\n        else if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timerStyle === \"mini\") {\n            if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].words === 0) {\n                if (miniTimerNumberElement !== null) {\n                    miniTimerNumberElement.innerHTML = `${_test_input__WEBPACK_IMPORTED_MODULE_4__.input.history.length}`;\n                }\n            }\n            else {\n                if (miniTimerNumberElement !== null) {\n                    miniTimerNumberElement.innerHTML = `${_test_input__WEBPACK_IMPORTED_MODULE_4__.input.history.length}/${outof}`;\n                }\n            }\n        }\n    }\n    else if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode == \"zen\") {\n        if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timerStyle === \"text\") {\n            if (timerNumberElement !== null) {\n                timerNumberElement.innerHTML =\n                    \"<div>\" + `${_test_input__WEBPACK_IMPORTED_MODULE_4__.input.history.length}` + \"</div>\";\n            }\n        }\n        else {\n            if (miniTimerNumberElement !== null) {\n                miniTimerNumberElement.innerHTML = `${_test_input__WEBPACK_IMPORTED_MODULE_4__.input.history.length}`;\n            }\n        }\n    }\n}\nfunction updateStyle() {\n    if (!_states_test_active__WEBPACK_IMPORTED_MODULE_7__.get())\n        return;\n    hide();\n    update();\n    setTimeout(() => {\n        show();\n    }, 125);\n}\n_observables_config_event__WEBPACK_IMPORTED_MODULE_8__.subscribe((eventKey, eventValue) => {\n    if (eventKey === \"showTimerProgress\") {\n        if (eventValue === true && _states_test_active__WEBPACK_IMPORTED_MODULE_7__.get()) {\n            show();\n        }\n        else {\n            hide();\n        }\n    }\n    if (eventKey === \"timerStyle\")\n        updateStyle();\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/timer-progress.ts?");

/***/ }),

/***/ "./src/scripts/test/today-tracker.ts":
/*!*******************************************!*\
  !*** ./src/scripts/test/today-tracker.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"addSeconds\": () => (/* binding */ addSeconds),\n/* harmony export */   \"getString\": () => (/* binding */ getString),\n/* harmony export */   \"addAllFromToday\": () => (/* binding */ addAllFromToday)\n/* harmony export */ });\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../db */ \"./src/scripts/db.ts\");\n\n\nlet seconds = 0;\nlet addedAllToday = false;\nlet dayToday;\nfunction addSeconds(s) {\n    if (addedAllToday) {\n        const nowDate = new Date().getDate();\n        if (nowDate > dayToday) {\n            seconds = s;\n            return;\n        }\n    }\n    seconds += s;\n}\nfunction getString() {\n    const secString = _utils_misc__WEBPACK_IMPORTED_MODULE_0__.secondsToString(Math.round(seconds), true, true);\n    return secString + (addedAllToday === true ? \" today\" : \" session\");\n}\nfunction addAllFromToday() {\n    const todayDate = new Date();\n    todayDate.setSeconds(0);\n    todayDate.setMinutes(0);\n    todayDate.setHours(0);\n    todayDate.setMilliseconds(0);\n    dayToday = todayDate.getDate();\n    const todayDateMS = todayDate.getTime();\n    seconds = 0;\n    const results = _db__WEBPACK_IMPORTED_MODULE_1__.getSnapshot().results;\n    results === null || results === void 0 ? void 0 : results.forEach((result) => {\n        const resultDate = new Date(result.timestamp);\n        resultDate.setSeconds(0);\n        resultDate.setMinutes(0);\n        resultDate.setHours(0);\n        resultDate.setMilliseconds(0);\n        const resultDateMS = resultDate.getTime();\n        if (resultDateMS >= todayDateMS) {\n            seconds +=\n                result.testDuration + result.incompleteTestSeconds - result.afkDuration;\n        }\n    });\n    addedAllToday = true;\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/today-tracker.ts?");

/***/ }),

/***/ "./src/scripts/test/tts.ts":
/*!*********************************!*\
  !*** ./src/scripts/test/tts.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"setLanguage\": () => (/* binding */ setLanguage),\n/* harmony export */   \"init\": () => (/* binding */ init),\n/* harmony export */   \"clear\": () => (/* binding */ clear),\n/* harmony export */   \"speak\": () => (/* binding */ speak)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _observables_config_event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../observables/config-event */ \"./src/scripts/observables/config-event.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\nlet voice;\nfunction setLanguage(lang = _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].language) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!voice)\n            return;\n        const language = yield _utils_misc__WEBPACK_IMPORTED_MODULE_1__.getLanguage(lang);\n        const bcp = language.bcp47 ? language.bcp47 : \"en-US\";\n        voice.lang = bcp;\n    });\n}\nfunction init() {\n    return __awaiter(this, void 0, void 0, function* () {\n        voice = new SpeechSynthesisUtterance();\n        setLanguage();\n    });\n}\nfunction clear() {\n    voice = undefined;\n}\nfunction speak(text) {\n    window.speechSynthesis.cancel();\n    if (voice === undefined)\n        init();\n    if (voice !== undefined) {\n        voice.text = text;\n        window.speechSynthesis.speak(voice);\n    }\n}\n_observables_config_event__WEBPACK_IMPORTED_MODULE_2__.subscribe((eventKey, eventValue) => {\n    if (eventKey === \"funbox\") {\n        if (eventValue === \"none\") {\n            clear();\n        }\n        else if (eventValue === \"tts\") {\n            init();\n        }\n    }\n    if (eventKey === \"language\" && _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].funbox === \"tts\")\n        setLanguage();\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/tts.ts?");

/***/ }),

/***/ "./src/scripts/test/weak-spot.ts":
/*!***************************************!*\
  !*** ./src/scripts/test/weak-spot.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"updateScore\": () => (/* binding */ updateScore),\n/* harmony export */   \"getWord\": () => (/* binding */ getWord)\n/* harmony export */ });\n/* harmony import */ var _test_input__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./test-input */ \"./src/scripts/test/test-input.ts\");\n\n// Changes how quickly it 'learns' scores - very roughly the score for a char\n// is based on last perCharCount occurrences. Make it smaller to adjust faster.\nconst perCharCount = 50;\n// Choose the highest scoring word from this many random words. Higher values\n// will choose words with more weak letters on average.\nconst wordSamples = 20;\n// Score penatly (in milliseconds) for getting a letter wrong.\nconst incorrectPenalty = 5000;\nconst scores = {};\nclass Score {\n    constructor() {\n        this.average = 0.0;\n        this.count = 0;\n    }\n    update(score) {\n        if (this.count < perCharCount) {\n            this.count++;\n        }\n        const adjustRate = 1.0 / this.count;\n        // Keep an exponential moving average of the score over time.\n        this.average = score * adjustRate + this.average * (1 - adjustRate);\n    }\n}\nfunction updateScore(char, isCorrect) {\n    const timings = _test_input__WEBPACK_IMPORTED_MODULE_0__.keypressTimings.spacing.array;\n    if (timings.length === 0 || typeof timings === \"string\") {\n        return;\n    }\n    let score = timings[timings.length - 1];\n    if (!isCorrect) {\n        score += incorrectPenalty;\n    }\n    if (!(char in scores)) {\n        scores[char] = new Score();\n    }\n    scores[char].update(score);\n}\nfunction score(word) {\n    let total = 0.0;\n    let numChars = 0;\n    for (const c of word) {\n        if (c in scores) {\n            total += scores[c].average;\n            numChars++;\n        }\n    }\n    return numChars == 0 ? 0.0 : total / numChars;\n}\nfunction getWord(wordset) {\n    let highScore;\n    let randomWord = \"\";\n    for (let i = 0; i < wordSamples; i++) {\n        const newWord = wordset.randomWord();\n        const newScore = score(newWord);\n        if (i == 0 || highScore === undefined || newScore > highScore) {\n            randomWord = newWord;\n            highScore = newScore;\n        }\n    }\n    return randomWord;\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/weak-spot.ts?");

/***/ }),

/***/ "./src/scripts/test/wikipedia.ts":
/*!***************************************!*\
  !*** ./src/scripts/test/wikipedia.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Section\": () => (/* binding */ Section),\n/* harmony export */   \"getTLD\": () => (/* binding */ getTLD),\n/* harmony export */   \"getSection\": () => (/* binding */ getSection)\n/* harmony export */ });\n/* harmony import */ var _elements_loader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../elements/loader */ \"./src/scripts/elements/loader.ts\");\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\nclass Section {\n    constructor(title, author, words) {\n        this.title = title;\n        this.author = author;\n        this.words = words;\n    }\n}\nfunction getTLD(languageGroup) {\n    return __awaiter(this, void 0, void 0, function* () {\n        // language group to tld\n        switch (languageGroup.name) {\n            case \"english\":\n                return \"en\";\n            case \"spanish\":\n                return \"es\";\n            case \"french\":\n                return \"fr\";\n            case \"german\":\n                return \"de\";\n            case \"portuguese\":\n                return \"pt\";\n            case \"italian\":\n                return \"it\";\n            case \"dutch\":\n                return \"nl\";\n            default:\n                return \"en\";\n        }\n    });\n}\nfunction getSection(language) {\n    return __awaiter(this, void 0, void 0, function* () {\n        // console.log(\"Getting section\");\n        _elements_loader__WEBPACK_IMPORTED_MODULE_0__.show();\n        // get TLD for wikipedia according to language group\n        let urlTLD = \"en\";\n        const currentLanguageGroup = yield _utils_misc__WEBPACK_IMPORTED_MODULE_1__.findCurrentGroup(language);\n        if (currentLanguageGroup !== undefined) {\n            urlTLD = yield getTLD(currentLanguageGroup);\n        }\n        const randomPostURL = `https://${urlTLD}.wikipedia.org/api/rest_v1/page/random/summary`;\n        const sectionObj = { title: \"\", author: \"\" };\n        const randomPostReq = yield fetch(randomPostURL);\n        let pageid = 0;\n        if (randomPostReq.status == 200) {\n            const postObj = yield randomPostReq.json();\n            sectionObj.title = postObj.title;\n            sectionObj.author = postObj.author;\n            pageid = postObj.pageid;\n        }\n        return new Promise((res, rej) => {\n            if (randomPostReq.status != 200) {\n                _elements_loader__WEBPACK_IMPORTED_MODULE_0__.hide();\n                rej(randomPostReq.status);\n            }\n            const sectionURL = `https://${urlTLD}.wikipedia.org/w/api.php?action=query&format=json&pageids=${pageid}&prop=extracts&exintro=true&origin=*`;\n            const sectionReq = new XMLHttpRequest();\n            sectionReq.onload = () => {\n                if (sectionReq.readyState == 4) {\n                    if (sectionReq.status == 200) {\n                        let sectionText = JSON.parse(sectionReq.responseText).query\n                            .pages[pageid.toString()].extract;\n                        const words = [];\n                        // Remove double whitespaces and finally trailing whitespaces.\n                        sectionText = sectionText.replace(/<\\/p><p>+/g, \" \");\n                        sectionText = $(\"<div/>\").html(sectionText).text();\n                        sectionText = sectionText.replace(/\\s+/g, \" \");\n                        sectionText = sectionText.trim();\n                        // // Add spaces\n                        // sectionText = sectionText.replace(/[a-zA-Z0-9]{3,}\\.[a-zA-Z]/g, (x) =>\n                        //   x.replace(/\\./, \". \")\n                        // );\n                        sectionText.split(\" \").forEach((word) => {\n                            words.push(word);\n                        });\n                        const section = new Section(sectionObj.title, sectionObj.author, words);\n                        _elements_loader__WEBPACK_IMPORTED_MODULE_0__.hide();\n                        res(section);\n                    }\n                    else {\n                        _elements_loader__WEBPACK_IMPORTED_MODULE_0__.hide();\n                        rej(sectionReq.status);\n                    }\n                }\n            };\n            sectionReq.open(\"GET\", sectionURL);\n            sectionReq.send();\n        });\n    });\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/wikipedia.ts?");

/***/ }),

/***/ "./src/scripts/test/wordset.ts":
/*!*************************************!*\
  !*** ./src/scripts/test/wordset.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Wordset\": () => (/* binding */ Wordset),\n/* harmony export */   \"withWords\": () => (/* binding */ withWords)\n/* harmony export */ });\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n\nlet currentWordset = null;\nlet currentWordGenerator = null;\nclass Wordset {\n    constructor(words) {\n        this.words = words;\n        this.length = this.words.length;\n    }\n    randomWord() {\n        return (0,_utils_misc__WEBPACK_IMPORTED_MODULE_0__.randomElementFromArray)(this.words);\n    }\n}\nconst prefixSize = 2;\nclass CharDistribution {\n    constructor() {\n        this.chars = {};\n        this.count = 0;\n    }\n    addChar(char) {\n        this.count++;\n        if (char in this.chars) {\n            this.chars[char]++;\n        }\n        else {\n            this.chars[char] = 1;\n        }\n    }\n    randomChar() {\n        const randomIndex = (0,_utils_misc__WEBPACK_IMPORTED_MODULE_0__.randomIntFromRange)(0, this.count - 1);\n        let runningCount = 0;\n        for (const [char, charCount] of Object.entries(this.chars)) {\n            runningCount += charCount;\n            if (runningCount > randomIndex) {\n                return char;\n            }\n        }\n        return Object.keys(this.chars)[0];\n    }\n}\nclass WordGenerator extends Wordset {\n    constructor(words) {\n        super(words);\n        this.ngrams = {};\n        // Can generate an unbounded number of words in theory.\n        this.length = Infinity;\n        for (let word of words) {\n            // Mark the end of each word with a space.\n            word += \" \";\n            let prefix = \"\";\n            for (const c of word) {\n                // Add `c` to the distribution of chars that can come after `prefix`.\n                if (!(prefix in this.ngrams)) {\n                    this.ngrams[prefix] = new CharDistribution();\n                }\n                this.ngrams[prefix].addChar(c);\n                prefix = (prefix + c).substr(-prefixSize);\n            }\n        }\n    }\n    randomWord() {\n        let word = \"\";\n        for (;;) {\n            const prefix = word.substr(-prefixSize);\n            const charDistribution = this.ngrams[prefix];\n            if (!charDistribution) {\n                // This shouldn't happen if this.ngrams is complete. If it does\n                // somehow, start generating a new word.\n                word = \"\";\n                continue;\n            }\n            // Pick a random char from the distribution that comes after `prefix`.\n            const nextChar = charDistribution.randomChar();\n            if (nextChar == \" \") {\n                // A space marks the end of the word, so stop generating and return.\n                break;\n            }\n            word += nextChar;\n        }\n        return word;\n    }\n}\nfunction withWords(words, funbox) {\n    if (funbox == \"pseudolang\") {\n        if (currentWordGenerator == null || words !== currentWordGenerator.words) {\n            currentWordGenerator = new WordGenerator(words);\n        }\n        return currentWordGenerator;\n    }\n    else {\n        if (currentWordset == null || words !== currentWordset.words) {\n            currentWordset = new Wordset(words);\n        }\n        return currentWordset;\n    }\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/test/wordset.ts?");

/***/ }),

/***/ "./src/scripts/ui.ts":
/*!***************************!*\
  !*** ./src/scripts/ui.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"updateKeytips\": () => (/* binding */ updateKeytips)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _test_caret__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./test/caret */ \"./src/scripts/test/caret.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./elements/notifications */ \"./src/scripts/elements/notifications.ts\");\n/* harmony import */ var _test_custom_text__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./test/custom-text */ \"./src/scripts/test/custom-text.ts\");\n/* harmony import */ var _states_test_active__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./states/test-active */ \"./src/scripts/states/test-active.ts\");\n/* harmony import */ var _observables_config_event__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./observables/config-event */ \"./src/scripts/observables/config-event.ts\");\n\n\n\n\n\n\nfunction updateKeytips() {\n    if (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].swapEscAndTab) {\n        $(\".pageSettings .tip\").html(`\n    tip: You can also change all these settings quickly using the\n    command line (\n    <key>tab</key>\n    )`);\n        $(\"#bottom .keyTips\").html(`\n    <key>esc</key> - restart test<br>\n      <key>tab</key> - command line`);\n    }\n    else {\n        $(\".pageSettings .tip\").html(`\n    tip: You can also change all these settings quickly using the\n    command line (\n    <key>esc</key>\n    )`);\n        $(\"#bottom .keyTips\").html(`\n    <key>tab</key> - restart test<br>\n      <key>esc</key> or <key>ctrl/cmd</key>+<key>shift</key>+<key>p</key> - command line`);\n    }\n}\nif (window.location.hostname === \"localhost\") {\n    window.onerror = function (error) {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(error.toString(), -1);\n    };\n    $(\"#top .logo .top\").text(\"localhost\");\n    $(\"head title\").text($(\"head title\").text() + \" (localhost)\");\n    $(\"body\").append(`<div class=\"devIndicator tl\">local</div><div class=\"devIndicator br\">local</div>`);\n    $(\".pageSettings .discordIntegration .buttons a\").attr(\"href\", \"https://discord.com/api/oauth2/authorize?client_id=798272335035498557&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fverify&response_type=token&scope=identify\");\n}\n//stop space scrolling\nwindow.addEventListener(\"keydown\", function (e) {\n    if (e.code === \"Space\" && e.target === document.body) {\n        e.preventDefault();\n    }\n});\nwindow.addEventListener(\"beforeunload\", (event) => {\n    // Cancel the event as stated by the standard.\n    if ((_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode === \"words\" && _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].words < 1000) ||\n        (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode === \"time\" && _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].time < 3600) ||\n        _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode === \"quote\" ||\n        (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode === \"custom\" &&\n            _test_custom_text__WEBPACK_IMPORTED_MODULE_3__.isWordRandom &&\n            _test_custom_text__WEBPACK_IMPORTED_MODULE_3__.word < 1000) ||\n        (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode === \"custom\" &&\n            _test_custom_text__WEBPACK_IMPORTED_MODULE_3__.isTimeRandom &&\n            _test_custom_text__WEBPACK_IMPORTED_MODULE_3__.time < 1000) ||\n        (_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].mode === \"custom\" &&\n            !_test_custom_text__WEBPACK_IMPORTED_MODULE_3__.isWordRandom &&\n            _test_custom_text__WEBPACK_IMPORTED_MODULE_3__.text.length < 1000)) {\n        //ignore\n    }\n    else {\n        if (_states_test_active__WEBPACK_IMPORTED_MODULE_4__.get()) {\n            event.preventDefault();\n            // Chrome requires returnValue to be set.\n            event.returnValue = \"\";\n        }\n    }\n});\n$(window).on(\"resize\", () => {\n    console.log(\"Updating caret position\");\n    _test_caret__WEBPACK_IMPORTED_MODULE_1__.updatePosition();\n});\n_observables_config_event__WEBPACK_IMPORTED_MODULE_5__.subscribe((eventKey) => {\n    if (eventKey === \"swapEscAndTab\")\n        updateKeytips();\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/ui.ts?");

/***/ }),

/***/ "./src/scripts/utils/debounce.ts":
/*!***************************************!*\
  !*** ./src/scripts/utils/debounce.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"debounce\": () => (/* binding */ debounce)\n/* harmony export */ });\nfunction debounce(fn, ms = 250) {\n    let timeoutId;\n    return function (...args) {\n        clearTimeout(timeoutId);\n        timeoutId = setTimeout(() => fn.apply(this, args), ms);\n    };\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/utils/debounce.ts?");

/***/ }),

/***/ "./src/scripts/utils/misc.ts":
/*!***********************************!*\
  !*** ./src/scripts/utils/misc.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getuid\": () => (/* binding */ getuid),\n/* harmony export */   \"getThemesList\": () => (/* binding */ getThemesList),\n/* harmony export */   \"getSortedThemesList\": () => (/* binding */ getSortedThemesList),\n/* harmony export */   \"getFunboxList\": () => (/* binding */ getFunboxList),\n/* harmony export */   \"getFunbox\": () => (/* binding */ getFunbox),\n/* harmony export */   \"getLayoutsList\": () => (/* binding */ getLayoutsList),\n/* harmony export */   \"getLayout\": () => (/* binding */ getLayout),\n/* harmony export */   \"getFontsList\": () => (/* binding */ getFontsList),\n/* harmony export */   \"getSupportersList\": () => (/* binding */ getSupportersList),\n/* harmony export */   \"getContributorsList\": () => (/* binding */ getContributorsList),\n/* harmony export */   \"getLanguageList\": () => (/* binding */ getLanguageList),\n/* harmony export */   \"getLanguageGroups\": () => (/* binding */ getLanguageGroups),\n/* harmony export */   \"getLanguage\": () => (/* binding */ getLanguage),\n/* harmony export */   \"getCurrentLanguage\": () => (/* binding */ getCurrentLanguage),\n/* harmony export */   \"findCurrentGroup\": () => (/* binding */ findCurrentGroup),\n/* harmony export */   \"getChallengeList\": () => (/* binding */ getChallengeList),\n/* harmony export */   \"smooth\": () => (/* binding */ smooth),\n/* harmony export */   \"stdDev\": () => (/* binding */ stdDev),\n/* harmony export */   \"mean\": () => (/* binding */ mean),\n/* harmony export */   \"median\": () => (/* binding */ median),\n/* harmony export */   \"getReleasesFromGitHub\": () => (/* binding */ getReleasesFromGitHub),\n/* harmony export */   \"getLastChar\": () => (/* binding */ getLastChar),\n/* harmony export */   \"capitalizeFirstLetterOfEachWord\": () => (/* binding */ capitalizeFirstLetterOfEachWord),\n/* harmony export */   \"isASCIILetter\": () => (/* binding */ isASCIILetter),\n/* harmony export */   \"kogasa\": () => (/* binding */ kogasa),\n/* harmony export */   \"whorf\": () => (/* binding */ whorf),\n/* harmony export */   \"roundTo2\": () => (/* binding */ roundTo2),\n/* harmony export */   \"findLineByLeastSquares\": () => (/* binding */ findLineByLeastSquares),\n/* harmony export */   \"getGibberish\": () => (/* binding */ getGibberish),\n/* harmony export */   \"secondsToString\": () => (/* binding */ secondsToString),\n/* harmony export */   \"getNumbers\": () => (/* binding */ getNumbers),\n/* harmony export */   \"getSpecials\": () => (/* binding */ getSpecials),\n/* harmony export */   \"getASCII\": () => (/* binding */ getASCII),\n/* harmony export */   \"getArrows\": () => (/* binding */ getArrows),\n/* harmony export */   \"getPositionString\": () => (/* binding */ getPositionString),\n/* harmony export */   \"findGetParameter\": () => (/* binding */ findGetParameter),\n/* harmony export */   \"objectToQueryString\": () => (/* binding */ objectToQueryString),\n/* harmony export */   \"toggleFullscreen\": () => (/* binding */ toggleFullscreen),\n/* harmony export */   \"getWords\": () => (/* binding */ getWords),\n/* harmony export */   \"remove_non_ascii\": () => (/* binding */ remove_non_ascii),\n/* harmony export */   \"escapeRegExp\": () => (/* binding */ escapeRegExp),\n/* harmony export */   \"cleanTypographySymbols\": () => (/* binding */ cleanTypographySymbols),\n/* harmony export */   \"isUsernameValid\": () => (/* binding */ isUsernameValid),\n/* harmony export */   \"mapRange\": () => (/* binding */ mapRange),\n/* harmony export */   \"canQuickRestart\": () => (/* binding */ canQuickRestart),\n/* harmony export */   \"clearTimeouts\": () => (/* binding */ clearTimeouts),\n/* harmony export */   \"setCharAt\": () => (/* binding */ setCharAt),\n/* harmony export */   \"regexIndexOf\": () => (/* binding */ regexIndexOf),\n/* harmony export */   \"convertRGBtoHEX\": () => (/* binding */ convertRGBtoHEX),\n/* harmony export */   \"trailingComposeChars\": () => (/* binding */ trailingComposeChars),\n/* harmony export */   \"convertRemToPixels\": () => (/* binding */ convertRemToPixels),\n/* harmony export */   \"swapElements\": () => (/* binding */ swapElements),\n/* harmony export */   \"getMode2\": () => (/* binding */ getMode2),\n/* harmony export */   \"downloadResultsCSV\": () => (/* binding */ downloadResultsCSV),\n/* harmony export */   \"randomIntFromRange\": () => (/* binding */ randomIntFromRange),\n/* harmony export */   \"shuffle\": () => (/* binding */ shuffle),\n/* harmony export */   \"randomElementFromArray\": () => (/* binding */ randomElementFromArray),\n/* harmony export */   \"randomElementFromObject\": () => (/* binding */ randomElementFromObject),\n/* harmony export */   \"createErrorMessage\": () => (/* binding */ createErrorMessage)\n/* harmony export */ });\n/* harmony import */ var _elements_loader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../elements/loader */ \"./src/scripts/elements/loader.ts\");\n/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! date-fns */ \"./node_modules/date-fns/esm/format/index.js\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../firebase */ \"./src/scripts/firebase.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\nfunction getuid() {\n    var _a;\n    console.error(\"Only share this uid with Miodec and nobody else!\");\n    console.log((_a = _firebase__WEBPACK_IMPORTED_MODULE_1__.Auth.currentUser) === null || _a === void 0 ? void 0 : _a.uid);\n    console.error(\"Only share this uid with Miodec and nobody else!\");\n}\nfunction hexToHSL(hex) {\n    // Convert hex to RGB first\n    let r;\n    let g;\n    let b;\n    if (hex.length == 4) {\n        r = (\"0x\" + hex[1] + hex[1]);\n        g = (\"0x\" + hex[2] + hex[2]);\n        b = (\"0x\" + hex[3] + hex[3]);\n    }\n    else if (hex.length == 7) {\n        r = (\"0x\" + hex[1] + hex[2]);\n        g = (\"0x\" + hex[3] + hex[4]);\n        b = (\"0x\" + hex[5] + hex[6]);\n    }\n    else {\n        r = 0x00;\n        g = 0x00;\n        b = 0x00;\n    }\n    // Then to HSL\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    const cmin = Math.min(r, g, b);\n    const cmax = Math.max(r, g, b);\n    const delta = cmax - cmin;\n    let h = 0;\n    let s = 0;\n    let l = 0;\n    if (delta == 0)\n        h = 0;\n    else if (cmax == r)\n        h = ((g - b) / delta) % 6;\n    else if (cmax == g)\n        h = (b - r) / delta + 2;\n    else\n        h = (r - g) / delta + 4;\n    h = Math.round(h * 60);\n    if (h < 0)\n        h += 360;\n    l = (cmax + cmin) / 2;\n    s = delta == 0 ? 0 : delta / (1 - Math.abs(2 * l - 1));\n    s = +(s * 100).toFixed(1);\n    l = +(l * 100).toFixed(1);\n    return {\n        hue: h,\n        sat: s,\n        lgt: l,\n        string: \"hsl(\" + h + \",\" + s + \"%,\" + l + \"%)\",\n    };\n}\nlet themesList = [];\nfunction getThemesList() {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (themesList.length == 0) {\n            return $.getJSON(\"themes/_list.json\", function (data) {\n                const list = data.sort(function (a, b) {\n                    const nameA = a.name.toLowerCase();\n                    const nameB = b.name.toLowerCase();\n                    if (nameA < nameB)\n                        return -1;\n                    if (nameA > nameB)\n                        return 1;\n                    return 0;\n                });\n                themesList = list;\n                return themesList;\n            });\n        }\n        else {\n            return themesList;\n        }\n    });\n}\nlet sortedThemesList = [];\nfunction getSortedThemesList() {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (sortedThemesList.length === 0) {\n            if (themesList.length === 0) {\n                yield getThemesList();\n            }\n            let sorted = [...themesList];\n            sorted = sorted.sort((a, b) => {\n                const b1 = hexToHSL(a.bgColor);\n                const b2 = hexToHSL(b.bgColor);\n                return b2.lgt - b1.lgt;\n            });\n            sortedThemesList = sorted;\n            return sortedThemesList;\n        }\n        else {\n            return sortedThemesList;\n        }\n    });\n}\nlet funboxList = [];\nfunction getFunboxList() {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (funboxList.length === 0) {\n            return $.getJSON(\"funbox/_list.json\", function (data) {\n                funboxList = data.sort(function (a, b) {\n                    const nameA = a.name.toLowerCase();\n                    const nameB = b.name.toLowerCase();\n                    if (nameA < nameB)\n                        return -1;\n                    if (nameA > nameB)\n                        return 1;\n                    return 0;\n                });\n                return funboxList;\n            });\n        }\n        else {\n            return funboxList;\n        }\n    });\n}\nfunction getFunbox(funbox) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const list = yield getFunboxList();\n        return list.find(function (element) {\n            return element.name == funbox;\n        });\n    });\n}\nlet layoutsList = {};\nfunction getLayoutsList() {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (Object.keys(layoutsList).length === 0) {\n            return $.getJSON(\"layouts/_list.json\", function (data) {\n                layoutsList = data;\n                return layoutsList;\n            });\n        }\n        else {\n            return layoutsList;\n        }\n    });\n}\nfunction getLayout(layoutName) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (Object.keys(layoutsList).length === 0) {\n            yield getLayoutsList();\n        }\n        return layoutsList[layoutName];\n    });\n}\nlet fontsList = [];\nfunction getFontsList() {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (fontsList.length === 0) {\n            return $.getJSON(\"fonts/_list.json\", function (data) {\n                fontsList = data.sort(function (a, b) {\n                    const nameA = a.name.toLowerCase();\n                    const nameB = b.name.toLowerCase();\n                    if (nameA < nameB)\n                        return -1;\n                    if (nameA > nameB)\n                        return 1;\n                    return 0;\n                });\n                return fontsList;\n            });\n        }\n        else {\n            return fontsList;\n        }\n    });\n}\nlet supportersList = [];\nfunction getSupportersList() {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (supportersList.length === 0) {\n            return $.getJSON(\"about/supporters.json\", function (data) {\n                supportersList = data;\n                return supportersList;\n            });\n        }\n        else {\n            return supportersList;\n        }\n    });\n}\nlet contributorsList = [];\nfunction getContributorsList() {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (contributorsList.length === 0) {\n            return $.getJSON(\"about/contributors.json\", function (data) {\n                contributorsList = data;\n                return contributorsList;\n            });\n        }\n        else {\n            return contributorsList;\n        }\n    });\n}\nlet languageList = [];\nfunction getLanguageList() {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (languageList.length === 0) {\n            return $.getJSON(\"languages/_list.json\", function (data) {\n                languageList = data;\n                return languageList;\n            });\n        }\n        else {\n            return languageList;\n        }\n    });\n}\nlet languageGroupList = [];\nfunction getLanguageGroups() {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (languageGroupList.length === 0) {\n            return $.getJSON(\"languages/_groups.json\", function (data) {\n                languageGroupList = data;\n                return languageGroupList;\n            });\n        }\n        else {\n            return languageGroupList;\n        }\n    });\n}\nlet currentLanguage;\nfunction getLanguage(lang) {\n    return __awaiter(this, void 0, void 0, function* () {\n        try {\n            if (currentLanguage == undefined || currentLanguage.name !== lang) {\n                console.log(\"getting language json\");\n                yield $.getJSON(`languages/${lang}.json`, function (data) {\n                    currentLanguage = data;\n                });\n            }\n            return currentLanguage;\n        }\n        catch (e) {\n            console.error(`error getting language`);\n            console.error(e);\n            yield $.getJSON(`languages/english.json`, function (data) {\n                currentLanguage = data;\n            });\n            return currentLanguage;\n        }\n    });\n}\nfunction getCurrentLanguage(languageName) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return yield getLanguage(languageName);\n    });\n}\nfunction findCurrentGroup(language) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let retgroup;\n        const groups = yield getLanguageGroups();\n        groups.forEach((group) => {\n            if (retgroup === undefined) {\n                if (group.languages.includes(language)) {\n                    retgroup = group;\n                }\n            }\n        });\n        return retgroup;\n    });\n}\nlet challengeList = [];\nfunction getChallengeList() {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (challengeList.length === 0) {\n            return $.getJSON(\"challenges/_list.json\", function (data) {\n                challengeList = data;\n                return challengeList;\n            });\n        }\n        else {\n            return challengeList;\n        }\n    });\n}\nfunction smooth(arr, windowSize, getter = (value) => value) {\n    const get = getter;\n    const result = [];\n    for (let i = 0; i < arr.length; i += 1) {\n        const leftOffeset = i - windowSize;\n        const from = leftOffeset >= 0 ? leftOffeset : 0;\n        const to = i + windowSize + 1;\n        let count = 0;\n        let sum = 0;\n        for (let j = from; j < to && j < arr.length; j += 1) {\n            sum += get(arr[j]);\n            count += 1;\n        }\n        result[i] = sum / count;\n    }\n    return result;\n}\nfunction stdDev(array) {\n    try {\n        const n = array.length;\n        const mean = array.reduce((a, b) => a + b) / n;\n        return Math.sqrt(array.map((x) => Math.pow(x - mean, 2)).reduce((a, b) => a + b) / n);\n    }\n    catch (e) {\n        return 0;\n    }\n}\nfunction mean(array) {\n    try {\n        return (array.reduce((previous, current) => (current += previous)) / array.length);\n    }\n    catch (e) {\n        return 0;\n    }\n}\n//https://www.w3resource.com/javascript-exercises/fundamental/javascript-fundamental-exercise-88.php\nfunction median(arr) {\n    try {\n        const mid = Math.floor(arr.length / 2), nums = [...arr].sort((a, b) => a - b);\n        return arr.length % 2 !== 0 ? nums[mid] : (nums[mid - 1] + nums[mid]) / 2;\n    }\n    catch (e) {\n        return 0;\n    }\n}\nfunction getReleasesFromGitHub() {\n    return __awaiter(this, void 0, void 0, function* () {\n        return $.getJSON(\"https://api.github.com/repos/Miodec/monkeytype/releases\", (data) => {\n            $(\"#bottom .version .text\").text(data[0].name);\n            $(\"#bottom .version\").css(\"opacity\", 1);\n            $(\"#versionHistory .releases\").empty();\n            data.forEach((release) => {\n                if (!release.draft && !release.prerelease) {\n                    $(\"#versionHistory .releases\").append(`\n          <div class=\"release\">\n            <div class=\"title\">${release.name}</div>\n            <div class=\"date\">${(0,date_fns__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(new Date(release.published_at), \"dd MMM yyyy\")}</div>\n            <div class=\"body\">${release.body.replace(/\\r\\n/g, \"<br>\")}</div>\n          </div>\n        `);\n                }\n            });\n        });\n    });\n}\n// function getPatreonNames() {\n//   let namesel = $(\".pageAbout .section .supporters\");\n//   firebase\n//     .functions()\n//     .httpsCallable(\"getPatreons\")()\n//     .then((data) => {\n//       let names = data.data;\n//       names.forEach((name) => {\n//         namesel.append(`<div>${name}</div>`);\n//       });\n//     });\n// }\nfunction getLastChar(word) {\n    try {\n        return word.charAt(word.length - 1);\n    }\n    catch (_a) {\n        return \"\";\n    }\n}\nfunction capitalizeFirstLetterOfEachWord(str) {\n    return str\n        .split(/ +/)\n        .map((s) => s.charAt(0).toUpperCase() + s.slice(1))\n        .join(\" \");\n}\nfunction isASCIILetter(c) {\n    return c.length === 1 && /[a-z]/i.test(c);\n}\nfunction kogasa(cov) {\n    return (100 * (1 - Math.tanh(cov + Math.pow(cov, 3) / 3 + Math.pow(cov, 5) / 5)));\n}\nfunction whorf(speed, wordlen) {\n    return Math.min(speed, Math.floor(speed * Math.pow(1.03, -2 * (wordlen - 3))));\n}\nfunction roundTo2(num) {\n    return Math.round((num + Number.EPSILON) * 100) / 100;\n}\nfunction findLineByLeastSquares(values_y) {\n    let sum_x = 0;\n    let sum_y = 0;\n    let sum_xy = 0;\n    let sum_xx = 0;\n    let count = 0;\n    /*\n     * We'll use those letiables for faster read/write access.\n     */\n    let x = 0;\n    let y = 0;\n    const values_length = values_y.length;\n    /*\n     * Nothing to do.\n     */\n    if (values_length === 0) {\n        return [[], []];\n    }\n    /*\n     * Calculate the sum for each of the parts necessary.\n     */\n    for (let v = 0; v < values_length; v++) {\n        x = v + 1;\n        y = values_y[v];\n        sum_x += x;\n        sum_y += y;\n        sum_xx += x * x;\n        sum_xy += x * y;\n        count++;\n    }\n    /*\n     * Calculate m and b for the formular:\n     * y = x * m + b\n     */\n    const m = (count * sum_xy - sum_x * sum_y) / (count * sum_xx - sum_x * sum_x);\n    const b = sum_y / count - (m * sum_x) / count;\n    const returnpoint1 = [1, 1 * m + b];\n    const returnpoint2 = [values_length, values_length * m + b];\n    return [returnpoint1, returnpoint2];\n}\nfunction getGibberish() {\n    const randLen = randomIntFromRange(1, 7);\n    let ret = \"\";\n    for (let i = 0; i < randLen; i++) {\n        ret += String.fromCharCode(97 + randomIntFromRange(0, 25));\n    }\n    return ret;\n}\nfunction secondsToString(sec, fullMinutes = false, fullHours = false) {\n    const hours = Math.floor(sec / 3600);\n    const minutes = Math.floor((sec % 3600) / 60);\n    const seconds = roundTo2((sec % 3600) % 60);\n    let hoursString;\n    let minutesString;\n    let secondsString;\n    hours < 10 ? (hoursString = \"0\" + hours) : (hoursString = hours);\n    minutes < 10 ? (minutesString = \"0\" + minutes) : (minutesString = minutes);\n    seconds < 10 && (minutes > 0 || hours > 0 || fullMinutes)\n        ? (secondsString = \"0\" + seconds)\n        : (secondsString = seconds);\n    let ret = \"\";\n    if (hours > 0 || fullHours)\n        ret += hoursString + \":\";\n    if (minutes > 0 || hours > 0 || fullMinutes)\n        ret += minutesString + \":\";\n    ret += secondsString;\n    return ret;\n}\nfunction getNumbers(len) {\n    const randLen = randomIntFromRange(1, len);\n    let ret = \"\";\n    for (let i = 0; i < randLen; i++) {\n        const randomNum = randomIntFromRange(0, 9);\n        ret += randomNum.toString();\n    }\n    return ret;\n}\nfunction getSpecials() {\n    const randLen = randomIntFromRange(1, 7);\n    let ret = \"\";\n    const specials = [\n        \"!\",\n        \"@\",\n        \"#\",\n        \"$\",\n        \"%\",\n        \"^\",\n        \"&\",\n        \"*\",\n        \"(\",\n        \")\",\n        \"-\",\n        \"_\",\n        \"=\",\n        \"+\",\n        \"{\",\n        \"}\",\n        \"[\",\n        \"]\",\n        \"'\",\n        '\"',\n        \"/\",\n        \"\\\\\",\n        \"|\",\n    ];\n    for (let i = 0; i < randLen; i++) {\n        ret += randomElementFromArray(specials);\n    }\n    return ret;\n}\nfunction getASCII() {\n    const randLen = randomIntFromRange(1, 10);\n    let ret = \"\";\n    for (let i = 0; i < randLen; i++) {\n        let ran = 33 + randomIntFromRange(0, 93);\n        while (ran == 96 || ran == 94)\n            ran = 33 + randomIntFromRange(0, 93); //todo remove when input rewrite is fixed\n        ret += String.fromCharCode(ran);\n    }\n    return ret;\n}\nfunction getArrows() {\n    const arrowArray = [\"\", \"\", \"\", \"\"];\n    let arrowWord = \"\";\n    let lastchar;\n    for (let i = 0; i < 5; i++) {\n        let random = randomElementFromArray(arrowArray);\n        while (random === lastchar) {\n            random = randomElementFromArray(arrowArray);\n        }\n        lastchar = random;\n        arrowWord += random;\n    }\n    return arrowWord;\n}\nfunction getPositionString(number) {\n    let numend = \"th\";\n    const t = number % 10;\n    const h = number % 100;\n    if (t == 1 && h != 11) {\n        numend = \"st\";\n    }\n    if (t == 2 && h != 12) {\n        numend = \"nd\";\n    }\n    if (t == 3 && h != 13) {\n        numend = \"rd\";\n    }\n    return number + numend;\n}\nfunction findGetParameter(parameterName) {\n    let result = null;\n    let tmp = [];\n    location.search\n        .substr(1)\n        .split(\"&\")\n        .forEach(function (item) {\n        tmp = item.split(\"=\");\n        if (tmp[0] === parameterName)\n            result = decodeURIComponent(tmp[1]);\n    });\n    return result;\n}\nfunction objectToQueryString(obj) {\n    const str = [];\n    for (const p in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, p)) {\n            // Arrays get encoded as a comma(%2C)-separated list\n            str.push(encodeURIComponent(p) + \"=\" + encodeURIComponent(obj[p]));\n        }\n    }\n    return str.join(\"&\");\n}\nfunction toggleFullscreen() {\n    const elem = document.documentElement;\n    if (!document.fullscreenElement &&\n        !document.mozFullScreenElement &&\n        !document.webkitFullscreenElement &&\n        !document.msFullscreenElement) {\n        if (elem.requestFullscreen) {\n            elem.requestFullscreen();\n        }\n        else if (elem.msRequestFullscreen) {\n            elem.msRequestFullscreen();\n        }\n        else if (elem.mozRequestFullScreen) {\n            elem.mozRequestFullScreen();\n        }\n        else if (elem.webkitRequestFullscreen) {\n            // @ts-ignore\n            elem.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\n        }\n    }\n    else {\n        if (document.exitFullscreen) {\n            document.exitFullscreen();\n        }\n        else if (document.msExitFullscreen) {\n            document.msExitFullscreen();\n        }\n        else if (document.mozCancelFullScreen) {\n            document.mozCancelFullScreen();\n        }\n        else if (document.webkitExitFullscreen) {\n            document.webkitExitFullscreen();\n        }\n    }\n}\nfunction getWords() {\n    const words = [...document.querySelectorAll(\"#words .word\")]\n        .map((word) => {\n        return [...word.querySelectorAll(\"letter\")]\n            .map((letter) => letter.textContent)\n            .join(\"\");\n    })\n        .join(\" \");\n    return words;\n}\n//credit: https://www.w3resource.com/javascript-exercises/javascript-string-exercise-32.php\nfunction remove_non_ascii(str) {\n    if (str === null || str === \"\")\n        return \"\";\n    else\n        str = str.toString();\n    return str.replace(/[^\\x20-\\x7E]/g, \"\");\n}\nfunction escapeRegExp(str) {\n    return str.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n}\nfunction cleanTypographySymbols(textToClean) {\n    const specials = {\n        \"\": '\"',\n        \"\": '\"',\n        \"\": \"'\",\n        \"\": \"'\",\n        \",\": \",\",\n        \"\": \"-\",\n        \"\": \"...\",\n        \"\": \"<<\",\n        \"\": \">>\",\n        \"\": \"-\",\n        \"\": \" \",\n        \"\": \" \",\n        \"\": \" \",\n    };\n    return textToClean.replace(/[,\\u2007\\u202F\\u00A0]/g, (char) => specials[char] || \"\");\n}\nfunction isUsernameValid(name) {\n    if (name === null || name === undefined || name === \"\")\n        return false;\n    if (/miodec/.test(name.toLowerCase()))\n        return false;\n    if (/bitly/.test(name.toLowerCase()))\n        return false;\n    if (name.length > 14)\n        return false;\n    if (/^\\..*/.test(name.toLowerCase()))\n        return false;\n    return /^[0-9a-zA-Z_.-]+$/.test(name);\n}\nfunction mapRange(x, in_min, in_max, out_min, out_max) {\n    let num = ((x - in_min) * (out_max - out_min)) / (in_max - in_min) + out_min;\n    if (out_min > out_max) {\n        if (num > out_min) {\n            num = out_min;\n        }\n        else if (num < out_max) {\n            num = out_max;\n        }\n    }\n    else {\n        if (num < out_min) {\n            num = out_min;\n        }\n        else if (num > out_max) {\n            num = out_max;\n        }\n    }\n    return num;\n}\nfunction canQuickRestart(mode, words, time, CustomText) {\n    if ((mode === \"words\" && words < 1000) ||\n        (mode === \"time\" && time < 3600) ||\n        mode === \"quote\" ||\n        (mode === \"custom\" && CustomText.isWordRandom && CustomText.word < 1000) ||\n        (mode === \"custom\" && CustomText.isTimeRandom && CustomText.time < 3600) ||\n        (mode === \"custom\" &&\n            !CustomText.isWordRandom &&\n            CustomText.text.length < 1000)) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction clearTimeouts(timeouts) {\n    timeouts.forEach((to) => {\n        if (typeof to === \"number\")\n            clearTimeout(to);\n        else\n            clearTimeout(to);\n    });\n}\n//https://stackoverflow.com/questions/1431094/how-do-i-replace-a-character-at-a-particular-index-in-javascript\nfunction setCharAt(str, index, chr) {\n    if (index > str.length - 1)\n        return str;\n    return str.substring(0, index) + chr + str.substring(index + 1);\n}\n//https://stackoverflow.com/questions/273789/is-there-a-version-of-javascripts-string-indexof-that-allows-for-regular-expr\nfunction regexIndexOf(string, regex, startpos) {\n    const indexOf = string.substring(startpos || 0).search(regex);\n    return indexOf >= 0 ? indexOf + (startpos || 0) : indexOf;\n}\nfunction convertRGBtoHEX(rgb) {\n    const match = rgb.match(/^rgb\\((\\d+), \\s*(\\d+), \\s*(\\d+)\\)$/);\n    if (match === null)\n        return;\n    if (match.length < 3)\n        return;\n    function hexCode(i) {\n        // Take the last 2 characters and convert\n        // them to Hexadecimal.\n        return (\"0\" + parseInt(i).toString(16)).slice(-2);\n    }\n    return \"#\" + hexCode(match[1]) + hexCode(match[2]) + hexCode(match[3]);\n}\nString.prototype.lastIndexOfRegex = function (regex) {\n    const match = this.match(regex);\n    return match ? this.lastIndexOf(match[match.length - 1]) : -1;\n};\nconst trailingComposeChars = /[\\u02B0-\\u02FF`^~]+$|.*$/;\n//https://stackoverflow.com/questions/36532307/rem-px-in-javascript\nfunction convertRemToPixels(rem) {\n    return rem * parseFloat(getComputedStyle(document.documentElement).fontSize);\n}\nfunction swapElements(el1, el2, totalDuration, callback = function () {\n    return;\n}, middleCallback = function () {\n    return;\n}) {\n    if ((el1.hasClass(\"hidden\") && !el2.hasClass(\"hidden\")) ||\n        (!el1.hasClass(\"hidden\") && el2.hasClass(\"hidden\"))) {\n        //one of them is hidden and the other is visible\n        if (el1.hasClass(\"hidden\")) {\n            callback();\n            return false;\n        }\n        $(el1)\n            .removeClass(\"hidden\")\n            .css(\"opacity\", 1)\n            .animate({\n            opacity: 0,\n        }, totalDuration / 2, () => {\n            middleCallback();\n            $(el1).addClass(\"hidden\");\n            $(el2)\n                .removeClass(\"hidden\")\n                .css(\"opacity\", 0)\n                .animate({\n                opacity: 1,\n            }, totalDuration / 2, () => {\n                callback();\n            });\n        });\n    }\n    else if (el1.hasClass(\"hidden\") && el2.hasClass(\"hidden\")) {\n        //both are hidden, only fade in the second\n        $(el2)\n            .removeClass(\"hidden\")\n            .css(\"opacity\", 0)\n            .animate({\n            opacity: 1,\n        }, totalDuration, () => {\n            callback();\n        });\n    }\n    else {\n        callback();\n    }\n    return;\n}\nfunction getMode2(config, randomQuote) {\n    const mode = config.mode;\n    if (mode === \"time\") {\n        return config.time.toString();\n    }\n    else if (mode === \"words\") {\n        return config.words.toString();\n    }\n    else if (mode === \"custom\") {\n        return \"custom\";\n    }\n    else if (mode === \"zen\") {\n        return \"zen\";\n    }\n    else if (mode === \"quote\") {\n        return randomQuote.id.toString();\n    }\n    return \"\";\n}\nfunction downloadResultsCSV(array) {\n    return __awaiter(this, void 0, void 0, function* () {\n        _elements_loader__WEBPACK_IMPORTED_MODULE_0__.show();\n        const csvString = [\n            [\n                \"_id\",\n                \"isPb\",\n                \"wpm\",\n                \"acc\",\n                \"rawWpm\",\n                \"consistency\",\n                \"charStats\",\n                \"mode\",\n                \"mode2\",\n                \"quoteLength\",\n                \"restartCount\",\n                \"testDuration\",\n                \"afkDuration\",\n                \"incompleteTestSeconds\",\n                \"punctuation\",\n                \"numbers\",\n                \"language\",\n                \"funbox\",\n                \"difficulty\",\n                \"lazyMode\",\n                \"blindMode\",\n                \"bailedOut\",\n                \"tags\",\n                \"timestamp\",\n            ],\n            ...array.map((item) => [\n                item._id,\n                item.isPb,\n                item.wpm,\n                item.acc,\n                item.rawWpm,\n                item.consistency,\n                item.charStats.join(\",\"),\n                item.mode,\n                item.mode2,\n                item.quoteLength,\n                item.restartCount,\n                item.testDuration,\n                item.afkDuration,\n                item.incompleteTestSeconds,\n                item.punctuation,\n                item.numbers,\n                item.language,\n                item.funbox,\n                item.difficulty,\n                item.lazyMode,\n                item.blindMode,\n                item.bailedOut,\n                item.tags.join(\",\"),\n                item.timestamp,\n            ]),\n        ]\n            .map((e) => e.join(\"|\"))\n            .join(\"\\n\");\n        const blob = new Blob([csvString], { type: \"text/csv\" });\n        const href = window.URL.createObjectURL(blob);\n        const link = document.createElement(\"a\");\n        link.setAttribute(\"href\", href);\n        link.setAttribute(\"download\", \"results.csv\");\n        document.body.appendChild(link); // Required for FF\n        link.click();\n        link.remove();\n        _elements_loader__WEBPACK_IMPORTED_MODULE_0__.hide();\n    });\n}\n/**\n * Gets an integer between min and max, both are inclusive.\n * @param min\n * @param max\n * @returns Random integer betwen min and max.\n */\nfunction randomIntFromRange(min, max) {\n    const minNorm = Math.ceil(min);\n    const maxNorm = Math.floor(max);\n    return Math.floor(Math.random() * (maxNorm - minNorm + 1) + minNorm);\n}\n/**\n * Shuffle an array of elements using the FisherYates algorithm.\n * This function mutates the input array.\n * @param elements\n */\nfunction shuffle(elements) {\n    for (let i = elements.length - 1; i > 0; --i) {\n        const j = randomIntFromRange(0, i);\n        const temp = elements[j];\n        elements[j] = elements[i];\n        elements[i] = temp;\n    }\n}\nfunction randomElementFromArray(array) {\n    return array[randomIntFromRange(0, array.length - 1)];\n}\nfunction randomElementFromObject(object) {\n    return randomElementFromArray(Object.values(object));\n}\nfunction createErrorMessage(error, message) {\n    if (error instanceof Error) {\n        return `${message}: ${error.message}`;\n    }\n    else {\n        return `${message}`;\n    }\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/utils/misc.ts?");

/***/ }),

/***/ "./src/scripts/utils/search-service.ts":
/*!*********************************************!*\
  !*** ./src/scripts/utils/search-service.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"buildSearchService\": () => (/* binding */ buildSearchService)\n/* harmony export */ });\n/* harmony import */ var stemmer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! stemmer */ \"./node_modules/stemmer/index.js\");\n/* harmony import */ var damerau_levenshtein__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! damerau-levenshtein */ \"./node_modules/damerau-levenshtein/index.js\");\n/* harmony import */ var damerau_levenshtein__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(damerau_levenshtein__WEBPACK_IMPORTED_MODULE_0__);\n\n\nconst DEFAULT_OPTIONS = {\n    fuzzyMatchSensitivity: 0.2,\n    scoreForSimilarMatch: 0.5,\n    scoreForExactMatch: 1, // When ranking results, the score a match gets for having an exact match with a token in the search query.\n};\nfunction inverseDocumentFrequency(numberOfDocuments, numberOfDocumentsWithTerm) {\n    if (numberOfDocumentsWithTerm === 0) {\n        return 0;\n    }\n    return Math.log10(numberOfDocuments / numberOfDocumentsWithTerm);\n}\nfunction tokenize(text) {\n    return text.match(/[^\\\\\\][.,\"/#!?$%^&*;:{}=\\-_`~()\\s]+/g) || [];\n}\nconst buildSearchService = (documents, getSearchableText, options = DEFAULT_OPTIONS) => {\n    const reverseIndex = {};\n    const normalizedTokenToOriginal = {};\n    documents.forEach((document, documentIndex) => {\n        const rawTokens = tokenize(getSearchableText(document));\n        const internalDocument = {\n            id: documentIndex,\n        };\n        rawTokens.forEach((token) => {\n            const stemmedToken = (0,stemmer__WEBPACK_IMPORTED_MODULE_1__.stemmer)(token);\n            if (!(stemmedToken in normalizedTokenToOriginal)) {\n                normalizedTokenToOriginal[stemmedToken] = new Set();\n            }\n            normalizedTokenToOriginal[stemmedToken].add(token);\n            if (!(stemmedToken in reverseIndex)) {\n                reverseIndex[stemmedToken] = new Set();\n            }\n            reverseIndex[stemmedToken].add(internalDocument);\n        });\n    });\n    const tokenSet = Object.keys(reverseIndex);\n    const query = (searchQuery) => {\n        const searchResult = {\n            results: [],\n            matchedQueryTerms: [],\n        };\n        const normalizedSearchQuery = new Set(tokenize(searchQuery).map((token) => (0,stemmer__WEBPACK_IMPORTED_MODULE_1__.stemmer)(token)));\n        if (normalizedSearchQuery.size === 0) {\n            return searchResult;\n        }\n        const results = new Map();\n        const matchedTokens = new Set();\n        normalizedSearchQuery.forEach((searchToken) => {\n            tokenSet.forEach((token) => {\n                const { similarity } = damerau_levenshtein__WEBPACK_IMPORTED_MODULE_0___default()(searchToken, token);\n                const matchesSearchToken = token === searchToken;\n                const isSimilar = similarity >= 1 - options.fuzzyMatchSensitivity;\n                if (matchesSearchToken || isSimilar) {\n                    const documentMatches = reverseIndex[token];\n                    const idf = inverseDocumentFrequency(documents.length, documentMatches.size);\n                    documentMatches.forEach((document) => {\n                        var _a;\n                        const currentScore = (_a = results.get(document.id)) !== null && _a !== void 0 ? _a : 0;\n                        const scoreForExactMatch = matchesSearchToken\n                            ? options.scoreForExactMatch\n                            : 0;\n                        const scoreForSimilarity = isSimilar\n                            ? options.scoreForSimilarMatch\n                            : 0;\n                        const score = scoreForExactMatch + scoreForSimilarity;\n                        const scoreForToken = score * idf;\n                        results.set(document.id, currentScore + scoreForToken);\n                    });\n                    normalizedTokenToOriginal[token].forEach((originalToken) => {\n                        matchedTokens.add(originalToken);\n                    });\n                }\n            });\n        });\n        const orderedResults = [...results]\n            .sort((match1, match2) => {\n            return match2[1] - match1[1];\n        })\n            .map((match) => documents[match[0]]);\n        searchResult.results = orderedResults;\n        searchResult.matchedQueryTerms = [...matchedTokens];\n        return searchResult;\n    };\n    return {\n        query,\n    };\n};\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/utils/search-service.ts?");

/***/ }),

/***/ "./src/scripts/utils/strings.ts":
/*!**************************************!*\
  !*** ./src/scripts/utils/strings.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"splitByAndKeep\": () => (/* binding */ splitByAndKeep)\n/* harmony export */ });\n/**\n *\n * @param text String to split\n * @param delimiters Single character delimiters.\n */\nfunction splitByAndKeep(text, delimiters) {\n    const splitString = [];\n    let currentToken = [];\n    const delimiterSet = new Set(delimiters);\n    for (const char of text) {\n        if (delimiterSet.has(char)) {\n            if (currentToken.length > 0) {\n                splitString.push(currentToken.join(\"\"));\n            }\n            splitString.push(char);\n            currentToken = [];\n        }\n        else {\n            currentToken.push(char);\n        }\n    }\n    if (currentToken.length > 0) {\n        splitString.push(currentToken.join(\"\"));\n    }\n    return splitString;\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/utils/strings.ts?");

/***/ }),

/***/ "./src/scripts/utils/url-handler.ts":
/*!******************************************!*\
  !*** ./src/scripts/utils/url-handler.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"loadCustomThemeFromUrl\": () => (/* binding */ loadCustomThemeFromUrl)\n/* harmony export */ });\n/* harmony import */ var _misc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _elements_notifications__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../elements/notifications */ \"./src/scripts/elements/notifications.ts\");\n\n\n\nfunction loadCustomThemeFromUrl() {\n    var _a;\n    const getValue = _misc__WEBPACK_IMPORTED_MODULE_0__.findGetParameter(\"customTheme\");\n    if (getValue === null)\n        return;\n    const urlEncoded = getValue.split(\",\");\n    let base64decoded = null;\n    try {\n        base64decoded = JSON.parse((_a = atob(getValue)) !== null && _a !== void 0 ? _a : \"\");\n    }\n    catch (e) {\n        //\n    }\n    let colorArray = [];\n    if (Array.isArray(urlEncoded) && urlEncoded.length === 9) {\n        colorArray = urlEncoded;\n    }\n    else if (Array.isArray(base64decoded) && base64decoded.length === 9) {\n        colorArray = base64decoded;\n    }\n    if (colorArray.length === 0) {\n        return _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Invalid custom theme \", 0);\n    }\n    const oldCustomTheme = _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].customTheme;\n    const oldCustomThemeColors = _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].customThemeColors;\n    try {\n        _config__WEBPACK_IMPORTED_MODULE_1__.setCustomThemeColors(colorArray);\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Custom theme applied\", 1);\n        if (!_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].customTheme)\n            _config__WEBPACK_IMPORTED_MODULE_1__.setCustomTheme(true);\n    }\n    catch (e) {\n        _elements_notifications__WEBPACK_IMPORTED_MODULE_2__.add(\"Something went wrong. Reverting to previous state.\", 0);\n        console.error(e);\n        _config__WEBPACK_IMPORTED_MODULE_1__.setCustomTheme(oldCustomTheme);\n        _config__WEBPACK_IMPORTED_MODULE_1__.setCustomThemeColors(oldCustomThemeColors);\n    }\n}\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/utils/url-handler.ts?");

/***/ }),

/***/ "./src/scripts/version.ts":
/*!********************************!*\
  !*** ./src/scripts/version.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CLIENT_VERSION\": () => (/* binding */ CLIENT_VERSION)\n/* harmony export */ });\nconst CLIENT_VERSION = \"DEVELOPMENT-CLIENT\";\n$(document.body).on(\"click\", \".version\", (e) => {\n    if (e.shiftKey) {\n        alert(CLIENT_VERSION);\n    }\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/version.ts?");

/***/ }),

/***/ "./src/scripts/controllers/chart-controller.js":
/*!*****************************************************!*\
  !*** ./src/scripts/controllers/chart-controller.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"result\": () => (/* binding */ result),\n/* harmony export */   \"accountHistoryActiveIndex\": () => (/* binding */ accountHistoryActiveIndex),\n/* harmony export */   \"accountHistory\": () => (/* binding */ accountHistory),\n/* harmony export */   \"accountActivity\": () => (/* binding */ accountActivity),\n/* harmony export */   \"miniResult\": () => (/* binding */ miniResult),\n/* harmony export */   \"updateColors\": () => (/* binding */ updateColors),\n/* harmony export */   \"setDefaultFontFamily\": () => (/* binding */ setDefaultFontFamily),\n/* harmony export */   \"updateAllChartColors\": () => (/* binding */ updateAllChartColors)\n/* harmony export */ });\n/* harmony import */ var chart_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! chart.js */ \"./node_modules/chart.js/dist/Chart.js\");\n/* harmony import */ var chart_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(chart_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _test_test_input__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../test/test-input */ \"./src/scripts/test/test-input.ts\");\n/* harmony import */ var _elements_theme_colors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../elements/theme-colors */ \"./src/scripts/elements/theme-colors.ts\");\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/misc */ \"./src/scripts/utils/misc.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../config */ \"./src/scripts/config.ts\");\n/* harmony import */ var _observables_config_event__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../observables/config-event */ \"./src/scripts/observables/config-event.ts\");\n/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! date-fns */ \"./node_modules/date-fns/esm/format/index.js\");\n\n\n\n\n\n\n\n\n(chart_js__WEBPACK_IMPORTED_MODULE_0___default().defaults.global.animation.duration) = 250;\n\nlet result = new (chart_js__WEBPACK_IMPORTED_MODULE_0___default())($(\"#wpmChart\"), {\n  type: \"line\",\n  data: {\n    labels: [],\n    datasets: [\n      {\n        label: \"wpm\",\n        data: [],\n        borderColor: \"rgba(125, 125, 125, 1)\",\n        borderWidth: 2,\n        yAxisID: \"wpm\",\n        order: 2,\n        radius: 2,\n      },\n      {\n        label: \"raw\",\n        data: [],\n        borderColor: \"rgba(125, 125, 125, 1)\",\n        borderWidth: 2,\n        yAxisID: \"raw\",\n        order: 3,\n        radius: 2,\n      },\n      {\n        label: \"errors\",\n        data: [],\n        borderColor: \"rgba(255, 125, 125, 1)\",\n        pointBackgroundColor: \"rgba(255, 125, 125, 1)\",\n        borderWidth: 2,\n        order: 1,\n        yAxisID: \"error\",\n        maxBarThickness: 10,\n        type: \"scatter\",\n        pointStyle: \"crossRot\",\n        radius: function (context) {\n          let index = context.dataIndex;\n          let value = context.dataset.data[index];\n          return value <= 0 ? 0 : 3;\n        },\n        pointHoverRadius: function (context) {\n          let index = context.dataIndex;\n          let value = context.dataset.data[index];\n          return value <= 0 ? 0 : 5;\n        },\n      },\n    ],\n  },\n  options: {\n    tooltips: {\n      mode: \"index\",\n      intersect: false,\n      callbacks: {\n        afterLabel: function (ti) {\n          try {\n            $(\".wordInputAfter\").remove();\n\n            let wordsToHighlight =\n              _test_test_input__WEBPACK_IMPORTED_MODULE_1__.keypressPerSecond[parseInt(ti.xLabel) - 1].words;\n\n            let unique = [...new Set(wordsToHighlight)];\n            unique.forEach((wordIndex) => {\n              let wordEl = $($(\"#resultWordsHistory .words .word\")[wordIndex]);\n              let input = wordEl.attr(\"input\");\n              if (input != undefined) {\n                wordEl.append(\n                  `<div class=\"wordInputAfter\">${input\n                    .replace(/\\t/g, \"_\")\n                    .replace(/\\n/g, \"_\")\n                    .replace(/</g, \"&lt\")\n                    .replace(/>/g, \"&gt\")}</div>`\n                );\n              }\n            });\n          } catch {}\n        },\n      },\n    },\n    legend: {\n      display: false,\n      labels: {},\n    },\n    responsive: true,\n    maintainAspectRatio: false,\n    scales: {\n      xAxes: [\n        {\n          ticks: {\n            autoSkip: true,\n            autoSkipPadding: 40,\n          },\n          display: true,\n          scaleLabel: {\n            display: false,\n            labelString: \"Seconds\",\n          },\n        },\n      ],\n      yAxes: [\n        {\n          id: \"wpm\",\n          display: true,\n          scaleLabel: {\n            display: true,\n            labelString: \"Words per Minute\",\n          },\n          ticks: {\n            beginAtZero: true,\n            min: 0,\n            autoSkip: true,\n            autoSkipPadding: 40,\n          },\n          gridLines: {\n            display: true,\n          },\n        },\n        {\n          id: \"raw\",\n          display: false,\n          scaleLabel: {\n            display: true,\n            labelString: \"Raw Words per Minute\",\n          },\n          ticks: {\n            beginAtZero: true,\n            min: 0,\n            autoSkip: true,\n            autoSkipPadding: 40,\n          },\n          gridLines: {\n            display: false,\n          },\n        },\n        {\n          id: \"error\",\n          display: true,\n          position: \"right\",\n          scaleLabel: {\n            display: true,\n            labelString: \"Errors\",\n          },\n          ticks: {\n            precision: 0,\n            beginAtZero: true,\n            autoSkip: true,\n            autoSkipPadding: 40,\n          },\n          gridLines: {\n            display: false,\n          },\n        },\n      ],\n    },\n    annotation: {\n      annotations: [],\n    },\n  },\n});\n\nlet accountHistoryActiveIndex;\n\nlet accountHistory = new (chart_js__WEBPACK_IMPORTED_MODULE_0___default())($(\".pageAccount #accountHistoryChart\"), {\n  type: \"line\",\n  data: {\n    datasets: [\n      {\n        yAxisID: \"wpm\",\n        label: \"wpm\",\n        fill: false,\n        data: [],\n        borderColor: \"#f44336\",\n        borderWidth: 2,\n        trendlineLinear: {\n          style: \"rgba(255,105,180, .8)\",\n          lineStyle: \"dotted\",\n          width: 4,\n        },\n      },\n      {\n        yAxisID: \"acc\",\n        label: \"acc\",\n        fill: false,\n        data: [],\n        borderColor: \"#cccccc\",\n        borderWidth: 2,\n      },\n    ],\n  },\n  options: {\n    tooltips: {\n      // Disable the on-canvas tooltip\n      enabled: true,\n      intersect: false,\n      custom: function (tooltip) {\n        if (!tooltip) return;\n        // disable displaying the color box;\n        tooltip.displayColors = false;\n      },\n      callbacks: {\n        // HERE YOU CUSTOMIZE THE LABELS\n        title: function () {\n          return;\n        },\n        beforeLabel: function (tooltipItem, data) {\n          let resultData =\n            data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];\n          if (tooltipItem.datasetIndex !== 0) {\n            return `error rate: ${_utils_misc__WEBPACK_IMPORTED_MODULE_3__.roundTo2(\n              resultData.errorRate\n            )}%\\nacc: ${_utils_misc__WEBPACK_IMPORTED_MODULE_3__.roundTo2(100 - resultData.errorRate)}%`;\n          }\n          let label =\n            `${_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].alwaysShowCPM ? \"cpm\" : \"wpm\"}: ${resultData.wpm}` +\n            \"\\n\" +\n            `raw: ${resultData.raw}` +\n            \"\\n\" +\n            `acc: ${resultData.acc}` +\n            \"\\n\\n\" +\n            `mode: ${resultData.mode} `;\n\n          if (resultData.mode == \"time\") {\n            label += resultData.mode2;\n          } else if (resultData.mode == \"words\") {\n            label += resultData.mode2;\n          }\n\n          let diff = resultData.difficulty;\n          if (diff == undefined) {\n            diff = \"normal\";\n          }\n          label += \"\\n\" + `difficulty: ${diff}`;\n\n          label +=\n            \"\\n\" +\n            `punctuation: ${resultData.punctuation}` +\n            \"\\n\" +\n            `language: ${resultData.language}` +\n            \"\\n\\n\" +\n            `date: ${(0,date_fns__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(\n              new Date(resultData.timestamp),\n              \"dd MMM yyyy HH:mm\"\n            )}`;\n\n          return label;\n        },\n        label: function () {\n          return;\n        },\n        afterLabel: function (tooltip) {\n          accountHistoryActiveIndex = tooltip.index;\n          return;\n        },\n      },\n    },\n    legend: {\n      display: false,\n      labels: {\n        fontColor: \"#ffffff\",\n      },\n    },\n    responsive: true,\n    maintainAspectRatio: false,\n    hover: {\n      mode: \"nearest\",\n      intersect: false,\n    },\n    scales: {\n      xAxes: [\n        {\n          ticks: {},\n          type: \"time\",\n          bounds: \"ticks\",\n          distribution: \"series\",\n          display: false,\n          offset: true,\n          scaleLabel: {\n            display: false,\n            labelString: \"Date\",\n          },\n        },\n      ],\n      yAxes: [\n        {\n          id: \"wpm\",\n          ticks: {\n            beginAtZero: true,\n            min: 0,\n            stepSize: 10,\n          },\n          display: true,\n          scaleLabel: {\n            display: true,\n            labelString: \"Words per Minute\",\n          },\n        },\n        {\n          id: \"acc\",\n          ticks: {\n            beginAtZero: true,\n            max: 100,\n          },\n          display: true,\n          position: \"right\",\n          scaleLabel: {\n            display: true,\n            labelString: \"Error rate (100 - accuracy)\",\n          },\n          gridLines: {\n            display: false,\n          },\n        },\n      ],\n    },\n  },\n});\n\nlet accountActivity = new (chart_js__WEBPACK_IMPORTED_MODULE_0___default())(\n  $(\".pageAccount #accountActivityChart\"),\n  {\n    type: \"bar\",\n    data: {\n      datasets: [\n        {\n          yAxisID: \"count\",\n          label: \"Seconds\",\n          data: [],\n          trendlineLinear: {\n            style: \"rgba(255,105,180, .8)\",\n            lineStyle: \"dotted\",\n            width: 2,\n          },\n          order: 3,\n        },\n        {\n          yAxisID: \"avgWpm\",\n          label: \"Average Wpm\",\n          data: [],\n          type: \"line\",\n          order: 2,\n          lineTension: 0,\n          fill: false,\n        },\n      ],\n    },\n    options: {\n      tooltips: {\n        callbacks: {\n          // HERE YOU CUSTOMIZE THE LABELS\n          title: function (tooltipItem, data) {\n            let resultData =\n              data.datasets[tooltipItem[0].datasetIndex].data[\n                tooltipItem[0].index\n              ];\n            return (0,date_fns__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(new Date(resultData.x), \"dd MMM yyyy\");\n          },\n          beforeLabel: function (tooltipItem, data) {\n            let resultData =\n              data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];\n            if (tooltipItem.datasetIndex === 0) {\n              return `Time Typing: ${_utils_misc__WEBPACK_IMPORTED_MODULE_3__.secondsToString(\n                Math.round(resultData.y),\n                true,\n                true\n              )}\\nTests Completed: ${resultData.amount}`;\n            } else if (tooltipItem.datasetIndex === 1) {\n              return `Average ${\n                _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].alwaysShowCPM ? \"Cpm\" : \"Wpm\"\n              }: ${_utils_misc__WEBPACK_IMPORTED_MODULE_3__.roundTo2(resultData.y)}`;\n            }\n          },\n          label: function () {\n            return;\n          },\n        },\n      },\n      legend: {\n        display: false,\n        labels: {\n          fontColor: \"#ffffff\",\n        },\n      },\n      responsive: true,\n      maintainAspectRatio: false,\n      hover: {\n        mode: \"nearest\",\n        intersect: false,\n      },\n      scales: {\n        xAxes: [\n          {\n            ticks: {\n              autoSkip: true,\n              autoSkipPadding: 40,\n            },\n            type: \"time\",\n            time: {\n              unit: \"day\",\n              displayFormats: {\n                day: \"D MMM\",\n              },\n            },\n            bounds: \"ticks\",\n            distribution: \"linear\",\n            display: true,\n            scaleLabel: {\n              display: false,\n              labelString: \"Date\",\n            },\n            offset: true,\n          },\n        ],\n        yAxes: [\n          {\n            id: \"count\",\n            ticks: {\n              beginAtZero: true,\n              min: 0,\n              autoSkip: true,\n              autoSkipPadding: 40,\n              stepSize: 10,\n            },\n            display: true,\n            scaleLabel: {\n              display: true,\n              labelString: \"Time Typing\",\n            },\n          },\n          {\n            id: \"avgWpm\",\n            ticks: {\n              beginAtZero: true,\n              min: 0,\n              autoSkip: true,\n              autoSkipPadding: 40,\n              stepSize: 10,\n            },\n            display: true,\n            position: \"right\",\n            scaleLabel: {\n              display: true,\n              labelString: \"Average Wpm\",\n            },\n            gridLines: {\n              display: false,\n            },\n          },\n        ],\n      },\n    },\n  }\n);\n\nlet miniResult = new (chart_js__WEBPACK_IMPORTED_MODULE_0___default())($(\".pageAccount #miniResultChart\"), {\n  type: \"line\",\n  data: {\n    labels: [],\n    datasets: [\n      {\n        label: \"wpm\",\n        data: [],\n        borderColor: \"rgba(125, 125, 125, 1)\",\n        borderWidth: 2,\n        yAxisID: \"wpm\",\n        order: 2,\n        radius: 2,\n      },\n      {\n        label: \"raw\",\n        data: [],\n        borderColor: \"rgba(125, 125, 125, 1)\",\n        borderWidth: 2,\n        yAxisID: \"raw\",\n        order: 3,\n        radius: 2,\n      },\n      {\n        label: \"errors\",\n        data: [],\n        borderColor: \"rgba(255, 125, 125, 1)\",\n        pointBackgroundColor: \"rgba(255, 125, 125, 1)\",\n        borderWidth: 2,\n        order: 1,\n        yAxisID: \"error\",\n        maxBarThickness: 10,\n        type: \"scatter\",\n        pointStyle: \"crossRot\",\n        radius: function (context) {\n          let index = context.dataIndex;\n          let value = context.dataset.data[index];\n          return value <= 0 ? 0 : 3;\n        },\n        pointHoverRadius: function (context) {\n          let index = context.dataIndex;\n          let value = context.dataset.data[index];\n          return value <= 0 ? 0 : 5;\n        },\n      },\n    ],\n  },\n  options: {\n    tooltips: {\n      mode: \"index\",\n      intersect: false,\n    },\n    legend: {\n      display: false,\n      labels: {},\n    },\n    responsive: true,\n    maintainAspectRatio: false,\n    scales: {\n      xAxes: [\n        {\n          ticks: {\n            autoSkip: true,\n            autoSkipPadding: 40,\n          },\n          display: true,\n          scaleLabel: {\n            display: false,\n            labelString: \"Seconds\",\n          },\n        },\n      ],\n      yAxes: [\n        {\n          id: \"wpm\",\n          display: true,\n          scaleLabel: {\n            display: true,\n            labelString: \"Words per Minute\",\n          },\n          ticks: {\n            beginAtZero: true,\n            min: 0,\n            autoSkip: true,\n            autoSkipPadding: 40,\n          },\n          gridLines: {\n            display: true,\n          },\n        },\n        {\n          id: \"raw\",\n          display: false,\n          scaleLabel: {\n            display: true,\n            labelString: \"Raw Words per Minute\",\n          },\n          ticks: {\n            beginAtZero: true,\n            min: 0,\n            autoSkip: true,\n            autoSkipPadding: 40,\n          },\n          gridLines: {\n            display: false,\n          },\n        },\n        {\n          id: \"error\",\n          display: true,\n          position: \"right\",\n          scaleLabel: {\n            display: true,\n            labelString: \"Errors\",\n          },\n          ticks: {\n            precision: 0,\n            beginAtZero: true,\n            autoSkip: true,\n            autoSkipPadding: 40,\n          },\n          gridLines: {\n            display: false,\n          },\n        },\n      ],\n    },\n    annotation: {\n      annotations: [\n        {\n          enabled: false,\n          type: \"line\",\n          mode: \"horizontal\",\n          scaleID: \"wpm\",\n          value: \"-30\",\n          borderColor: \"red\",\n          borderWidth: 1,\n          borderDash: [2, 2],\n          label: {\n            // Background color of label, default below\n            backgroundColor: \"blue\",\n\n            // Font size of text, inherits from global\n            fontSize: 11,\n\n            // Font style of text, default below\n            fontStyle: \"normal\",\n\n            // Font color of text, default below\n            fontColor: \"#fff\",\n\n            // Padding of label to add left/right, default below\n            xPadding: 6,\n\n            // Padding of label to add top/bottom, default below\n            yPadding: 6,\n\n            // Radius of label rectangle, default below\n            cornerRadius: 3,\n\n            // Anchor position of label on line, can be one of: top, bottom, left, right, center. Default below.\n            position: \"center\",\n\n            // Whether the label is enabled and should be displayed\n            enabled: true,\n\n            // Text to display in label - default is null. Provide an array to display values on a new line\n            content: \"PB\",\n          },\n        },\n      ],\n    },\n  },\n});\n\nfunction updateAccuracy() {\n  accountHistory.data.datasets[1].hidden = !_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].chartAccuracy;\n  accountHistory.options.scales.yAxes[1].display = _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].chartAccuracy;\n  accountHistory.update();\n}\n\nfunction updateStyle() {\n  if (_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].chartStyle == \"scatter\") {\n    accountHistory.data.datasets[0].showLine = false;\n    accountHistory.data.datasets[1].showLine = false;\n  } else {\n    accountHistory.data.datasets[0].showLine = true;\n    accountHistory.data.datasets[1].showLine = true;\n  }\n  accountHistory.update();\n}\n\nasync function updateColors(chart) {\n  let bgcolor = await _elements_theme_colors__WEBPACK_IMPORTED_MODULE_2__.get(\"bg\");\n  let subcolor = await _elements_theme_colors__WEBPACK_IMPORTED_MODULE_2__.get(\"sub\");\n  let maincolor = await _elements_theme_colors__WEBPACK_IMPORTED_MODULE_2__.get(\"main\");\n  let errorcolor = await _elements_theme_colors__WEBPACK_IMPORTED_MODULE_2__.get(\"error\");\n\n  chart.data.datasets[0].borderColor = maincolor;\n  chart.data.datasets[1].borderColor = subcolor;\n  if (chart.data.datasets[2]) {\n    chart.data.datasets[2].borderColor = errorcolor;\n  }\n\n  if (chart.data.datasets[0].type === undefined) {\n    if (chart.config.type === \"line\") {\n      chart.data.datasets[0].pointBackgroundColor = maincolor;\n    } else if (chart.config.type === \"bar\") {\n      chart.data.datasets[0].backgroundColor = maincolor;\n    }\n  } else if (chart.data.datasets[0].type === \"bar\") {\n    chart.data.datasets[0].backgroundColor = maincolor;\n  } else if (chart.data.datasets[0].type === \"line\") {\n    chart.data.datasets[0].pointBackgroundColor = maincolor;\n  }\n\n  if (chart.data.datasets[1].type === undefined) {\n    if (chart.config.type === \"line\") {\n      chart.data.datasets[1].pointBackgroundColor = subcolor;\n    } else if (chart.config.type === \"bar\") {\n      chart.data.datasets[1].backgroundColor = subcolor;\n    }\n  } else if (chart.data.datasets[1].type === \"bar\") {\n    chart.data.datasets[1].backgroundColor = subcolor;\n  } else if (chart.data.datasets[1].type === \"line\") {\n    chart.data.datasets[1].pointBackgroundColor = subcolor;\n  }\n\n  try {\n    chart.options.scales.xAxes[0].ticks.minor.fontColor = subcolor;\n    chart.options.scales.xAxes[0].scaleLabel.fontColor = subcolor;\n  } catch {}\n\n  try {\n    chart.options.scales.yAxes[0].ticks.minor.fontColor = subcolor;\n    chart.options.scales.yAxes[0].scaleLabel.fontColor = subcolor;\n  } catch {}\n\n  try {\n    chart.options.scales.yAxes[1].ticks.minor.fontColor = subcolor;\n    chart.options.scales.yAxes[1].scaleLabel.fontColor = subcolor;\n  } catch {}\n\n  try {\n    chart.options.scales.yAxes[2].ticks.minor.fontColor = subcolor;\n    chart.options.scales.yAxes[2].scaleLabel.fontColor = subcolor;\n  } catch {}\n\n  try {\n    chart.data.datasets[0].trendlineLinear.style = subcolor;\n    chart.data.datasets[1].trendlineLinear.style = subcolor;\n  } catch {}\n\n  try {\n    chart.options.annotation.annotations.forEach((annotation) => {\n      annotation.borderColor = subcolor;\n      annotation.label.backgroundColor = subcolor;\n      annotation.label.fontColor = bgcolor;\n    });\n  } catch {}\n\n  // ChartController.result.options.annotation.annotations.push({\n  //   enabled: false,\n  //   type: \"line\",\n  //   mode: \"horizontal\",\n  //   scaleID: \"wpm\",\n  //   value: lpb,\n  //   borderColor: themecolors['sub'],\n  //   borderWidth: 1,\n  //   borderDash: [2, 2],\n  //   label: {\n  //     backgroundColor: themecolors['sub'],\n  //     fontFamily: Config.fontFamily.replace(/_/g, \" \"),\n  //     fontSize: 11,\n  //     fontStyle: \"normal\",\n  //     fontColor: themecolors['bg'],\n  //     xPadding: 6,\n  //     yPadding: 6,\n  //     cornerRadius: 3,\n  //     position: \"center\",\n  //     enabled: true,\n  //     content: `PB: ${lpb}`,\n  //   },\n  // });\n\n  chart.update();\n}\n\n(chart_js__WEBPACK_IMPORTED_MODULE_0___default().prototype.updateColors) = function () {\n  updateColors(this);\n};\n\nfunction setDefaultFontFamily(font) {\n  (chart_js__WEBPACK_IMPORTED_MODULE_0___default().defaults.global.defaultFontFamily) = font.replace(/_/g, \" \");\n}\n\nfunction updateAllChartColors() {\n  _elements_theme_colors__WEBPACK_IMPORTED_MODULE_2__.update();\n  accountHistory.updateColors();\n  result.updateColors();\n  accountActivity.updateColors();\n  miniResult.updateColors();\n}\n\n_observables_config_event__WEBPACK_IMPORTED_MODULE_5__.subscribe((eventKey, eventValue) => {\n  if (eventKey === \"chartAccuracy\") updateAccuracy();\n  if (eventKey === \"chartStyle\") updateStyle();\n  if (eventKey === \"fontFamily\") setDefaultFontFamily(eventValue);\n});\n\n\n//# sourceURL=webpack://monkeytype-frontend/./src/scripts/controllers/chart-controller.js?");

/***/ }),

/***/ "?8131":
/*!************************!*\
  !*** buffer (ignored) ***!
  \************************/
/***/ (() => {

eval("/* (ignored) */\n\n//# sourceURL=webpack://monkeytype-frontend/buffer_(ignored)?");

/***/ }),

/***/ "?3fc0":
/*!************************!*\
  !*** crypto (ignored) ***!
  \************************/
/***/ (() => {

eval("/* (ignored) */\n\n//# sourceURL=webpack://monkeytype-frontend/crypto_(ignored)?");

/***/ }),

/***/ "?cad2":
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/***/ (() => {

eval("/* (ignored) */\n\n//# sourceURL=webpack://monkeytype-frontend/util_(ignored)?");

/***/ }),

/***/ "?593c":
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/***/ (() => {

eval("/* (ignored) */\n\n//# sourceURL=webpack://monkeytype-frontend/util_(ignored)?");

/***/ }),

/***/ "?802b":
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/***/ (() => {

eval("/* (ignored) */\n\n//# sourceURL=webpack://monkeytype-frontend/util_(ignored)?");

/***/ }),

/***/ "?1e44":
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/***/ (() => {

eval("/* (ignored) */\n\n//# sourceURL=webpack://monkeytype-frontend/util_(ignored)?");

/***/ }),

/***/ "?3e83":
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/***/ (() => {

eval("/* (ignored) */\n\n//# sourceURL=webpack://monkeytype-frontend/util_(ignored)?");

/***/ }),

/***/ "?19e6":
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/***/ (() => {

eval("/* (ignored) */\n\n//# sourceURL=webpack://monkeytype-frontend/util_(ignored)?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	(() => {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = (result, chunkIds, fn, priority) => {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var [chunkIds, fn, priority] = deferred[i];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"monkeytype": 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some((id) => (installedChunks[id] !== 0))) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 			return __webpack_require__.O(result);
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunkmonkeytype_frontend"] = self["webpackChunkmonkeytype_frontend"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module depends on other loaded chunks and execution need to be delayed
/******/ 	var __webpack_exports__ = __webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/scripts/index.ts")))
/******/ 	__webpack_exports__ = __webpack_require__.O(__webpack_exports__);
/******/ 	
/******/ })()
;